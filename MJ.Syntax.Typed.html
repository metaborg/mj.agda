<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>MJ.Syntax.Typed</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="MJ.Types.html" class="Module">MJ.Types</a>
<a id="22" class="Keyword">import</a> <a id="29" href="MJ.Classtable.Core.html" class="Module">MJ.Classtable.Core</a> <a id="48" class="Symbol">as</a> <a id="51" class="Module">Core</a>

<a id="57" class="Keyword">module</a> <a id="64" href="MJ.Syntax.Typed.html" class="Module">MJ.Syntax.Typed</a> <a id="80" class="Symbol">{</a><a id="81" href="MJ.Syntax.Typed.html#81" class="Bound">c</a><a id="82" class="Symbol">}(</a><a id="84" href="MJ.Syntax.Typed.html#84" class="Bound">Ct</a> <a id="87" class="Symbol">:</a> <a id="89" href="MJ.Classtable.Core.html#Classtable" class="Record">Core.Classtable</a> <a id="105" href="MJ.Syntax.Typed.html#81" class="Bound">c</a><a id="106" class="Symbol">)</a> <a id="108" class="Keyword">where</a>

<a id="115" class="Keyword">open</a> <a id="120" class="Keyword">import</a> <a id="127" href="Prelude.html" class="Module">Prelude</a> <a id="135" class="Keyword">hiding</a> <a id="142" class="Symbol">(</a><a id="143" href="Data.Nat.Base.html#erase" class="Function">erase</a><a id="148" class="Symbol">)</a>
<a id="150" class="Keyword">open</a> <a id="155" class="Keyword">import</a> <a id="162" href="Data.Maybe.html" class="Module">Data.Maybe</a> <a id="173" class="Symbol">as</a> <a id="176" class="Module">Maybe</a> <a id="182" class="Keyword">using</a> <a id="188" class="Symbol">(</a><a id="189" href="Data.Maybe.Base.html#Maybe" class="Datatype">Maybe</a><a id="194" class="Symbol">;</a> <a id="196" href="Data.Maybe.html#Eq.just" class="InductiveConstructor">just</a><a id="200" class="Symbol">;</a> <a id="202" href="Data.Maybe.html#Eq.nothing" class="InductiveConstructor">nothing</a><a id="209" class="Symbol">)</a>
<a id="211" class="Keyword">open</a> <a id="216" class="Keyword">import</a> <a id="223" href="Data.Maybe.All.html" class="Module">Data.Maybe.All</a> <a id="238" class="Symbol">as</a> <a id="241" class="Module">MayAll</a>
<a id="248" class="Keyword">open</a> <a id="253" class="Keyword">import</a> <a id="260" href="Data.Vec.html" class="Module">Data.Vec</a> <a id="269" class="Symbol">as</a> <a id="272" class="Module">Vec</a> <a id="276" class="Keyword">hiding</a> <a id="283" class="Symbol">(</a><a id="284" href="Data.Vec.html#_%E2%88%88_" class="Datatype Operator">_∈_</a><a id="287" class="Symbol">)</a>
<a id="289" class="Keyword">open</a> <a id="294" class="Keyword">import</a> <a id="301" href="Data.Star.html" class="Module">Data.Star</a> <a id="311" class="Symbol">as</a> <a id="314" class="Module">Star</a>
<a id="319" class="Keyword">open</a> <a id="324" class="Keyword">import</a> <a id="331" href="Data.List.Most.html" class="Module">Data.List.Most</a> <a id="346" class="Symbol">as</a> <a id="349" class="Module">List</a>
<a id="354" class="Keyword">open</a> <a id="359" class="Keyword">import</a> <a id="366" href="Data.List.Properties.Extra.html" class="Module">Data.List.Properties.Extra</a> <a id="393" class="Symbol">as</a> <a id="396" class="Module">List+</a>
<a id="402" class="Keyword">open</a> <a id="407" class="Keyword">import</a> <a id="414" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
<a id="452" class="Keyword">open</a> <a id="457" class="Keyword">import</a> <a id="464" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a>
<a id="491" class="Keyword">open</a> <a id="496" class="Keyword">import</a> <a id="503" href="Data.String.html" class="Module">Data.String</a>

<a id="516" class="Keyword">import</a> <a id="523" href="Data.Vec.All.html" class="Module">Data.Vec.All</a> <a id="536" class="Symbol">as</a> <a id="539" class="Module">Vec∀</a>

<a id="545" class="Keyword">open</a> <a id="550" href="MJ.Classtable.Core.html" class="Module">Core</a> <a id="555" href="MJ.Syntax.Typed.html#81" class="Bound">c</a>
<a id="557" class="Keyword">open</a> <a id="562" href="MJ.Classtable.Core.html#Classtable" class="Module">Classtable</a> <a id="573" href="MJ.Syntax.Typed.html#84" class="Bound">Ct</a>
<a id="576" class="Keyword">open</a> <a id="581" class="Keyword">import</a> <a id="588" href="MJ.Classtable.Membership.html" class="Module">MJ.Classtable.Membership</a> <a id="613" href="MJ.Syntax.Typed.html#84" class="Bound">Ct</a>
<a id="616" class="Keyword">open</a> <a id="621" class="Keyword">import</a> <a id="628" href="MJ.LexicalScope.html" class="Module">MJ.LexicalScope</a> <a id="644" href="MJ.Syntax.Typed.html#81" class="Bound">c</a>

<a id="NativeBinOp" href="MJ.Syntax.Typed.html#NativeBinOp" class="Function">NativeBinOp</a> <a id="659" class="Symbol">=</a> <a id="661" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="663" class="Symbol">→</a> <a id="665" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="667" class="Symbol">→</a> <a id="669" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a>

<a id="672" class="Comment">{-
Expressions are indexed by a lexical context and a type.

MJ has n-ary calls for which we use All to express that an expression (of the
right type) is expected for every formal argument of the method signature.

In this nameless representation AccMember type is used to identify accessible
fields and methods on a particular class.
Here we exploit that AccMember is defined via a decision procedure: Agda
will be able to infer the membership proofs if they exist.
-}</a>
<a id="1142" class="Keyword">data</a> <a id="Expr" href="MJ.Syntax.Typed.html#Expr" class="Datatype">Expr</a> <a id="1152" class="Symbol">(</a><a id="1153" href="MJ.Syntax.Typed.html#1153" class="Bound">Γ</a> <a id="1155" class="Symbol">:</a> <a id="1157" href="MJ.LexicalScope.html#206" class="Function">Ctx</a><a id="1160" class="Symbol">)</a> <a id="1162" class="Symbol">:</a> <a id="1164" href="MJ.Types.html#Ty" class="Datatype">Ty</a> <a id="1167" href="MJ.Syntax.Typed.html#81" class="Bound">c</a> <a id="1169" class="Symbol">→</a> <a id="1171" class="PrimitiveType">Set</a> <a id="1175" class="Keyword">where</a>
  <a id="1183" class="Comment">-- irreducible expressions</a>
  <a id="Expr.unit" href="MJ.Syntax.Typed.html#Expr.unit" class="InductiveConstructor">unit</a>     <a id="1221" class="Symbol">:</a> <a id="1223" href="MJ.Syntax.Typed.html#Expr" class="Datatype">Expr</a> <a id="1228" href="MJ.Syntax.Typed.html#1153" class="Bound">Γ</a> <a id="1230" href="MJ.Types.html#Ty.void" class="InductiveConstructor">void</a>
  <a id="Expr.null" href="MJ.Syntax.Typed.html#Expr.null" class="InductiveConstructor">null</a>     <a id="1246" class="Symbol">:</a> <a id="1248" class="Symbol">∀</a> <a id="1250" class="Symbol">{</a><a id="1251" href="MJ.Syntax.Typed.html#1251" class="Bound">C</a><a id="1252" class="Symbol">}</a> <a id="1254" class="Symbol">→</a> <a id="1256" href="MJ.Syntax.Typed.html#Expr" class="Datatype">Expr</a> <a id="1261" href="MJ.Syntax.Typed.html#1153" class="Bound">Γ</a> <a id="1263" class="Symbol">(</a><a id="1264" href="MJ.Types.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="1268" href="MJ.Syntax.Typed.html#1251" class="Bound">C</a><a id="1269" class="Symbol">)</a>
  <a id="Expr.num" href="MJ.Syntax.Typed.html#Expr.num" class="InductiveConstructor">num</a>      <a id="1282" class="Symbol">:</a> <a id="1284" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="1286" class="Symbol">→</a> <a id="1288" href="MJ.Syntax.Typed.html#Expr" class="Datatype">Expr</a> <a id="1293" href="MJ.Syntax.Typed.html#1153" class="Bound">Γ</a> <a id="1295" href="MJ.Types.html#Ty.int" class="InductiveConstructor">int</a>

  <a id="1302" class="Comment">-- storeless expressions</a>
  <a id="Expr.var" href="MJ.Syntax.Typed.html#Expr.var" class="InductiveConstructor">var</a>      <a id="1338" class="Symbol">:</a> <a id="1340" class="Symbol">∀</a> <a id="1342" class="Symbol">{</a><a id="1343" href="MJ.Syntax.Typed.html#1343" class="Bound">a</a><a id="1344" class="Symbol">}</a> <a id="1346" class="Symbol">→</a> <a id="1348" href="MJ.LexicalScope.html#235" class="Function">Var</a> <a id="1352" href="MJ.Syntax.Typed.html#1153" class="Bound">Γ</a> <a id="1354" href="MJ.Syntax.Typed.html#1343" class="Bound">a</a> <a id="1356" class="Symbol">→</a> <a id="1358" href="MJ.Syntax.Typed.html#Expr" class="Datatype">Expr</a> <a id="1363" href="MJ.Syntax.Typed.html#1153" class="Bound">Γ</a> <a id="1365" href="MJ.Syntax.Typed.html#1343" class="Bound">a</a>
  <a id="Expr.iop" href="MJ.Syntax.Typed.html#Expr.iop" class="InductiveConstructor">iop</a>      <a id="1378" class="Symbol">:</a> <a id="1380" href="MJ.Syntax.Typed.html#NativeBinOp" class="Function">NativeBinOp</a> <a id="1392" class="Symbol">→</a> <a id="1394" class="Symbol">(</a><a id="1395" href="MJ.Syntax.Typed.html#1395" class="Bound">l</a> <a id="1397" href="MJ.Syntax.Typed.html#1397" class="Bound">r</a> <a id="1399" class="Symbol">:</a> <a id="1401" href="MJ.Syntax.Typed.html#Expr" class="Datatype">Expr</a> <a id="1406" href="MJ.Syntax.Typed.html#1153" class="Bound">Γ</a> <a id="1408" href="MJ.Types.html#Ty.int" class="InductiveConstructor">int</a><a id="1411" class="Symbol">)</a> <a id="1413" class="Symbol">→</a> <a id="1415" href="MJ.Syntax.Typed.html#Expr" class="Datatype">Expr</a> <a id="1420" href="MJ.Syntax.Typed.html#1153" class="Bound">Γ</a> <a id="1422" href="MJ.Types.html#Ty.int" class="InductiveConstructor">int</a>
  <a id="Expr.upcast" href="MJ.Syntax.Typed.html#Expr.upcast" class="InductiveConstructor">upcast</a>   <a id="1437" class="Symbol">:</a> <a id="1439" class="Symbol">∀</a> <a id="1441" class="Symbol">{</a><a id="1442" href="MJ.Syntax.Typed.html#1442" class="Bound">c</a> <a id="1444" href="MJ.Syntax.Typed.html#1444" class="Bound">c&#39;</a><a id="1446" class="Symbol">}</a> <a id="1448" class="Symbol">→</a> <a id="1450" href="MJ.Classtable.Core.html#2464" class="Field">Σ</a> <a id="1452" href="MJ.Classtable.Core.html#2074" class="Function Operator">⊢</a> <a id="1454" href="MJ.Syntax.Typed.html#1442" class="Bound">c</a> <a id="1456" href="MJ.Classtable.Core.html#2074" class="Function Operator">&lt;:</a> <a id="1459" href="MJ.Syntax.Typed.html#1444" class="Bound">c&#39;</a> <a id="1462" class="Symbol">→</a> <a id="1464" href="MJ.Syntax.Typed.html#Expr" class="Datatype">Expr</a> <a id="1469" href="MJ.Syntax.Typed.html#1153" class="Bound">Γ</a> <a id="1471" class="Symbol">(</a><a id="1472" href="MJ.Types.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="1476" href="MJ.Syntax.Typed.html#1442" class="Bound">c</a><a id="1477" class="Symbol">)</a> <a id="1479" class="Symbol">→</a> <a id="1481" href="MJ.Syntax.Typed.html#Expr" class="Datatype">Expr</a> <a id="1486" href="MJ.Syntax.Typed.html#1153" class="Bound">Γ</a> <a id="1488" class="Symbol">(</a><a id="1489" href="MJ.Types.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="1493" href="MJ.Syntax.Typed.html#1444" class="Bound">c&#39;</a><a id="1495" class="Symbol">)</a>

  <a id="1500" class="Comment">-- storeful</a>
  <a id="Expr.new" href="MJ.Syntax.Typed.html#Expr.new" class="InductiveConstructor">new</a>      <a id="1523" class="Symbol">:</a> <a id="1525" class="Symbol">∀</a> <a id="1527" href="MJ.Syntax.Typed.html#1527" class="Bound">C</a> <a id="1529" class="Symbol">→</a> <a id="1531" href="Data.List.All.html#All" class="Datatype">All</a> <a id="1535" class="Symbol">(</a><a id="1536" href="MJ.Syntax.Typed.html#Expr" class="Datatype">Expr</a> <a id="1541" href="MJ.Syntax.Typed.html#1153" class="Bound">Γ</a><a id="1542" class="Symbol">)</a> <a id="1544" class="Symbol">(</a><a id="1545" href="MJ.Classtable.Core.html#1458" class="Field">Class.constr</a> <a id="1558" class="Symbol">(</a><a id="1559" href="MJ.Classtable.Core.html#2464" class="Field">Σ</a> <a id="1561" href="MJ.Syntax.Typed.html#1527" class="Bound">C</a><a id="1562" class="Symbol">))</a> <a id="1565" class="Symbol">→</a> <a id="1567" href="MJ.Syntax.Typed.html#Expr" class="Datatype">Expr</a> <a id="1572" href="MJ.Syntax.Typed.html#1153" class="Bound">Γ</a> <a id="1574" class="Symbol">(</a><a id="1575" href="MJ.Types.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="1579" href="MJ.Syntax.Typed.html#1527" class="Bound">C</a><a id="1580" class="Symbol">)</a>
  <a id="Expr.call" href="MJ.Syntax.Typed.html#Expr.call" class="InductiveConstructor">call</a>     <a id="1593" class="Symbol">:</a> <a id="1595" class="Symbol">∀</a> <a id="1597" class="Symbol">{</a><a id="1598" href="MJ.Syntax.Typed.html#1598" class="Bound">cid</a><a id="1601" class="Symbol">}</a> <a id="1603" class="Symbol">→</a>
             <a id="1618" href="MJ.Syntax.Typed.html#Expr" class="Datatype">Expr</a> <a id="1623" href="MJ.Syntax.Typed.html#1153" class="Bound">Γ</a> <a id="1625" class="Symbol">(</a><a id="1626" href="MJ.Types.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="1630" href="MJ.Syntax.Typed.html#1598" class="Bound">cid</a><a id="1633" class="Symbol">)</a> <a id="1635" class="Symbol">→</a> <a id="1637" class="Symbol">∀</a> <a id="1639" href="MJ.Syntax.Typed.html#1639" class="Bound">m</a> <a id="1641" class="Symbol">{</a><a id="1642" href="MJ.Syntax.Typed.html#1642" class="Bound">as</a><a id="1644" class="Symbol">}{</a><a id="1646" href="MJ.Syntax.Typed.html#1646" class="Bound">b</a><a id="1647" class="Symbol">}{</a><a id="1649" href="MJ.Syntax.Typed.html#1649" class="Bound">acc</a> <a id="1653" class="Symbol">:</a> <a id="1655" href="MJ.Classtable.Membership.html#2238" class="Function">AccMember</a> <a id="1665" href="MJ.Syntax.Typed.html#1598" class="Bound">cid</a> <a id="1669" href="MJ.Classtable.Core.html#643" class="InductiveConstructor">METHOD</a> <a id="1676" href="MJ.Syntax.Typed.html#1639" class="Bound">m</a> <a id="1678" class="Symbol">(</a><a id="1679" href="MJ.Syntax.Typed.html#1642" class="Bound">as</a> <a id="1682" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1684" href="MJ.Syntax.Typed.html#1646" class="Bound">b</a><a id="1685" class="Symbol">)}</a> <a id="1688" class="Symbol">→</a> <a id="1690" href="Data.List.All.html#All" class="Datatype">All</a> <a id="1694" class="Symbol">(</a><a id="1695" href="MJ.Syntax.Typed.html#Expr" class="Datatype">Expr</a> <a id="1700" href="MJ.Syntax.Typed.html#1153" class="Bound">Γ</a><a id="1701" class="Symbol">)</a> <a id="1703" href="MJ.Syntax.Typed.html#1642" class="Bound">as</a> <a id="1706" class="Symbol">→</a>
             <a id="1721" href="MJ.Syntax.Typed.html#Expr" class="Datatype">Expr</a> <a id="1726" href="MJ.Syntax.Typed.html#1153" class="Bound">Γ</a> <a id="1728" href="MJ.Syntax.Typed.html#1646" class="Bound">b</a>
  <a id="Expr.get" href="MJ.Syntax.Typed.html#Expr.get" class="InductiveConstructor">get</a>      <a id="1741" class="Symbol">:</a> <a id="1743" class="Symbol">∀</a> <a id="1745" class="Symbol">{</a><a id="1746" href="MJ.Syntax.Typed.html#1746" class="Bound">cid</a><a id="1749" class="Symbol">}</a> <a id="1751" class="Symbol">→</a> <a id="1753" href="MJ.Syntax.Typed.html#Expr" class="Datatype">Expr</a> <a id="1758" href="MJ.Syntax.Typed.html#1153" class="Bound">Γ</a> <a id="1760" class="Symbol">(</a><a id="1761" href="MJ.Types.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="1765" href="MJ.Syntax.Typed.html#1746" class="Bound">cid</a><a id="1768" class="Symbol">)</a> <a id="1770" class="Symbol">→</a> <a id="1772" class="Symbol">∀</a> <a id="1774" href="MJ.Syntax.Typed.html#1774" class="Bound">f</a> <a id="1776" class="Symbol">{</a><a id="1777" href="MJ.Syntax.Typed.html#1777" class="Bound">ty</a><a id="1779" class="Symbol">}{</a><a id="1781" href="MJ.Syntax.Typed.html#1781" class="Bound">acc</a> <a id="1785" class="Symbol">:</a> <a id="1787" href="MJ.Classtable.Membership.html#2238" class="Function">AccMember</a> <a id="1797" href="MJ.Syntax.Typed.html#1746" class="Bound">cid</a> <a id="1801" href="MJ.Classtable.Core.html#657" class="InductiveConstructor">FIELD</a> <a id="1807" href="MJ.Syntax.Typed.html#1774" class="Bound">f</a> <a id="1809" href="MJ.Syntax.Typed.html#1777" class="Bound">ty</a><a id="1811" class="Symbol">}</a> <a id="1813" class="Symbol">→</a> <a id="1815" href="MJ.Syntax.Typed.html#Expr" class="Datatype">Expr</a> <a id="1820" href="MJ.Syntax.Typed.html#1153" class="Bound">Γ</a> <a id="1822" href="MJ.Syntax.Typed.html#1777" class="Bound">ty</a>

<a id="1826" class="Keyword">mutual</a>
  <a id="1835" class="Comment">{-
  Like Java, MJ distinguishes expressions from statements.
  We index the well-typed statement type Stmt
  with both an input and output context to capture that the constructor
  for declaration of locals loc adds to the lexical environment.
  We can interpret the type Stmt as a binary relation on contexts of which we
  can take the reflexive, transitive closure (Star)
  to obtain a datatype for sequenced statements:

  The type r represent the (possibly early) return type of a block of statements.
  -}</a>
  <a id="2349" class="Keyword">infixl</a> <a id="2356" class="Number">20</a> <a id="2359" href="MJ.Syntax.Typed.html#Stmt.if_then_else_" class="InductiveConstructor Operator">if_then_else_</a>
  <a id="2375" class="Keyword">data</a> <a id="Stmt" href="MJ.Syntax.Typed.html#Stmt" class="Datatype">Stmt</a> <a id="2385" class="Symbol">(</a><a id="2386" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a> <a id="2388" class="Symbol">:</a> <a id="2390" href="MJ.LexicalScope.html#206" class="Function">Ctx</a><a id="2393" class="Symbol">)(</a><a id="2395" href="MJ.Syntax.Typed.html#2395" class="Bound">r</a> <a id="2397" class="Symbol">:</a> <a id="2399" href="MJ.Types.html#Ty" class="Datatype">Ty</a> <a id="2402" href="MJ.Syntax.Typed.html#81" class="Bound">c</a><a id="2403" class="Symbol">)</a> <a id="2405" class="Symbol">:</a> <a id="2407" class="Symbol">(</a><a id="2408" href="MJ.Syntax.Typed.html#2408" class="Bound">O</a> <a id="2410" class="Symbol">:</a> <a id="2412" href="MJ.LexicalScope.html#206" class="Function">Ctx</a><a id="2415" class="Symbol">)</a> <a id="2417" class="Symbol">→</a> <a id="2419" class="PrimitiveType">Set</a> <a id="2423" class="Keyword">where</a>
    <a id="Stmt.loc" href="MJ.Syntax.Typed.html#Stmt.loc" class="InductiveConstructor">loc</a>        <a id="2444" class="Symbol">:</a> <a id="2446" class="Symbol">∀</a> <a id="2448" href="MJ.Syntax.Typed.html#2448" class="Bound">a</a> <a id="2450" class="Symbol">→</a> <a id="2452" href="MJ.Syntax.Typed.html#Stmt" class="Datatype">Stmt</a> <a id="2457" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a> <a id="2459" href="MJ.Syntax.Typed.html#2395" class="Bound">r</a> <a id="2461" class="Symbol">(</a><a id="2462" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a> <a id="2464" href="MJ.LexicalScope.html#275" class="Function Operator">+local</a> <a id="2471" href="MJ.Syntax.Typed.html#2448" class="Bound">a</a><a id="2472" class="Symbol">)</a>
    <a id="Stmt.asgn" href="MJ.Syntax.Typed.html#Stmt.asgn" class="InductiveConstructor">asgn</a>       <a id="2489" class="Symbol">:</a> <a id="2491" class="Symbol">∀</a> <a id="2493" class="Symbol">{</a><a id="2494" href="MJ.Syntax.Typed.html#2494" class="Bound">a</a><a id="2495" class="Symbol">}</a> <a id="2497" class="Symbol">→</a> <a id="2499" href="MJ.LexicalScope.html#235" class="Function">Var</a> <a id="2503" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a> <a id="2505" href="MJ.Syntax.Typed.html#2494" class="Bound">a</a> <a id="2507" class="Symbol">→</a> <a id="2509" href="MJ.Syntax.Typed.html#Expr" class="Datatype">Expr</a> <a id="2514" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a> <a id="2516" href="MJ.Syntax.Typed.html#2494" class="Bound">a</a> <a id="2518" class="Symbol">→</a> <a id="2520" href="MJ.Syntax.Typed.html#Stmt" class="Datatype">Stmt</a> <a id="2525" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a> <a id="2527" href="MJ.Syntax.Typed.html#2395" class="Bound">r</a> <a id="2529" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a>
    <a id="Stmt.set" href="MJ.Syntax.Typed.html#Stmt.set" class="InductiveConstructor">set</a>        <a id="2546" class="Symbol">:</a> <a id="2548" class="Symbol">∀</a> <a id="2550" class="Symbol">{</a><a id="2551" href="MJ.Syntax.Typed.html#2551" class="Bound">C</a><a id="2552" class="Symbol">}</a> <a id="2554" class="Symbol">→</a> <a id="2556" href="MJ.Syntax.Typed.html#Expr" class="Datatype">Expr</a> <a id="2561" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a> <a id="2563" class="Symbol">(</a><a id="2564" href="MJ.Types.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="2568" href="MJ.Syntax.Typed.html#2551" class="Bound">C</a><a id="2569" class="Symbol">)</a> <a id="2571" class="Symbol">→</a> <a id="2573" class="Symbol">∀</a> <a id="2575" href="MJ.Syntax.Typed.html#2575" class="Bound">f</a> <a id="2577" class="Symbol">{</a><a id="2578" href="MJ.Syntax.Typed.html#2578" class="Bound">a</a><a id="2579" class="Symbol">}{</a><a id="2581" href="MJ.Syntax.Typed.html#2581" class="Bound">acc</a> <a id="2585" class="Symbol">:</a> <a id="2587" href="MJ.Classtable.Membership.html#2238" class="Function">AccMember</a> <a id="2597" href="MJ.Syntax.Typed.html#2551" class="Bound">C</a> <a id="2599" href="MJ.Classtable.Core.html#657" class="InductiveConstructor">FIELD</a> <a id="2605" href="MJ.Syntax.Typed.html#2575" class="Bound">f</a> <a id="2607" href="MJ.Syntax.Typed.html#2578" class="Bound">a</a><a id="2608" class="Symbol">}</a> <a id="2610" class="Symbol">→</a> <a id="2612" href="MJ.Syntax.Typed.html#Expr" class="Datatype">Expr</a> <a id="2617" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a> <a id="2619" href="MJ.Syntax.Typed.html#2578" class="Bound">a</a> <a id="2621" class="Symbol">→</a> <a id="2623" href="MJ.Syntax.Typed.html#Stmt" class="Datatype">Stmt</a> <a id="2628" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a> <a id="2630" href="MJ.Syntax.Typed.html#2395" class="Bound">r</a> <a id="2632" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a>
    <a id="Stmt.run" href="MJ.Syntax.Typed.html#Stmt.run" class="InductiveConstructor">run</a>        <a id="2649" class="Symbol">:</a> <a id="2651" class="Symbol">∀</a> <a id="2653" class="Symbol">{</a><a id="2654" href="MJ.Syntax.Typed.html#2654" class="Bound">a</a><a id="2655" class="Symbol">}</a> <a id="2657" class="Symbol">→</a> <a id="2659" href="MJ.Syntax.Typed.html#Expr" class="Datatype">Expr</a> <a id="2664" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a> <a id="2666" href="MJ.Syntax.Typed.html#2654" class="Bound">a</a> <a id="2668" class="Symbol">→</a> <a id="2670" href="MJ.Syntax.Typed.html#Stmt" class="Datatype">Stmt</a> <a id="2675" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a> <a id="2677" href="MJ.Syntax.Typed.html#2395" class="Bound">r</a> <a id="2679" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a>
    <a id="Stmt.ret" href="MJ.Syntax.Typed.html#Stmt.ret" class="InductiveConstructor">ret</a>        <a id="2696" class="Symbol">:</a> <a id="2698" href="MJ.Syntax.Typed.html#Expr" class="Datatype">Expr</a> <a id="2703" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a> <a id="2705" href="MJ.Syntax.Typed.html#2395" class="Bound">r</a> <a id="2707" class="Symbol">→</a> <a id="2709" href="MJ.Syntax.Typed.html#Stmt" class="Datatype">Stmt</a> <a id="2714" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a> <a id="2716" href="MJ.Syntax.Typed.html#2395" class="Bound">r</a> <a id="2718" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a>
    <a id="Stmt.raise" href="MJ.Syntax.Typed.html#Stmt.raise" class="InductiveConstructor">raise</a>      <a id="2735" class="Symbol">:</a> <a id="2737" href="MJ.Syntax.Typed.html#Stmt" class="Datatype">Stmt</a> <a id="2742" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a> <a id="2744" href="MJ.Syntax.Typed.html#2395" class="Bound">r</a> <a id="2746" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a>
    <a id="Stmt.try_catch_" href="MJ.Syntax.Typed.html#Stmt.try_catch_" class="InductiveConstructor Operator">try_catch_</a> <a id="2763" class="Symbol">:</a> <a id="2765" class="Symbol">∀</a> <a id="2767" class="Symbol">{</a><a id="2768" href="MJ.Syntax.Typed.html#2768" class="Bound">O</a> <a id="2770" href="MJ.Syntax.Typed.html#2770" class="Bound">O&#39;</a><a id="2772" class="Symbol">}</a> <a id="2774" class="Symbol">→</a> <a id="2776" href="MJ.Syntax.Typed.html#Stmt" class="Datatype">Stmt</a> <a id="2781" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a> <a id="2783" href="MJ.Syntax.Typed.html#2395" class="Bound">r</a> <a id="2785" href="MJ.Syntax.Typed.html#2768" class="Bound">O</a> <a id="2787" class="Symbol">→</a> <a id="2789" href="MJ.Syntax.Typed.html#Stmt" class="Datatype">Stmt</a> <a id="2794" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a> <a id="2796" href="MJ.Syntax.Typed.html#2395" class="Bound">r</a> <a id="2798" href="MJ.Syntax.Typed.html#2770" class="Bound">O&#39;</a> <a id="2801" class="Symbol">→</a> <a id="2803" href="MJ.Syntax.Typed.html#Stmt" class="Datatype">Stmt</a> <a id="2808" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a> <a id="2810" href="MJ.Syntax.Typed.html#2395" class="Bound">r</a> <a id="2812" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a>
    <a id="Stmt.while_run_" href="MJ.Syntax.Typed.html#Stmt.while_run_" class="InductiveConstructor Operator">while_run_</a> <a id="2829" class="Symbol">:</a> <a id="2831" class="Symbol">∀</a> <a id="2833" class="Symbol">{</a><a id="2834" href="MJ.Syntax.Typed.html#2834" class="Bound">O</a><a id="2835" class="Symbol">}</a> <a id="2837" class="Symbol">→</a> <a id="2839" href="MJ.Syntax.Typed.html#Expr" class="Datatype">Expr</a> <a id="2844" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a> <a id="2846" href="MJ.Types.html#Ty.int" class="InductiveConstructor">int</a> <a id="2850" class="Symbol">→</a> <a id="2852" href="MJ.Syntax.Typed.html#Stmt" class="Datatype">Stmt</a> <a id="2857" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a> <a id="2859" href="MJ.Syntax.Typed.html#2395" class="Bound">r</a> <a id="2861" href="MJ.Syntax.Typed.html#2834" class="Bound">O</a> <a id="2863" class="Symbol">→</a> <a id="2865" href="MJ.Syntax.Typed.html#Stmt" class="Datatype">Stmt</a> <a id="2870" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a> <a id="2872" href="MJ.Syntax.Typed.html#2395" class="Bound">r</a> <a id="2874" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a>
    <a id="Stmt.block" href="MJ.Syntax.Typed.html#Stmt.block" class="InductiveConstructor">block</a>      <a id="2891" class="Symbol">:</a> <a id="2893" class="Symbol">∀</a> <a id="2895" class="Symbol">{</a><a id="2896" href="MJ.Syntax.Typed.html#2896" class="Bound">O</a><a id="2897" class="Symbol">}</a> <a id="2899" class="Symbol">→</a> <a id="2901" href="MJ.Syntax.Typed.html#Stmts" class="Function">Stmts</a> <a id="2907" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a> <a id="2909" href="MJ.Syntax.Typed.html#2395" class="Bound">r</a> <a id="2911" href="MJ.Syntax.Typed.html#2896" class="Bound">O</a> <a id="2913" class="Symbol">→</a> <a id="2915" href="MJ.Syntax.Typed.html#Stmt" class="Datatype">Stmt</a> <a id="2920" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a> <a id="2922" href="MJ.Syntax.Typed.html#2395" class="Bound">r</a> <a id="2924" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a>
    <a id="Stmt.if_then_else_" href="MJ.Syntax.Typed.html#Stmt.if_then_else_" class="InductiveConstructor Operator">if_then_else_</a> <a id="2944" class="Symbol">:</a> <a id="2946" class="Symbol">∀</a> <a id="2948" class="Symbol">{</a><a id="2949" href="MJ.Syntax.Typed.html#2949" class="Bound">a</a><a id="2950" class="Symbol">}</a> <a id="2952" class="Symbol">→</a> <a id="2954" href="MJ.Syntax.Typed.html#Expr" class="Datatype">Expr</a> <a id="2959" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a> <a id="2961" href="MJ.Types.html#Ty.int" class="InductiveConstructor">int</a> <a id="2965" class="Symbol">→</a> <a id="2967" href="MJ.Syntax.Typed.html#Stmt" class="Datatype">Stmt</a> <a id="2972" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a> <a id="2974" href="MJ.Syntax.Typed.html#2395" class="Bound">r</a> <a id="2976" href="MJ.Syntax.Typed.html#2949" class="Bound">a</a> <a id="2978" class="Symbol">→</a> <a id="2980" href="MJ.Syntax.Typed.html#Stmt" class="Datatype">Stmt</a> <a id="2985" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a> <a id="2987" href="MJ.Syntax.Typed.html#2395" class="Bound">r</a> <a id="2989" href="MJ.Syntax.Typed.html#2949" class="Bound">a</a> <a id="2991" class="Symbol">→</a> <a id="2993" href="MJ.Syntax.Typed.html#Stmt" class="Datatype">Stmt</a> <a id="2998" href="MJ.Syntax.Typed.html#2386" class="Bound">I</a> <a id="3000" href="MJ.Syntax.Typed.html#2395" class="Bound">r</a> <a id="3002" href="MJ.Syntax.Typed.html#2949" class="Bound">a</a>

  <a id="Stmts" href="MJ.Syntax.Typed.html#Stmts" class="Function">Stmts</a> <a id="3013" class="Symbol">:</a> <a id="3015" href="MJ.LexicalScope.html#206" class="Function">Ctx</a> <a id="3019" class="Symbol">→</a> <a id="3021" href="MJ.Types.html#Ty" class="Datatype">Ty</a> <a id="3024" href="MJ.Syntax.Typed.html#81" class="Bound">c</a> <a id="3026" class="Symbol">→</a> <a id="3028" href="MJ.LexicalScope.html#206" class="Function">Ctx</a> <a id="3032" class="Symbol">→</a> <a id="3034" class="PrimitiveType">Set</a>
  <a id="3040" href="MJ.Syntax.Typed.html#Stmts" class="Function">Stmts</a> <a id="3046" href="MJ.Syntax.Typed.html#3046" class="Bound">I</a> <a id="3048" href="MJ.Syntax.Typed.html#3048" class="Bound">r</a> <a id="3050" href="MJ.Syntax.Typed.html#3050" class="Bound">O</a> <a id="3052" class="Symbol">=</a> <a id="3054" href="Data.Star.html#Star" class="Datatype">Star</a> <a id="3059" class="Symbol">(λ</a> <a id="3062" href="MJ.Syntax.Typed.html#3062" class="Bound">I&#39;</a> <a id="3065" href="MJ.Syntax.Typed.html#3065" class="Bound">O&#39;</a> <a id="3068" class="Symbol">→</a> <a id="3070" href="MJ.Syntax.Typed.html#Stmt" class="Datatype">Stmt</a> <a id="3075" href="MJ.Syntax.Typed.html#3062" class="Bound">I&#39;</a> <a id="3078" href="MJ.Syntax.Typed.html#3048" class="Bound">r</a> <a id="3080" href="MJ.Syntax.Typed.html#3065" class="Bound">O&#39;</a><a id="3082" class="Symbol">)</a> <a id="3084" href="MJ.Syntax.Typed.html#3046" class="Bound">I</a> <a id="3086" href="MJ.Syntax.Typed.html#3050" class="Bound">O</a>
</pre></body></html>