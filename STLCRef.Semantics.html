<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>STLCRef.Semantics</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Keyword">module</a> <a id="8" href="STLCRef.Semantics.html" class="Module">STLCRef.Semantics</a> <a id="26" class="Keyword">where</a>

<a id="33" class="Comment">-- This file contains the definitional interpreter for STLC+Ref</a>
<a id="97" class="Comment">-- described in Section 3 of the paper.</a>

<a id="138" class="Keyword">open</a> <a id="143" class="Keyword">import</a> <a id="150" href="Agda.Primitive.html" class="Module">Agda.Primitive</a>
<a id="165" class="Keyword">open</a> <a id="170" class="Keyword">import</a> <a id="177" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="187" class="Keyword">open</a> <a id="192" class="Keyword">import</a> <a id="199" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="208" class="Keyword">hiding</a> <a id="215" class="Symbol">(</a><a id="216" href="Data.Nat.Base.html#_%E2%8A%94_" class="Function Operator">_⊔_</a> <a id="220" class="Symbol">;</a> <a id="222" href="Data.Nat.Base.html#_%5E_" class="Function Operator">_^_</a><a id="225" class="Symbol">)</a>
<a id="227" class="Keyword">open</a> <a id="232" class="Keyword">import</a> <a id="239" href="Data.Integer.html" class="Module">Data.Integer</a> <a id="252" class="Keyword">hiding</a> <a id="259" class="Symbol">(</a><a id="260" href="Data.Integer.Base.html#_%E2%8A%94_" class="Function Operator">_⊔_</a><a id="263" class="Symbol">)</a>
<a id="265" class="Keyword">open</a> <a id="270" class="Keyword">import</a> <a id="277" href="Data.List.Most.html" class="Module">Data.List.Most</a>
<a id="292" class="Keyword">open</a> <a id="297" class="Keyword">import</a> <a id="304" href="Data.Product.html" class="Module">Data.Product</a>
<a id="317" class="Keyword">open</a> <a id="322" class="Keyword">import</a> <a id="329" href="Data.Maybe.html" class="Module">Data.Maybe</a> <a id="340" class="Keyword">hiding</a> <a id="347" class="Symbol">(</a><a id="348" href="Data.Maybe.Base.html#All" class="Datatype">All</a><a id="351" class="Symbol">)</a>
<a id="353" class="Keyword">open</a> <a id="358" class="Keyword">import</a> <a id="365" href="Data.List.All.html" class="Module">Data.List.All</a> <a id="379" class="Symbol">as</a> <a id="382" class="Module">List∀</a>
<a id="388" class="Keyword">open</a> <a id="393" class="Keyword">import</a> <a id="400" href="Data.List.Any.html" class="Module">Data.List.Any</a>
<a id="414" class="Keyword">open</a> <a id="419" class="Keyword">import</a> <a id="426" href="Data.List.Prefix.html" class="Module">Data.List.Prefix</a>
<a id="443" class="Keyword">open</a> <a id="448" class="Keyword">import</a> <a id="455" href="Data.List.Properties.Extra.html" class="Module">Data.List.Properties.Extra</a>
<a id="482" class="Keyword">open</a> <a id="487" class="Keyword">import</a> <a id="494" href="Data.List.All.Properties.Extra.html" class="Module">Data.List.All.Properties.Extra</a>
<a id="525" class="Keyword">open</a> <a id="530" class="Keyword">import</a> <a id="537" href="Function.html" class="Module">Function</a>
<a id="546" class="Keyword">open</a> <a id="551" class="Keyword">import</a> <a id="558" href="Common.Weakening.html" class="Module">Common.Weakening</a>
<a id="575" class="Keyword">open</a> <a id="580" class="Keyword">import</a> <a id="587" href="Common.Strength.html" class="Module">Common.Strength</a>

<a id="604" class="Comment">------------</a>
<a id="617" class="Comment">-- SYNTAX --</a>
<a id="630" class="Comment">------------</a>

<a id="644" class="Comment">-- These definitions correspond to Section 3.1, except we have</a>
<a id="707" class="Comment">-- included numbers (integers) and integer operations in the language.</a>

<a id="779" class="Keyword">data</a> <a id="Ty" href="STLCRef.Semantics.html#Ty" class="Datatype">Ty</a> <a id="787" class="Symbol">:</a> <a id="789" class="PrimitiveType">Set</a>

<a id="Ctx" href="STLCRef.Semantics.html#Ctx" class="Function">Ctx</a> <a id="798" class="Symbol">=</a> <a id="800" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="805" href="STLCRef.Semantics.html#Ty" class="Datatype">Ty</a>

<a id="809" class="Keyword">data</a> <a id="814" href="STLCRef.Semantics.html#Ty" class="Datatype">Ty</a> <a id="817" class="Keyword">where</a>
  <a id="Ty._⇒_" href="STLCRef.Semantics.html#Ty._%E2%87%92_" class="InductiveConstructor Operator">_⇒_</a>  <a id="830" class="Symbol">:</a> <a id="832" class="Symbol">(</a><a id="833" href="STLCRef.Semantics.html#833" class="Bound">a</a> <a id="835" href="STLCRef.Semantics.html#835" class="Bound">b</a> <a id="837" class="Symbol">:</a> <a id="839" href="STLCRef.Semantics.html#Ty" class="Datatype">Ty</a><a id="841" class="Symbol">)</a> <a id="843" class="Symbol">→</a> <a id="845" href="STLCRef.Semantics.html#Ty" class="Datatype">Ty</a>
  <a id="Ty.unit" href="STLCRef.Semantics.html#Ty.unit" class="InductiveConstructor">unit</a> <a id="855" class="Symbol">:</a> <a id="857" href="STLCRef.Semantics.html#Ty" class="Datatype">Ty</a>
  <a id="Ty.int" href="STLCRef.Semantics.html#Ty.int" class="InductiveConstructor">int</a>  <a id="867" class="Symbol">:</a> <a id="869" href="STLCRef.Semantics.html#Ty" class="Datatype">Ty</a>
  <a id="Ty.ref" href="STLCRef.Semantics.html#Ty.ref" class="InductiveConstructor">ref</a>  <a id="879" class="Symbol">:</a> <a id="881" href="STLCRef.Semantics.html#Ty" class="Datatype">Ty</a> <a id="884" class="Symbol">-&gt;</a> <a id="887" href="STLCRef.Semantics.html#Ty" class="Datatype">Ty</a>

<a id="891" class="Keyword">data</a> <a id="Expr" href="STLCRef.Semantics.html#Expr" class="Datatype">Expr</a> <a id="901" class="Symbol">(</a><a id="902" href="STLCRef.Semantics.html#902" class="Bound">Γ</a> <a id="904" class="Symbol">:</a> <a id="906" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="911" href="STLCRef.Semantics.html#Ty" class="Datatype">Ty</a><a id="913" class="Symbol">)</a> <a id="915" class="Symbol">:</a> <a id="917" href="STLCRef.Semantics.html#Ty" class="Datatype">Ty</a> <a id="920" class="Symbol">→</a> <a id="922" class="PrimitiveType">Set</a> <a id="926" class="Keyword">where</a>
  <a id="Expr.unit" href="STLCRef.Semantics.html#Expr.unit" class="InductiveConstructor">unit</a>  <a id="940" class="Symbol">:</a> <a id="942" href="STLCRef.Semantics.html#Expr" class="Datatype">Expr</a> <a id="947" href="STLCRef.Semantics.html#902" class="Bound">Γ</a> <a id="949" href="STLCRef.Semantics.html#Ty.unit" class="InductiveConstructor">unit</a>
  <a id="Expr.var" href="STLCRef.Semantics.html#Expr.var" class="InductiveConstructor">var</a>   <a id="962" class="Symbol">:</a> <a id="964" class="Symbol">∀</a> <a id="966" class="Symbol">{</a><a id="967" href="STLCRef.Semantics.html#967" class="Bound">t</a><a id="968" class="Symbol">}</a> <a id="970" class="Symbol">→</a> <a id="972" href="STLCRef.Semantics.html#967" class="Bound">t</a> <a id="974" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="976" href="STLCRef.Semantics.html#902" class="Bound">Γ</a> <a id="978" class="Symbol">→</a> <a id="980" href="STLCRef.Semantics.html#Expr" class="Datatype">Expr</a> <a id="985" href="STLCRef.Semantics.html#902" class="Bound">Γ</a> <a id="987" href="STLCRef.Semantics.html#967" class="Bound">t</a>
  <a id="Expr.ƛ" href="STLCRef.Semantics.html#Expr.%C6%9B" class="InductiveConstructor">ƛ</a>     <a id="997" class="Symbol">:</a> <a id="999" class="Symbol">∀</a> <a id="1001" class="Symbol">{</a><a id="1002" href="STLCRef.Semantics.html#1002" class="Bound">a</a> <a id="1004" href="STLCRef.Semantics.html#1004" class="Bound">b</a><a id="1005" class="Symbol">}</a> <a id="1007" class="Symbol">→</a> <a id="1009" href="STLCRef.Semantics.html#Expr" class="Datatype">Expr</a> <a id="1014" class="Symbol">(</a><a id="1015" href="STLCRef.Semantics.html#1002" class="Bound">a</a> <a id="1017" href="Agda.Builtin.List.html#List._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="1019" href="STLCRef.Semantics.html#902" class="Bound">Γ</a><a id="1020" class="Symbol">)</a> <a id="1022" href="STLCRef.Semantics.html#1004" class="Bound">b</a> <a id="1024" class="Symbol">→</a> <a id="1026" href="STLCRef.Semantics.html#Expr" class="Datatype">Expr</a> <a id="1031" href="STLCRef.Semantics.html#902" class="Bound">Γ</a> <a id="1033" class="Symbol">(</a><a id="1034" href="STLCRef.Semantics.html#1002" class="Bound">a</a> <a id="1036" href="STLCRef.Semantics.html#Ty._%E2%87%92_" class="InductiveConstructor Operator">⇒</a> <a id="1038" href="STLCRef.Semantics.html#1004" class="Bound">b</a><a id="1039" class="Symbol">)</a>
  <a id="Expr._·_" href="STLCRef.Semantics.html#Expr._%C2%B7_" class="InductiveConstructor Operator">_·_</a>   <a id="1049" class="Symbol">:</a> <a id="1051" class="Symbol">∀</a> <a id="1053" class="Symbol">{</a><a id="1054" href="STLCRef.Semantics.html#1054" class="Bound">a</a> <a id="1056" href="STLCRef.Semantics.html#1056" class="Bound">b</a><a id="1057" class="Symbol">}</a> <a id="1059" class="Symbol">→</a> <a id="1061" href="STLCRef.Semantics.html#Expr" class="Datatype">Expr</a> <a id="1066" href="STLCRef.Semantics.html#902" class="Bound">Γ</a> <a id="1068" class="Symbol">(</a><a id="1069" href="STLCRef.Semantics.html#1054" class="Bound">a</a> <a id="1071" href="STLCRef.Semantics.html#Ty._%E2%87%92_" class="InductiveConstructor Operator">⇒</a> <a id="1073" href="STLCRef.Semantics.html#1056" class="Bound">b</a><a id="1074" class="Symbol">)</a> <a id="1076" class="Symbol">→</a> <a id="1078" href="STLCRef.Semantics.html#Expr" class="Datatype">Expr</a> <a id="1083" href="STLCRef.Semantics.html#902" class="Bound">Γ</a> <a id="1085" href="STLCRef.Semantics.html#1054" class="Bound">a</a> <a id="1087" class="Symbol">→</a> <a id="1089" href="STLCRef.Semantics.html#Expr" class="Datatype">Expr</a> <a id="1094" href="STLCRef.Semantics.html#902" class="Bound">Γ</a> <a id="1096" href="STLCRef.Semantics.html#1056" class="Bound">b</a>
  <a id="Expr.num" href="STLCRef.Semantics.html#Expr.num" class="InductiveConstructor">num</a>   <a id="1106" class="Symbol">:</a> <a id="1108" href="Agda.Builtin.Int.html#%E2%84%A4" class="Datatype">ℤ</a> <a id="1110" class="Symbol">→</a> <a id="1112" href="STLCRef.Semantics.html#Expr" class="Datatype">Expr</a> <a id="1117" href="STLCRef.Semantics.html#902" class="Bound">Γ</a> <a id="1119" href="STLCRef.Semantics.html#Ty.int" class="InductiveConstructor">int</a>
  <a id="Expr.iop" href="STLCRef.Semantics.html#Expr.iop" class="InductiveConstructor">iop</a>   <a id="1131" class="Symbol">:</a> <a id="1133" class="Symbol">(</a><a id="1134" href="Agda.Builtin.Int.html#%E2%84%A4" class="Datatype">ℤ</a> <a id="1136" class="Symbol">→</a> <a id="1138" href="Agda.Builtin.Int.html#%E2%84%A4" class="Datatype">ℤ</a> <a id="1140" class="Symbol">→</a> <a id="1142" href="Agda.Builtin.Int.html#%E2%84%A4" class="Datatype">ℤ</a><a id="1143" class="Symbol">)</a> <a id="1145" class="Symbol">→</a> <a id="1147" class="Symbol">(</a><a id="1148" href="STLCRef.Semantics.html#1148" class="Bound">l</a> <a id="1150" href="STLCRef.Semantics.html#1150" class="Bound">r</a> <a id="1152" class="Symbol">:</a> <a id="1154" href="STLCRef.Semantics.html#Expr" class="Datatype">Expr</a> <a id="1159" href="STLCRef.Semantics.html#902" class="Bound">Γ</a> <a id="1161" href="STLCRef.Semantics.html#Ty.int" class="InductiveConstructor">int</a><a id="1164" class="Symbol">)</a> <a id="1166" class="Symbol">→</a> <a id="1168" href="STLCRef.Semantics.html#Expr" class="Datatype">Expr</a> <a id="1173" href="STLCRef.Semantics.html#902" class="Bound">Γ</a> <a id="1175" href="STLCRef.Semantics.html#Ty.int" class="InductiveConstructor">int</a>
  <a id="Expr.ifz" href="STLCRef.Semantics.html#Expr.ifz" class="InductiveConstructor">ifz</a>   <a id="1187" class="Symbol">:</a> <a id="1189" class="Symbol">∀</a> <a id="1191" class="Symbol">{</a><a id="1192" href="STLCRef.Semantics.html#1192" class="Bound">t</a><a id="1193" class="Symbol">}</a> <a id="1195" class="Symbol">→</a> <a id="1197" href="STLCRef.Semantics.html#Expr" class="Datatype">Expr</a> <a id="1202" href="STLCRef.Semantics.html#902" class="Bound">Γ</a> <a id="1204" href="STLCRef.Semantics.html#Ty.int" class="InductiveConstructor">int</a> <a id="1208" class="Symbol">→</a> <a id="1210" href="STLCRef.Semantics.html#Expr" class="Datatype">Expr</a> <a id="1215" href="STLCRef.Semantics.html#902" class="Bound">Γ</a> <a id="1217" href="STLCRef.Semantics.html#1192" class="Bound">t</a> <a id="1219" class="Symbol">→</a> <a id="1221" href="STLCRef.Semantics.html#Expr" class="Datatype">Expr</a> <a id="1226" href="STLCRef.Semantics.html#902" class="Bound">Γ</a> <a id="1228" href="STLCRef.Semantics.html#1192" class="Bound">t</a> <a id="1230" class="Symbol">→</a> <a id="1232" href="STLCRef.Semantics.html#Expr" class="Datatype">Expr</a> <a id="1237" href="STLCRef.Semantics.html#902" class="Bound">Γ</a> <a id="1239" href="STLCRef.Semantics.html#1192" class="Bound">t</a>
  <a id="Expr.ref" href="STLCRef.Semantics.html#Expr.ref" class="InductiveConstructor">ref</a>   <a id="1249" class="Symbol">:</a> <a id="1251" class="Symbol">∀</a> <a id="1253" class="Symbol">{</a><a id="1254" href="STLCRef.Semantics.html#1254" class="Bound">t</a><a id="1255" class="Symbol">}</a> <a id="1257" class="Symbol">→</a> <a id="1259" href="STLCRef.Semantics.html#Expr" class="Datatype">Expr</a> <a id="1264" href="STLCRef.Semantics.html#902" class="Bound">Γ</a> <a id="1266" href="STLCRef.Semantics.html#1254" class="Bound">t</a> <a id="1268" class="Symbol">→</a> <a id="1270" href="STLCRef.Semantics.html#Expr" class="Datatype">Expr</a> <a id="1275" href="STLCRef.Semantics.html#902" class="Bound">Γ</a> <a id="1277" class="Symbol">(</a><a id="1278" href="STLCRef.Semantics.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="1282" href="STLCRef.Semantics.html#1254" class="Bound">t</a><a id="1283" class="Symbol">)</a>
  <a id="Expr.!_" href="STLCRef.Semantics.html#Expr.%21_" class="InductiveConstructor Operator">!_</a>    <a id="1293" class="Symbol">:</a> <a id="1295" class="Symbol">∀</a> <a id="1297" class="Symbol">{</a><a id="1298" href="STLCRef.Semantics.html#1298" class="Bound">t</a><a id="1299" class="Symbol">}</a> <a id="1301" class="Symbol">→</a> <a id="1303" href="STLCRef.Semantics.html#Expr" class="Datatype">Expr</a> <a id="1308" href="STLCRef.Semantics.html#902" class="Bound">Γ</a> <a id="1310" class="Symbol">(</a><a id="1311" href="STLCRef.Semantics.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="1315" href="STLCRef.Semantics.html#1298" class="Bound">t</a><a id="1316" class="Symbol">)</a> <a id="1318" class="Symbol">→</a> <a id="1320" href="STLCRef.Semantics.html#Expr" class="Datatype">Expr</a> <a id="1325" href="STLCRef.Semantics.html#902" class="Bound">Γ</a> <a id="1327" href="STLCRef.Semantics.html#1298" class="Bound">t</a>
  <a id="Expr._≔_" href="STLCRef.Semantics.html#Expr._%E2%89%94_" class="InductiveConstructor Operator">_≔_</a>   <a id="1337" class="Symbol">:</a> <a id="1339" class="Symbol">∀</a> <a id="1341" class="Symbol">{</a><a id="1342" href="STLCRef.Semantics.html#1342" class="Bound">t</a><a id="1343" class="Symbol">}</a> <a id="1345" class="Symbol">→</a> <a id="1347" href="STLCRef.Semantics.html#Expr" class="Datatype">Expr</a> <a id="1352" href="STLCRef.Semantics.html#902" class="Bound">Γ</a> <a id="1354" class="Symbol">(</a><a id="1355" href="STLCRef.Semantics.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="1359" href="STLCRef.Semantics.html#1342" class="Bound">t</a><a id="1360" class="Symbol">)</a> <a id="1362" class="Symbol">→</a> <a id="1364" href="STLCRef.Semantics.html#Expr" class="Datatype">Expr</a> <a id="1369" href="STLCRef.Semantics.html#902" class="Bound">Γ</a> <a id="1371" href="STLCRef.Semantics.html#1342" class="Bound">t</a> <a id="1373" class="Symbol">→</a> <a id="1375" href="STLCRef.Semantics.html#Expr" class="Datatype">Expr</a> <a id="1380" href="STLCRef.Semantics.html#902" class="Bound">Γ</a> <a id="1382" href="STLCRef.Semantics.html#Ty.unit" class="InductiveConstructor">unit</a>


<a id="1389" class="Comment">-----------------------</a>
<a id="1413" class="Comment">-- STORES AND VALUES --</a>
<a id="1437" class="Comment">-----------------------</a>

<a id="StoreTy" href="STLCRef.Semantics.html#StoreTy" class="Function">StoreTy</a> <a id="1470" class="Symbol">=</a> <a id="1472" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="1477" href="STLCRef.Semantics.html#Ty" class="Datatype">Ty</a>

<a id="1481" class="Keyword">mutual</a>
  <a id="1490" class="Keyword">data</a> <a id="Val" href="STLCRef.Semantics.html#Val" class="Datatype">Val</a> <a id="1499" class="Symbol">:</a> <a id="1501" href="STLCRef.Semantics.html#Ty" class="Datatype">Ty</a> <a id="1504" class="Symbol">→</a> <a id="1506" class="Symbol">(</a><a id="1507" href="STLCRef.Semantics.html#1507" class="Bound">Σ</a> <a id="1509" class="Symbol">:</a> <a id="1511" href="STLCRef.Semantics.html#StoreTy" class="Function">StoreTy</a><a id="1518" class="Symbol">)</a> <a id="1520" class="Symbol">→</a> <a id="1522" class="PrimitiveType">Set</a> <a id="1526" class="Keyword">where</a>
    <a id="Val.loc" href="STLCRef.Semantics.html#Val.loc" class="InductiveConstructor">loc</a>    <a id="1543" class="Symbol">:</a> <a id="1545" class="Symbol">∀</a> <a id="1547" class="Symbol">{</a><a id="1548" href="STLCRef.Semantics.html#1548" class="Bound">Σ</a> <a id="1550" href="STLCRef.Semantics.html#1550" class="Bound">t</a><a id="1551" class="Symbol">}</a> <a id="1553" class="Symbol">→</a> <a id="1555" href="STLCRef.Semantics.html#1550" class="Bound">t</a> <a id="1557" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="1559" href="STLCRef.Semantics.html#1548" class="Bound">Σ</a> <a id="1561" class="Symbol">→</a> <a id="1563" href="STLCRef.Semantics.html#Val" class="Datatype">Val</a> <a id="1567" class="Symbol">(</a><a id="1568" href="STLCRef.Semantics.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="1572" href="STLCRef.Semantics.html#1550" class="Bound">t</a><a id="1573" class="Symbol">)</a> <a id="1575" href="STLCRef.Semantics.html#1548" class="Bound">Σ</a>
    <a id="Val.unit" href="STLCRef.Semantics.html#Val.unit" class="InductiveConstructor">unit</a>   <a id="1588" class="Symbol">:</a> <a id="1590" class="Symbol">∀</a> <a id="1592" class="Symbol">{</a><a id="1593" href="STLCRef.Semantics.html#1593" class="Bound">Σ</a><a id="1594" class="Symbol">}</a> <a id="1596" class="Symbol">→</a> <a id="1598" href="STLCRef.Semantics.html#Val" class="Datatype">Val</a> <a id="1602" href="STLCRef.Semantics.html#Ty.unit" class="InductiveConstructor">unit</a> <a id="1607" href="STLCRef.Semantics.html#1593" class="Bound">Σ</a>
    <a id="Val.⟨_,_⟩" href="STLCRef.Semantics.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟨_,_⟩</a>  <a id="1620" class="Symbol">:</a> <a id="1622" class="Symbol">∀</a> <a id="1624" class="Symbol">{</a><a id="1625" href="STLCRef.Semantics.html#1625" class="Bound">Σ</a> <a id="1627" href="STLCRef.Semantics.html#1627" class="Bound">Γ</a> <a id="1629" href="STLCRef.Semantics.html#1629" class="Bound">a</a> <a id="1631" href="STLCRef.Semantics.html#1631" class="Bound">b</a><a id="1632" class="Symbol">}</a> <a id="1634" class="Symbol">→</a> <a id="1636" href="STLCRef.Semantics.html#Expr" class="Datatype">Expr</a> <a id="1641" class="Symbol">(</a><a id="1642" href="STLCRef.Semantics.html#1629" class="Bound">a</a> <a id="1644" href="Agda.Builtin.List.html#List._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="1646" href="STLCRef.Semantics.html#1627" class="Bound">Γ</a><a id="1647" class="Symbol">)</a> <a id="1649" href="STLCRef.Semantics.html#1631" class="Bound">b</a> <a id="1651" class="Symbol">→</a> <a id="1653" href="STLCRef.Semantics.html#Env" class="Function">Env</a> <a id="1657" href="STLCRef.Semantics.html#1627" class="Bound">Γ</a> <a id="1659" href="STLCRef.Semantics.html#1625" class="Bound">Σ</a> <a id="1661" class="Symbol">→</a> <a id="1663" href="STLCRef.Semantics.html#Val" class="Datatype">Val</a> <a id="1667" class="Symbol">(</a><a id="1668" href="STLCRef.Semantics.html#1629" class="Bound">a</a> <a id="1670" href="STLCRef.Semantics.html#Ty._%E2%87%92_" class="InductiveConstructor Operator">⇒</a> <a id="1672" href="STLCRef.Semantics.html#1631" class="Bound">b</a><a id="1673" class="Symbol">)</a> <a id="1675" href="STLCRef.Semantics.html#1625" class="Bound">Σ</a>
    <a id="Val.num" href="STLCRef.Semantics.html#Val.num" class="InductiveConstructor">num</a>   <a id="1687" class="Symbol">:</a> <a id="1689" class="Symbol">∀</a> <a id="1691" class="Symbol">{</a><a id="1692" href="STLCRef.Semantics.html#1692" class="Bound">Σ</a><a id="1693" class="Symbol">}</a> <a id="1695" class="Symbol">→</a> <a id="1697" href="Agda.Builtin.Int.html#%E2%84%A4" class="Datatype">ℤ</a> <a id="1699" class="Symbol">→</a> <a id="1701" href="STLCRef.Semantics.html#Val" class="Datatype">Val</a> <a id="1705" href="STLCRef.Semantics.html#Ty.int" class="InductiveConstructor">int</a> <a id="1709" href="STLCRef.Semantics.html#1692" class="Bound">Σ</a>

  <a id="Env" href="STLCRef.Semantics.html#Env" class="Function">Env</a> <a id="1718" class="Symbol">:</a> <a id="1720" class="Symbol">(</a><a id="1721" href="STLCRef.Semantics.html#1721" class="Bound">Γ</a> <a id="1723" class="Symbol">:</a> <a id="1725" href="STLCRef.Semantics.html#Ctx" class="Function">Ctx</a><a id="1728" class="Symbol">)(</a><a id="1730" href="STLCRef.Semantics.html#1730" class="Bound">Σ</a> <a id="1732" class="Symbol">:</a> <a id="1734" href="STLCRef.Semantics.html#StoreTy" class="Function">StoreTy</a><a id="1741" class="Symbol">)</a> <a id="1743" class="Symbol">→</a> <a id="1745" class="PrimitiveType">Set</a>
  <a id="1751" href="STLCRef.Semantics.html#Env" class="Function">Env</a> <a id="1755" href="STLCRef.Semantics.html#1755" class="Bound">Γ</a> <a id="1757" href="STLCRef.Semantics.html#1757" class="Bound">Σ</a> <a id="1759" class="Symbol">=</a> <a id="1761" href="Data.List.All.html#All" class="Datatype">All</a> <a id="1765" class="Symbol">(λ</a> <a id="1768" href="STLCRef.Semantics.html#1768" class="Bound">t</a> <a id="1770" class="Symbol">→</a> <a id="1772" href="STLCRef.Semantics.html#Val" class="Datatype">Val</a> <a id="1776" href="STLCRef.Semantics.html#1768" class="Bound">t</a> <a id="1778" href="STLCRef.Semantics.html#1757" class="Bound">Σ</a><a id="1779" class="Symbol">)</a> <a id="1781" href="STLCRef.Semantics.html#1755" class="Bound">Γ</a>

<a id="Store" href="STLCRef.Semantics.html#Store" class="Function">Store</a> <a id="1790" class="Symbol">:</a> <a id="1792" class="Symbol">(</a><a id="1793" href="STLCRef.Semantics.html#1793" class="Bound">Σ</a> <a id="1795" class="Symbol">:</a> <a id="1797" href="STLCRef.Semantics.html#StoreTy" class="Function">StoreTy</a><a id="1804" class="Symbol">)</a> <a id="1806" class="Symbol">→</a> <a id="1808" class="PrimitiveType">Set</a>
<a id="1812" href="STLCRef.Semantics.html#Store" class="Function">Store</a> <a id="1818" href="STLCRef.Semantics.html#1818" class="Bound">Σ</a> <a id="1820" class="Symbol">=</a> <a id="1822" href="Data.List.All.html#All" class="Datatype">All</a> <a id="1826" class="Symbol">(λ</a> <a id="1829" href="STLCRef.Semantics.html#1829" class="Bound">t</a> <a id="1831" class="Symbol">→</a> <a id="1833" href="STLCRef.Semantics.html#Val" class="Datatype">Val</a> <a id="1837" href="STLCRef.Semantics.html#1829" class="Bound">t</a> <a id="1839" href="STLCRef.Semantics.html#1818" class="Bound">Σ</a><a id="1840" class="Symbol">)</a> <a id="1842" href="STLCRef.Semantics.html#1818" class="Bound">Σ</a>

<a id="1845" class="Comment">-- The `lookup-store` function is defined in terms of the `lookup`</a>
<a id="1912" class="Comment">-- function from `Data.List.All` in the Agda Standard Library.</a>
<a id="lookup-store" href="STLCRef.Semantics.html#lookup-store" class="Function">lookup-store</a> <a id="1988" class="Symbol">:</a> <a id="1990" class="Symbol">∀</a> <a id="1992" class="Symbol">{</a><a id="1993" href="STLCRef.Semantics.html#1993" class="Bound">Σ</a> <a id="1995" href="STLCRef.Semantics.html#1995" class="Bound">t</a><a id="1996" class="Symbol">}</a> <a id="1998" class="Symbol">→</a> <a id="2000" href="STLCRef.Semantics.html#1995" class="Bound">t</a> <a id="2002" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="2004" href="STLCRef.Semantics.html#1993" class="Bound">Σ</a> <a id="2006" class="Symbol">→</a> <a id="2008" href="STLCRef.Semantics.html#Store" class="Function">Store</a> <a id="2014" href="STLCRef.Semantics.html#1993" class="Bound">Σ</a> <a id="2016" class="Symbol">→</a> <a id="2018" href="STLCRef.Semantics.html#Val" class="Datatype">Val</a> <a id="2022" href="STLCRef.Semantics.html#1995" class="Bound">t</a> <a id="2024" href="STLCRef.Semantics.html#1993" class="Bound">Σ</a>
<a id="2026" href="STLCRef.Semantics.html#lookup-store" class="Function">lookup-store</a> <a id="2039" href="STLCRef.Semantics.html#2039" class="Bound">x</a> <a id="2041" href="STLCRef.Semantics.html#2041" class="Bound">μ</a> <a id="2043" class="Symbol">=</a> <a id="2045" href="Data.List.All.html#lookup" class="Function">lookup</a> <a id="2052" href="STLCRef.Semantics.html#2041" class="Bound">μ</a> <a id="2054" href="STLCRef.Semantics.html#2039" class="Bound">x</a>

<a id="2057" class="Comment">-- The `update-store` function is defined in terms of the update</a>
<a id="2122" class="Comment">-- function for the `All` type: `_All[_]≔&#39;_` from the Standard Library</a>
<a id="2193" class="Comment">-- extension (contained in the `lib/*` folder of this artifact).</a>
<a id="update-store" href="STLCRef.Semantics.html#update-store" class="Function">update-store</a> <a id="2271" class="Symbol">:</a> <a id="2273" class="Symbol">∀</a> <a id="2275" class="Symbol">{</a><a id="2276" href="STLCRef.Semantics.html#2276" class="Bound">Σ</a> <a id="2278" href="STLCRef.Semantics.html#2278" class="Bound">t</a><a id="2279" class="Symbol">}</a> <a id="2281" class="Symbol">→</a> <a id="2283" href="STLCRef.Semantics.html#2278" class="Bound">t</a> <a id="2285" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="2287" href="STLCRef.Semantics.html#2276" class="Bound">Σ</a> <a id="2289" class="Symbol">→</a> <a id="2291" href="STLCRef.Semantics.html#Val" class="Datatype">Val</a> <a id="2295" href="STLCRef.Semantics.html#2278" class="Bound">t</a> <a id="2297" href="STLCRef.Semantics.html#2276" class="Bound">Σ</a> <a id="2299" class="Symbol">→</a> <a id="2301" href="STLCRef.Semantics.html#Store" class="Function">Store</a> <a id="2307" href="STLCRef.Semantics.html#2276" class="Bound">Σ</a> <a id="2309" class="Symbol">→</a> <a id="2311" href="STLCRef.Semantics.html#Store" class="Function">Store</a> <a id="2317" href="STLCRef.Semantics.html#2276" class="Bound">Σ</a>
<a id="2319" href="STLCRef.Semantics.html#update-store" class="Function">update-store</a> <a id="2332" href="STLCRef.Semantics.html#2332" class="Bound">ptr</a> <a id="2336" href="STLCRef.Semantics.html#2336" class="Bound">v</a> <a id="2338" href="STLCRef.Semantics.html#2338" class="Bound">μ</a> <a id="2340" class="Symbol">=</a> <a id="2342" href="STLCRef.Semantics.html#2338" class="Bound">μ</a> <a id="2344" href="Data.List.All.Properties.Extra.html#_All%5B_%5D%E2%89%94%27_" class="Function Operator">All[</a> <a id="2349" href="STLCRef.Semantics.html#2332" class="Bound">ptr</a> <a id="2353" href="Data.List.All.Properties.Extra.html#_All%5B_%5D%E2%89%94%27_" class="Function Operator">]≔&#39;</a> <a id="2357" href="STLCRef.Semantics.html#2336" class="Bound">v</a>


<a id="2361" class="Comment">-----------</a>
<a id="2373" class="Comment">-- MONAD --</a>
<a id="2385" class="Comment">-----------</a>

<a id="2398" class="Comment">-- These definitions correspond to Section 3.3.</a>

<a id="M" href="STLCRef.Semantics.html#M" class="Function">M</a> <a id="2449" class="Symbol">:</a> <a id="2451" class="Symbol">∀</a> <a id="2453" class="Symbol">{</a><a id="2454" href="STLCRef.Semantics.html#2454" class="Bound">i</a><a id="2455" class="Symbol">}(</a><a id="2457" href="STLCRef.Semantics.html#2457" class="Bound">Γ</a> <a id="2459" class="Symbol">:</a> <a id="2461" href="STLCRef.Semantics.html#Ctx" class="Function">Ctx</a><a id="2464" class="Symbol">)</a> <a id="2466" class="Symbol">→</a> <a id="2468" class="Symbol">(</a><a id="2469" href="STLCRef.Semantics.html#2469" class="Bound">p</a> <a id="2471" class="Symbol">:</a> <a id="2473" href="STLCRef.Semantics.html#StoreTy" class="Function">StoreTy</a> <a id="2481" class="Symbol">→</a> <a id="2483" class="PrimitiveType">Set</a> <a id="2487" href="STLCRef.Semantics.html#2454" class="Bound">i</a><a id="2488" class="Symbol">)</a> <a id="2490" class="Symbol">→</a> <a id="2492" class="Symbol">(</a><a id="2493" href="STLCRef.Semantics.html#2493" class="Bound">Σ</a> <a id="2495" class="Symbol">:</a> <a id="2497" href="STLCRef.Semantics.html#StoreTy" class="Function">StoreTy</a><a id="2504" class="Symbol">)</a> <a id="2506" class="Symbol">→</a> <a id="2508" class="PrimitiveType">Set</a> <a id="2512" href="STLCRef.Semantics.html#2454" class="Bound">i</a>
<a id="2514" href="STLCRef.Semantics.html#M" class="Function">M</a> <a id="2516" href="STLCRef.Semantics.html#2516" class="Bound">Γ</a> <a id="2518" href="STLCRef.Semantics.html#2518" class="Bound">p</a> <a id="2520" href="STLCRef.Semantics.html#2520" class="Bound">Σ</a> <a id="2522" class="Symbol">=</a> <a id="2524" href="STLCRef.Semantics.html#Env" class="Function">Env</a> <a id="2528" href="STLCRef.Semantics.html#2516" class="Bound">Γ</a> <a id="2530" href="STLCRef.Semantics.html#2520" class="Bound">Σ</a> <a id="2532" class="Symbol">→</a> <a id="2534" href="STLCRef.Semantics.html#Store" class="Function">Store</a> <a id="2540" href="STLCRef.Semantics.html#2520" class="Bound">Σ</a> <a id="2542" class="Symbol">→</a> <a id="2544" href="Data.Maybe.Base.html#Maybe" class="Datatype">Maybe</a> <a id="2550" class="Symbol">(</a><a id="2551" href="Data.Product.html#%E2%88%83" class="Function">∃</a> <a id="2553" class="Symbol">λ</a> <a id="2555" href="STLCRef.Semantics.html#2555" class="Bound">Σ&#39;</a> <a id="2558" class="Symbol">→</a> <a id="2560" href="STLCRef.Semantics.html#Store" class="Function">Store</a> <a id="2566" href="STLCRef.Semantics.html#2555" class="Bound">Σ&#39;</a> <a id="2569" href="Data.Product.html#_%C3%97_" class="Function Operator">×</a> <a id="2571" href="STLCRef.Semantics.html#2518" class="Bound">p</a> <a id="2573" href="STLCRef.Semantics.html#2555" class="Bound">Σ&#39;</a> <a id="2576" href="Data.Product.html#_%C3%97_" class="Function Operator">×</a> <a id="2578" href="STLCRef.Semantics.html#2520" class="Bound">Σ</a> <a id="2580" href="Data.List.Prefix.html#_%E2%8A%91_" class="Datatype Operator">⊑</a> <a id="2582" href="STLCRef.Semantics.html#2555" class="Bound">Σ&#39;</a><a id="2584" class="Symbol">)</a>

<a id="2587" class="Keyword">mutual</a>
  <a id="weaken-val" href="STLCRef.Semantics.html#weaken-val" class="Function">weaken-val</a>  <a id="2608" class="Symbol">:</a> <a id="2610" class="Symbol">∀</a> <a id="2612" class="Symbol">{</a><a id="2613" href="STLCRef.Semantics.html#2613" class="Bound">a</a><a id="2614" class="Symbol">}{</a><a id="2616" href="STLCRef.Semantics.html#2616" class="Bound">Σ</a> <a id="2618" href="STLCRef.Semantics.html#2618" class="Bound">Σ&#39;</a> <a id="2621" class="Symbol">:</a> <a id="2623" href="STLCRef.Semantics.html#StoreTy" class="Function">StoreTy</a><a id="2630" class="Symbol">}</a> <a id="2632" class="Symbol">→</a> <a id="2634" href="STLCRef.Semantics.html#2616" class="Bound">Σ</a> <a id="2636" href="Data.List.Prefix.html#_%E2%8A%91_" class="Datatype Operator">⊑</a> <a id="2638" href="STLCRef.Semantics.html#2618" class="Bound">Σ&#39;</a> <a id="2641" class="Symbol">→</a> <a id="2643" href="STLCRef.Semantics.html#Val" class="Datatype">Val</a> <a id="2647" href="STLCRef.Semantics.html#2613" class="Bound">a</a> <a id="2649" href="STLCRef.Semantics.html#2616" class="Bound">Σ</a> <a id="2651" class="Symbol">→</a> <a id="2653" href="STLCRef.Semantics.html#Val" class="Datatype">Val</a> <a id="2657" href="STLCRef.Semantics.html#2613" class="Bound">a</a> <a id="2659" href="STLCRef.Semantics.html#2618" class="Bound">Σ&#39;</a>
  <a id="2664" href="STLCRef.Semantics.html#weaken-val" class="Function">weaken-val</a> <a id="2675" href="STLCRef.Semantics.html#2675" class="Bound">ext</a> <a id="2679" href="STLCRef.Semantics.html#Val.unit" class="InductiveConstructor">unit</a>      <a id="2689" class="Symbol">=</a> <a id="2691" href="STLCRef.Semantics.html#Val.unit" class="InductiveConstructor">unit</a>
  <a id="2698" href="STLCRef.Semantics.html#weaken-val" class="Function">weaken-val</a> <a id="2709" href="STLCRef.Semantics.html#2709" class="Bound">ext</a> <a id="2713" class="Symbol">(</a><a id="2714" href="STLCRef.Semantics.html#Val.loc" class="InductiveConstructor">loc</a> <a id="2718" href="STLCRef.Semantics.html#2718" class="Bound">l</a><a id="2719" class="Symbol">)</a>   <a id="2723" class="Symbol">=</a> <a id="2725" href="STLCRef.Semantics.html#Val.loc" class="InductiveConstructor">loc</a> <a id="2729" class="Symbol">(</a><a id="2730" href="Data.List.Prefix.html#%E2%88%88-%E2%8A%92" class="Function">∈-⊒</a> <a id="2734" href="STLCRef.Semantics.html#2718" class="Bound">l</a> <a id="2736" href="STLCRef.Semantics.html#2709" class="Bound">ext</a><a id="2739" class="Symbol">)</a>
  <a id="2743" href="STLCRef.Semantics.html#weaken-val" class="Function">weaken-val</a> <a id="2754" href="STLCRef.Semantics.html#2754" class="Bound">ext</a> <a id="2758" href="STLCRef.Semantics.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟨</a> <a id="2760" href="STLCRef.Semantics.html#2760" class="Bound">e</a> <a id="2762" href="STLCRef.Semantics.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">,</a> <a id="2764" href="STLCRef.Semantics.html#2764" class="Bound">E</a> <a id="2766" href="STLCRef.Semantics.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟩</a> <a id="2768" class="Symbol">=</a> <a id="2770" href="STLCRef.Semantics.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟨</a> <a id="2772" href="STLCRef.Semantics.html#2760" class="Bound">e</a> <a id="2774" href="STLCRef.Semantics.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">,</a> <a id="2776" href="STLCRef.Semantics.html#weaken-env" class="Function">weaken-env</a> <a id="2787" href="STLCRef.Semantics.html#2754" class="Bound">ext</a> <a id="2791" href="STLCRef.Semantics.html#2764" class="Bound">E</a> <a id="2793" href="STLCRef.Semantics.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟩</a>
  <a id="2797" href="STLCRef.Semantics.html#weaken-val" class="Function">weaken-val</a> <a id="2808" href="STLCRef.Semantics.html#2808" class="Bound">ext</a> <a id="2812" class="Symbol">(</a><a id="2813" href="STLCRef.Semantics.html#Val.num" class="InductiveConstructor">num</a> <a id="2817" href="STLCRef.Semantics.html#2817" class="Bound">z</a><a id="2818" class="Symbol">)</a>   <a id="2822" class="Symbol">=</a> <a id="2824" href="STLCRef.Semantics.html#Val.num" class="InductiveConstructor">num</a> <a id="2828" href="STLCRef.Semantics.html#2817" class="Bound">z</a>

  <a id="weaken-env" href="STLCRef.Semantics.html#weaken-env" class="Function">weaken-env</a>  <a id="2845" class="Symbol">:</a> <a id="2847" class="Symbol">∀</a> <a id="2849" class="Symbol">{</a><a id="2850" href="STLCRef.Semantics.html#2850" class="Bound">Γ</a><a id="2851" class="Symbol">}{</a><a id="2853" href="STLCRef.Semantics.html#2853" class="Bound">Σ</a> <a id="2855" href="STLCRef.Semantics.html#2855" class="Bound">Σ&#39;</a> <a id="2858" class="Symbol">:</a> <a id="2860" href="STLCRef.Semantics.html#StoreTy" class="Function">StoreTy</a><a id="2867" class="Symbol">}</a> <a id="2869" class="Symbol">→</a> <a id="2871" href="STLCRef.Semantics.html#2853" class="Bound">Σ</a> <a id="2873" href="Data.List.Prefix.html#_%E2%8A%91_" class="Datatype Operator">⊑</a> <a id="2875" href="STLCRef.Semantics.html#2855" class="Bound">Σ&#39;</a> <a id="2878" class="Symbol">→</a> <a id="2880" href="STLCRef.Semantics.html#Env" class="Function">Env</a> <a id="2884" href="STLCRef.Semantics.html#2850" class="Bound">Γ</a> <a id="2886" href="STLCRef.Semantics.html#2853" class="Bound">Σ</a> <a id="2888" class="Symbol">→</a> <a id="2890" href="STLCRef.Semantics.html#Env" class="Function">Env</a> <a id="2894" href="STLCRef.Semantics.html#2850" class="Bound">Γ</a> <a id="2896" href="STLCRef.Semantics.html#2855" class="Bound">Σ&#39;</a>
  <a id="2901" href="STLCRef.Semantics.html#weaken-env" class="Function">weaken-env</a> <a id="2912" href="STLCRef.Semantics.html#2912" class="Bound">ext</a> <a id="2916" class="Symbol">(</a><a id="2917" href="STLCRef.Semantics.html#2917" class="Bound">v</a> <a id="2919" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="2921" href="STLCRef.Semantics.html#2921" class="Bound">vs</a><a id="2923" class="Symbol">)</a>  <a id="2926" class="Symbol">=</a> <a id="2928" href="STLCRef.Semantics.html#weaken-val" class="Function">weaken-val</a> <a id="2939" href="STLCRef.Semantics.html#2912" class="Bound">ext</a> <a id="2943" href="STLCRef.Semantics.html#2917" class="Bound">v</a> <a id="2945" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="2947" href="STLCRef.Semantics.html#weaken-env" class="Function">weaken-env</a> <a id="2958" href="STLCRef.Semantics.html#2912" class="Bound">ext</a> <a id="2962" href="STLCRef.Semantics.html#2921" class="Bound">vs</a>
  <a id="2967" href="STLCRef.Semantics.html#weaken-env" class="Function">weaken-env</a> <a id="2978" href="STLCRef.Semantics.html#2978" class="Bound">ext</a> <a id="2982" href="Data.List.All.html#All.%5B%5D" class="InductiveConstructor">[]</a>        <a id="2992" class="Symbol">=</a> <a id="2994" href="Data.List.All.html#All.%5B%5D" class="InductiveConstructor">[]</a>

<a id="2998" class="Comment">-- The definition below asserts that values can be weakened, by adding</a>
<a id="3069" class="Comment">-- an instance argument of `Weakenable (Val t)`.</a>
<a id="3118" class="Comment">--</a>
<a id="3121" class="Comment">-- Here, `Weakenable` is defined as in the paper Section 3.4; see</a>
<a id="3187" class="Comment">-- `Common.Weakening` in this artifact.</a>

<a id="3228" class="Keyword">instance</a>
  <a id="weaken-val&#39;" href="STLCRef.Semantics.html#weaken-val%27" class="Function">weaken-val&#39;</a> <a id="3251" class="Symbol">:</a> <a id="3253" class="Symbol">∀</a> <a id="3255" class="Symbol">{</a><a id="3256" href="STLCRef.Semantics.html#3256" class="Bound">t</a><a id="3257" class="Symbol">}</a> <a id="3259" class="Symbol">→</a> <a id="3261" href="Common.Weakening.html#Weakenable" class="Record">Weakenable</a> <a id="3272" class="Symbol">(</a><a id="3273" href="STLCRef.Semantics.html#Val" class="Datatype">Val</a> <a id="3277" href="STLCRef.Semantics.html#3256" class="Bound">t</a><a id="3278" class="Symbol">)</a>
  <a id="3282" href="STLCRef.Semantics.html#weaken-val%27" class="Function">weaken-val&#39;</a> <a id="3294" class="Symbol">=</a> <a id="3296" class="Keyword">record</a> <a id="3303" class="Symbol">{</a> <a id="3305" class="Field">wk</a> <a id="3308" class="Symbol">=</a> <a id="3310" href="STLCRef.Semantics.html#weaken-val" class="Function">weaken-val</a> <a id="3321" class="Symbol">}</a>

<a id="return" href="STLCRef.Semantics.html#return" class="Function">return</a>   <a id="3333" class="Symbol">:</a>    <a id="3338" class="Symbol">∀</a> <a id="3340" class="Symbol">{</a><a id="3341" href="STLCRef.Semantics.html#3341" class="Bound">Σ</a> <a id="3343" href="STLCRef.Semantics.html#3343" class="Bound">Γ</a><a id="3344" class="Symbol">}{</a><a id="3346" href="STLCRef.Semantics.html#3346" class="Bound">p</a> <a id="3348" class="Symbol">:</a> <a id="3350" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="3355" href="STLCRef.Semantics.html#Ty" class="Datatype">Ty</a> <a id="3358" class="Symbol">→</a> <a id="3360" class="PrimitiveType">Set</a><a id="3363" class="Symbol">}</a> <a id="3365" class="Symbol">→</a> <a id="3367" href="STLCRef.Semantics.html#3346" class="Bound">p</a> <a id="3369" href="STLCRef.Semantics.html#3341" class="Bound">Σ</a> <a id="3371" class="Symbol">→</a> <a id="3373" href="STLCRef.Semantics.html#M" class="Function">M</a> <a id="3375" href="STLCRef.Semantics.html#3343" class="Bound">Γ</a> <a id="3377" href="STLCRef.Semantics.html#3346" class="Bound">p</a> <a id="3379" href="STLCRef.Semantics.html#3341" class="Bound">Σ</a>
<a id="3381" href="STLCRef.Semantics.html#return" class="Function">return</a> <a id="3388" href="STLCRef.Semantics.html#3388" class="Bound">x</a> <a id="3390" href="STLCRef.Semantics.html#3390" class="Bound">E</a> <a id="3392" href="STLCRef.Semantics.html#3392" class="Bound">μ</a> <a id="3394" class="Symbol">=</a> <a id="3396" href="Data.Maybe.Base.html#Maybe.just" class="InductiveConstructor">just</a> <a id="3401" class="Symbol">(_</a> <a id="3404" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3406" href="STLCRef.Semantics.html#3392" class="Bound">μ</a> <a id="3408" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3410" href="STLCRef.Semantics.html#3388" class="Bound">x</a> <a id="3412" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3414" href="Data.List.Prefix.html#%E2%8A%91-refl" class="Function">⊑-refl</a><a id="3420" class="Symbol">)</a>

<a id="_&gt;&gt;=_" href="STLCRef.Semantics.html#_%3E%3E%3D_" class="Function Operator">_&gt;&gt;=_</a> <a id="3429" class="Symbol">:</a> <a id="3431" class="Symbol">∀</a> <a id="3433" class="Symbol">{</a><a id="3434" href="STLCRef.Semantics.html#3434" class="Bound">Σ</a> <a id="3436" href="STLCRef.Semantics.html#3436" class="Bound">Γ</a><a id="3437" class="Symbol">}{</a><a id="3439" href="STLCRef.Semantics.html#3439" class="Bound">p</a> <a id="3441" href="STLCRef.Semantics.html#3441" class="Bound">q</a> <a id="3443" class="Symbol">:</a> <a id="3445" href="STLCRef.Semantics.html#StoreTy" class="Function">StoreTy</a> <a id="3453" class="Symbol">→</a> <a id="3455" class="PrimitiveType">Set</a><a id="3458" class="Symbol">}</a> <a id="3460" class="Symbol">→</a>
        <a id="3470" class="Symbol">(</a><a id="3471" href="STLCRef.Semantics.html#3471" class="Bound">f</a> <a id="3473" class="Symbol">:</a> <a id="3475" href="STLCRef.Semantics.html#M" class="Function">M</a> <a id="3477" href="STLCRef.Semantics.html#3436" class="Bound">Γ</a> <a id="3479" href="STLCRef.Semantics.html#3439" class="Bound">p</a> <a id="3481" href="STLCRef.Semantics.html#3434" class="Bound">Σ</a><a id="3482" class="Symbol">)</a> <a id="3484" class="Symbol">→</a> <a id="3486" class="Symbol">(</a><a id="3487" href="STLCRef.Semantics.html#3487" class="Bound">g</a> <a id="3489" class="Symbol">:</a> <a id="3491" class="Symbol">∀</a> <a id="3493" class="Symbol">{</a><a id="3494" href="STLCRef.Semantics.html#3494" class="Bound">Σ&#39;</a><a id="3496" class="Symbol">}</a> <a id="3498" class="Symbol">→</a> <a id="3500" href="STLCRef.Semantics.html#3439" class="Bound">p</a> <a id="3502" href="STLCRef.Semantics.html#3494" class="Bound">Σ&#39;</a> <a id="3505" class="Symbol">→</a> <a id="3507" href="STLCRef.Semantics.html#M" class="Function">M</a> <a id="3509" href="STLCRef.Semantics.html#3436" class="Bound">Γ</a> <a id="3511" href="STLCRef.Semantics.html#3441" class="Bound">q</a> <a id="3513" href="STLCRef.Semantics.html#3494" class="Bound">Σ&#39;</a><a id="3515" class="Symbol">)</a> <a id="3517" class="Symbol">→</a> <a id="3519" href="STLCRef.Semantics.html#M" class="Function">M</a> <a id="3521" href="STLCRef.Semantics.html#3436" class="Bound">Γ</a> <a id="3523" href="STLCRef.Semantics.html#3441" class="Bound">q</a> <a id="3525" href="STLCRef.Semantics.html#3434" class="Bound">Σ</a>
<a id="3527" class="Symbol">(</a><a id="3528" href="STLCRef.Semantics.html#3528" class="Bound">f</a> <a id="3530" href="STLCRef.Semantics.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="3534" href="STLCRef.Semantics.html#3534" class="Bound">c</a><a id="3535" class="Symbol">)</a> <a id="3537" href="STLCRef.Semantics.html#3537" class="Bound">E</a> <a id="3539" href="STLCRef.Semantics.html#3539" class="Bound">μ</a> <a id="3541" class="Symbol">=</a> <a id="3543" href="Function.html#case_of_" class="Function Operator">case</a> <a id="3548" class="Symbol">(</a><a id="3549" href="STLCRef.Semantics.html#3528" class="Bound">f</a> <a id="3551" href="STLCRef.Semantics.html#3537" class="Bound">E</a> <a id="3553" href="STLCRef.Semantics.html#3539" class="Bound">μ</a><a id="3554" class="Symbol">)</a> <a id="3556" href="Function.html#case_of_" class="Function Operator">of</a> <a id="3559" class="Symbol">λ{</a>
  <a id="3564" href="Data.Maybe.Base.html#Maybe.nothing" class="InductiveConstructor">nothing</a> <a id="3572" class="Symbol">→</a> <a id="3574" href="Data.Maybe.Base.html#Maybe.nothing" class="InductiveConstructor">nothing</a> <a id="3582" class="Symbol">;</a>
  <a id="3586" class="Symbol">(</a><a id="3587" href="Data.Maybe.Base.html#Maybe.just" class="InductiveConstructor">just</a> <a id="3592" class="Symbol">(_</a> <a id="3595" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3597" href="STLCRef.Semantics.html#3597" class="Bound">μ&#39;</a> <a id="3600" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3602" href="STLCRef.Semantics.html#3602" class="Bound">x</a> <a id="3604" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3606" href="STLCRef.Semantics.html#3606" class="Bound">ext</a><a id="3609" class="Symbol">))</a> <a id="3612" class="Symbol">→</a> <a id="3614" href="Function.html#case_of_" class="Function Operator">case</a> <a id="3619" class="Symbol">(</a><a id="3620" href="STLCRef.Semantics.html#3534" class="Bound">c</a> <a id="3622" href="STLCRef.Semantics.html#3602" class="Bound">x</a> <a id="3624" class="Symbol">(</a><a id="3625" href="STLCRef.Semantics.html#weaken-env" class="Function">weaken-env</a> <a id="3636" href="STLCRef.Semantics.html#3606" class="Bound">ext</a> <a id="3640" href="STLCRef.Semantics.html#3537" class="Bound">E</a><a id="3641" class="Symbol">)</a> <a id="3643" href="STLCRef.Semantics.html#3597" class="Bound">μ&#39;</a><a id="3645" class="Symbol">)</a> <a id="3647" href="Function.html#case_of_" class="Function Operator">of</a> <a id="3650" class="Symbol">λ{</a>
    <a id="3657" href="Data.Maybe.Base.html#Maybe.nothing" class="InductiveConstructor">nothing</a> <a id="3665" class="Symbol">→</a> <a id="3667" href="Data.Maybe.Base.html#Maybe.nothing" class="InductiveConstructor">nothing</a> <a id="3675" class="Symbol">;</a>
    <a id="3681" class="Symbol">(</a><a id="3682" href="Data.Maybe.Base.html#Maybe.just" class="InductiveConstructor">just</a> <a id="3687" class="Symbol">(_</a> <a id="3690" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3692" href="STLCRef.Semantics.html#3692" class="Bound">μ&#39;&#39;</a> <a id="3696" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3698" href="STLCRef.Semantics.html#3698" class="Bound">y</a> <a id="3700" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3702" href="STLCRef.Semantics.html#3702" class="Bound">ext&#39;</a><a id="3706" class="Symbol">))</a> <a id="3709" class="Symbol">→</a> <a id="3711" href="Data.Maybe.Base.html#Maybe.just" class="InductiveConstructor">just</a> <a id="3716" class="Symbol">(_</a> <a id="3719" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3721" href="STLCRef.Semantics.html#3692" class="Bound">μ&#39;&#39;</a> <a id="3725" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3727" href="STLCRef.Semantics.html#3698" class="Bound">y</a> <a id="3729" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3731" href="STLCRef.Semantics.html#3606" class="Bound">ext</a> <a id="3735" href="Common.Weakening.html#_%E2%8A%9A_" class="Function Operator">⊚</a> <a id="3737" href="STLCRef.Semantics.html#3702" class="Bound">ext&#39;</a><a id="3741" class="Symbol">)</a>
  <a id="3745" class="Symbol">}}</a>

<a id="getEnv" href="STLCRef.Semantics.html#getEnv" class="Function">getEnv</a>   <a id="3758" class="Symbol">:</a>    <a id="3763" class="Symbol">∀</a> <a id="3765" class="Symbol">{</a><a id="3766" href="STLCRef.Semantics.html#3766" class="Bound">Σ</a> <a id="3768" href="STLCRef.Semantics.html#3768" class="Bound">Γ</a><a id="3769" class="Symbol">}</a> <a id="3771" class="Symbol">→</a> <a id="3773" href="STLCRef.Semantics.html#M" class="Function">M</a> <a id="3775" href="STLCRef.Semantics.html#3768" class="Bound">Γ</a> <a id="3777" class="Symbol">(</a><a id="3778" href="STLCRef.Semantics.html#Env" class="Function">Env</a> <a id="3782" href="STLCRef.Semantics.html#3768" class="Bound">Γ</a><a id="3783" class="Symbol">)</a> <a id="3785" href="STLCRef.Semantics.html#3766" class="Bound">Σ</a>
<a id="3787" href="STLCRef.Semantics.html#getEnv" class="Function">getEnv</a> <a id="3794" href="STLCRef.Semantics.html#3794" class="Bound">E</a> <a id="3796" class="Symbol">=</a> <a id="3798" href="STLCRef.Semantics.html#return" class="Function">return</a> <a id="3805" href="STLCRef.Semantics.html#3794" class="Bound">E</a> <a id="3807" href="STLCRef.Semantics.html#3794" class="Bound">E</a>

<a id="usingEnv" href="STLCRef.Semantics.html#usingEnv" class="Function">usingEnv</a>   <a id="3821" class="Symbol">:</a>    <a id="3826" class="Symbol">∀</a> <a id="3828" class="Symbol">{</a><a id="3829" href="STLCRef.Semantics.html#3829" class="Bound">Σ</a> <a id="3831" href="STLCRef.Semantics.html#3831" class="Bound">Γ</a> <a id="3833" href="STLCRef.Semantics.html#3833" class="Bound">Γ&#39;</a><a id="3835" class="Symbol">}{</a><a id="3837" href="STLCRef.Semantics.html#3837" class="Bound">p</a> <a id="3839" class="Symbol">:</a> <a id="3841" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="3846" href="STLCRef.Semantics.html#Ty" class="Datatype">Ty</a> <a id="3849" class="Symbol">→</a> <a id="3851" class="PrimitiveType">Set</a><a id="3854" class="Symbol">}</a> <a id="3856" class="Symbol">→</a> <a id="3858" href="STLCRef.Semantics.html#Env" class="Function">Env</a> <a id="3862" href="STLCRef.Semantics.html#3831" class="Bound">Γ</a> <a id="3864" href="STLCRef.Semantics.html#3829" class="Bound">Σ</a> <a id="3866" class="Symbol">→</a> <a id="3868" href="STLCRef.Semantics.html#M" class="Function">M</a> <a id="3870" href="STLCRef.Semantics.html#3831" class="Bound">Γ</a> <a id="3872" href="STLCRef.Semantics.html#3837" class="Bound">p</a> <a id="3874" href="STLCRef.Semantics.html#3829" class="Bound">Σ</a> <a id="3876" class="Symbol">→</a> <a id="3878" href="STLCRef.Semantics.html#M" class="Function">M</a> <a id="3880" href="STLCRef.Semantics.html#3833" class="Bound">Γ&#39;</a> <a id="3883" href="STLCRef.Semantics.html#3837" class="Bound">p</a> <a id="3885" href="STLCRef.Semantics.html#3829" class="Bound">Σ</a>
<a id="3887" href="STLCRef.Semantics.html#usingEnv" class="Function">usingEnv</a> <a id="3896" href="STLCRef.Semantics.html#3896" class="Bound">E</a> <a id="3898" href="STLCRef.Semantics.html#3898" class="Bound">f</a>  <a id="3901" class="Symbol">_</a> <a id="3903" class="Symbol">=</a> <a id="3905" href="STLCRef.Semantics.html#3898" class="Bound">f</a> <a id="3907" href="STLCRef.Semantics.html#3896" class="Bound">E</a>

<a id="timeout" href="STLCRef.Semantics.html#timeout" class="Function">timeout</a>  <a id="3919" class="Symbol">:</a>    <a id="3924" class="Symbol">∀</a> <a id="3926" class="Symbol">{</a><a id="3927" href="STLCRef.Semantics.html#3927" class="Bound">Σ</a> <a id="3929" href="STLCRef.Semantics.html#3929" class="Bound">Γ</a><a id="3930" class="Symbol">}{</a><a id="3932" href="STLCRef.Semantics.html#3932" class="Bound">p</a> <a id="3934" class="Symbol">:</a> <a id="3936" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="3941" href="STLCRef.Semantics.html#Ty" class="Datatype">Ty</a> <a id="3944" class="Symbol">→</a> <a id="3946" class="PrimitiveType">Set</a><a id="3949" class="Symbol">}</a> <a id="3951" class="Symbol">→</a> <a id="3953" href="STLCRef.Semantics.html#M" class="Function">M</a> <a id="3955" href="STLCRef.Semantics.html#3929" class="Bound">Γ</a> <a id="3957" href="STLCRef.Semantics.html#3932" class="Bound">p</a> <a id="3959" href="STLCRef.Semantics.html#3927" class="Bound">Σ</a>
<a id="3961" href="STLCRef.Semantics.html#timeout" class="Function">timeout</a> <a id="3969" class="Symbol">_</a> <a id="3971" class="Symbol">_</a> <a id="3973" class="Symbol">=</a> <a id="3975" href="Data.Maybe.Base.html#Maybe.nothing" class="InductiveConstructor">nothing</a>

<a id="store" href="STLCRef.Semantics.html#store" class="Function">store</a>    <a id="3993" class="Symbol">:</a>    <a id="3998" class="Symbol">∀</a> <a id="4000" class="Symbol">{</a><a id="4001" href="STLCRef.Semantics.html#4001" class="Bound">Σ</a> <a id="4003" href="STLCRef.Semantics.html#4003" class="Bound">t</a> <a id="4005" href="STLCRef.Semantics.html#4005" class="Bound">Γ</a><a id="4006" class="Symbol">}</a> <a id="4008" class="Symbol">→</a> <a id="4010" href="STLCRef.Semantics.html#Val" class="Datatype">Val</a> <a id="4014" href="STLCRef.Semantics.html#4003" class="Bound">t</a> <a id="4016" href="STLCRef.Semantics.html#4001" class="Bound">Σ</a> <a id="4018" class="Symbol">→</a> <a id="4020" href="STLCRef.Semantics.html#M" class="Function">M</a> <a id="4022" href="STLCRef.Semantics.html#4005" class="Bound">Γ</a> <a id="4024" class="Symbol">(</a><a id="4025" href="STLCRef.Semantics.html#Val" class="Datatype">Val</a> <a id="4029" class="Symbol">(</a><a id="4030" href="STLCRef.Semantics.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="4034" href="STLCRef.Semantics.html#4003" class="Bound">t</a><a id="4035" class="Symbol">))</a> <a id="4038" href="STLCRef.Semantics.html#4001" class="Bound">Σ</a>
<a id="4040" href="STLCRef.Semantics.html#store" class="Function">store</a> <a id="4046" class="Symbol">{</a><a id="4047" href="STLCRef.Semantics.html#4047" class="Bound">Σ</a><a id="4048" class="Symbol">}</a> <a id="4050" class="Symbol">{</a><a id="4051" href="STLCRef.Semantics.html#4051" class="Bound">t</a><a id="4052" class="Symbol">}</a> <a id="4054" href="STLCRef.Semantics.html#4054" class="Bound">v</a> <a id="4056" class="Symbol">_</a> <a id="4058" href="STLCRef.Semantics.html#4058" class="Bound">μ</a>
  <a id="4062" class="Symbol">=</a> <a id="4064" class="Keyword">let</a> <a id="4068" href="STLCRef.Semantics.html#4068" class="Bound">ext</a> <a id="4072" class="Symbol">=</a> <a id="4074" href="Data.List.Prefix.html#%E2%88%B7%CA%B3-%E2%8A%92" class="Function">∷ʳ-⊒</a> <a id="4079" href="STLCRef.Semantics.html#4051" class="Bound">t</a> <a id="4081" href="STLCRef.Semantics.html#4047" class="Bound">Σ</a>
        <a id="4091" href="STLCRef.Semantics.html#4091" class="Bound">v&#39;</a>  <a id="4095" class="Symbol">=</a> <a id="4097" href="STLCRef.Semantics.html#Val.loc" class="InductiveConstructor">loc</a> <a id="4101" class="Symbol">(</a><a id="4102" href="Data.List.Properties.Extra.html#%E2%88%88-%E2%88%B7%CA%B3" class="Function">∈-∷ʳ</a> <a id="4107" href="STLCRef.Semantics.html#4047" class="Bound">Σ</a> <a id="4109" href="STLCRef.Semantics.html#4051" class="Bound">t</a><a id="4110" class="Symbol">)</a>
        <a id="4120" href="STLCRef.Semantics.html#4120" class="Bound">μ&#39;</a>  <a id="4124" class="Symbol">=</a> <a id="4126" class="Symbol">(</a><a id="4127" href="Data.List.All.html#map" class="Function">List∀.map</a> <a id="4137" class="Symbol">(</a><a id="4138" href="STLCRef.Semantics.html#weaken-val" class="Function">weaken-val</a> <a id="4149" href="STLCRef.Semantics.html#4068" class="Bound">ext</a><a id="4152" class="Symbol">)</a> <a id="4154" href="STLCRef.Semantics.html#4058" class="Bound">μ</a><a id="4155" class="Symbol">)</a> <a id="4157" href="Data.List.All.Properties.Extra.html#_all-%E2%88%B7%CA%B3_" class="Function Operator">all-∷ʳ</a> <a id="4164" class="Symbol">(</a><a id="4165" href="STLCRef.Semantics.html#weaken-val" class="Function">weaken-val</a> <a id="4176" href="STLCRef.Semantics.html#4068" class="Bound">ext</a> <a id="4180" href="STLCRef.Semantics.html#4054" class="Bound">v</a><a id="4181" class="Symbol">)</a>
    <a id="4187" class="Keyword">in</a> <a id="4190" href="Data.Maybe.Base.html#Maybe.just" class="InductiveConstructor">just</a> <a id="4195" class="Symbol">(_</a> <a id="4198" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4200" href="STLCRef.Semantics.html#4120" class="Bound">μ&#39;</a> <a id="4203" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4205" href="STLCRef.Semantics.html#4091" class="Bound">v&#39;</a> <a id="4208" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4210" href="STLCRef.Semantics.html#4068" class="Bound">ext</a><a id="4213" class="Symbol">)</a>

<a id="deref" href="STLCRef.Semantics.html#deref" class="Function">deref</a>    <a id="4225" class="Symbol">:</a>    <a id="4230" class="Symbol">∀</a> <a id="4232" class="Symbol">{</a><a id="4233" href="STLCRef.Semantics.html#4233" class="Bound">Σ</a> <a id="4235" href="STLCRef.Semantics.html#4235" class="Bound">Γ</a> <a id="4237" href="STLCRef.Semantics.html#4237" class="Bound">t</a><a id="4238" class="Symbol">}</a> <a id="4240" class="Symbol">→</a> <a id="4242" href="STLCRef.Semantics.html#4237" class="Bound">t</a> <a id="4244" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="4246" href="STLCRef.Semantics.html#4233" class="Bound">Σ</a> <a id="4248" class="Symbol">→</a> <a id="4250" href="STLCRef.Semantics.html#M" class="Function">M</a> <a id="4252" href="STLCRef.Semantics.html#4235" class="Bound">Γ</a> <a id="4254" class="Symbol">(</a><a id="4255" href="STLCRef.Semantics.html#Val" class="Datatype">Val</a> <a id="4259" href="STLCRef.Semantics.html#4237" class="Bound">t</a><a id="4260" class="Symbol">)</a> <a id="4262" href="STLCRef.Semantics.html#4233" class="Bound">Σ</a>
<a id="4264" href="STLCRef.Semantics.html#deref" class="Function">deref</a> <a id="4270" href="STLCRef.Semantics.html#4270" class="Bound">x</a> <a id="4272" href="STLCRef.Semantics.html#4272" class="Bound">E</a> <a id="4274" href="STLCRef.Semantics.html#4274" class="Bound">μ</a> <a id="4276" class="Symbol">=</a> <a id="4278" href="STLCRef.Semantics.html#return" class="Function">return</a> <a id="4285" class="Symbol">(</a><a id="4286" href="Data.List.All.html#lookup" class="Function">lookup</a> <a id="4293" href="STLCRef.Semantics.html#4274" class="Bound">μ</a> <a id="4295" href="STLCRef.Semantics.html#4270" class="Bound">x</a><a id="4296" class="Symbol">)</a> <a id="4298" href="STLCRef.Semantics.html#4272" class="Bound">E</a> <a id="4300" href="STLCRef.Semantics.html#4274" class="Bound">μ</a>

<a id="update" href="STLCRef.Semantics.html#update" class="Function">update</a>   <a id="4312" class="Symbol">:</a>    <a id="4317" class="Symbol">∀</a> <a id="4319" class="Symbol">{</a><a id="4320" href="STLCRef.Semantics.html#4320" class="Bound">Σ</a> <a id="4322" href="STLCRef.Semantics.html#4322" class="Bound">Γ</a> <a id="4324" href="STLCRef.Semantics.html#4324" class="Bound">t</a><a id="4325" class="Symbol">}</a> <a id="4327" class="Symbol">→</a> <a id="4329" href="STLCRef.Semantics.html#4324" class="Bound">t</a> <a id="4331" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="4333" href="STLCRef.Semantics.html#4320" class="Bound">Σ</a> <a id="4335" class="Symbol">→</a> <a id="4337" href="STLCRef.Semantics.html#Val" class="Datatype">Val</a> <a id="4341" href="STLCRef.Semantics.html#4324" class="Bound">t</a> <a id="4343" href="STLCRef.Semantics.html#4320" class="Bound">Σ</a> <a id="4345" class="Symbol">→</a> <a id="4347" href="STLCRef.Semantics.html#M" class="Function">M</a> <a id="4349" href="STLCRef.Semantics.html#4322" class="Bound">Γ</a> <a id="4351" class="Symbol">(λ</a> <a id="4354" href="STLCRef.Semantics.html#4354" class="Bound">_</a> <a id="4356" class="Symbol">→</a> <a id="4358" href="Agda.Builtin.Unit.html#%E2%8A%A4" class="Record">⊤</a><a id="4359" class="Symbol">)</a> <a id="4361" href="STLCRef.Semantics.html#4320" class="Bound">Σ</a>
<a id="4363" href="STLCRef.Semantics.html#update" class="Function">update</a> <a id="4370" href="STLCRef.Semantics.html#4370" class="Bound">x</a> <a id="4372" href="STLCRef.Semantics.html#4372" class="Bound">v</a> <a id="4374" href="STLCRef.Semantics.html#4374" class="Bound">E</a> <a id="4376" href="STLCRef.Semantics.html#4376" class="Bound">μ</a> <a id="4378" class="Symbol">=</a> <a id="4380" href="STLCRef.Semantics.html#return" class="Function">return</a> <a id="4387" href="Agda.Builtin.Unit.html#%E2%8A%A4.tt" class="InductiveConstructor">tt</a> <a id="4390" href="STLCRef.Semantics.html#4374" class="Bound">E</a> <a id="4392" class="Symbol">(</a><a id="4393" href="STLCRef.Semantics.html#update-store" class="Function">update-store</a> <a id="4406" href="STLCRef.Semantics.html#4370" class="Bound">x</a> <a id="4408" href="STLCRef.Semantics.html#4372" class="Bound">v</a> <a id="4410" href="STLCRef.Semantics.html#4376" class="Bound">μ</a><a id="4411" class="Symbol">)</a>

<a id="weaken" href="STLCRef.Semantics.html#weaken" class="Function">weaken</a> <a id="4421" class="Symbol">:</a> <a id="4423" class="Symbol">∀</a> <a id="4425" class="Symbol">{</a><a id="4426" href="STLCRef.Semantics.html#4426" class="Bound">i</a><a id="4427" class="Symbol">}{</a><a id="4429" href="STLCRef.Semantics.html#4429" class="Bound">p</a> <a id="4431" class="Symbol">:</a> <a id="4433" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="4438" href="STLCRef.Semantics.html#Ty" class="Datatype">Ty</a> <a id="4441" class="Symbol">→</a> <a id="4443" class="PrimitiveType">Set</a> <a id="4447" href="STLCRef.Semantics.html#4426" class="Bound">i</a><a id="4448" class="Symbol">}⦃</a> <a id="4451" href="STLCRef.Semantics.html#4451" class="Bound">w</a> <a id="4453" class="Symbol">:</a> <a id="4455" href="Common.Weakening.html#Weakenable" class="Record">Weakenable</a> <a id="4466" href="STLCRef.Semantics.html#4429" class="Bound">p</a> <a id="4468" class="Symbol">⦄</a> <a id="4470" class="Symbol">→</a> <a id="4472" class="Symbol">∀</a> <a id="4474" class="Symbol">{</a><a id="4475" href="STLCRef.Semantics.html#4475" class="Bound">Σ</a> <a id="4477" href="STLCRef.Semantics.html#4477" class="Bound">Σ&#39;</a><a id="4479" class="Symbol">}</a> <a id="4481" class="Symbol">→</a> <a id="4483" href="STLCRef.Semantics.html#4475" class="Bound">Σ</a> <a id="4485" href="Data.List.Prefix.html#_%E2%8A%91_" class="Datatype Operator">⊑</a> <a id="4487" href="STLCRef.Semantics.html#4477" class="Bound">Σ&#39;</a> <a id="4490" class="Symbol">→</a> <a id="4492" href="STLCRef.Semantics.html#4429" class="Bound">p</a> <a id="4494" href="STLCRef.Semantics.html#4475" class="Bound">Σ</a> <a id="4496" class="Symbol">→</a> <a id="4498" href="STLCRef.Semantics.html#4429" class="Bound">p</a> <a id="4500" href="STLCRef.Semantics.html#4477" class="Bound">Σ&#39;</a>
<a id="4503" href="STLCRef.Semantics.html#weaken" class="Function">weaken</a> <a id="4510" class="Symbol">⦃</a> <a id="4512" href="STLCRef.Semantics.html#4512" class="Bound">w</a> <a id="4514" class="Symbol">⦄</a> <a id="4516" href="STLCRef.Semantics.html#4516" class="Bound">ext</a> <a id="4520" href="STLCRef.Semantics.html#4520" class="Bound">v</a> <a id="4522" class="Symbol">=</a> <a id="4524" href="Common.Weakening.html#Weakenable.wk" class="Field">Weakenable.wk</a> <a id="4538" href="STLCRef.Semantics.html#4512" class="Bound">w</a> <a id="4540" href="STLCRef.Semantics.html#4516" class="Bound">ext</a> <a id="4544" href="STLCRef.Semantics.html#4520" class="Bound">v</a>


<a id="4548" class="Comment">--------------------------------</a>
<a id="4581" class="Comment">-- STRONG MONADIC INTERPRETER --</a>
<a id="4614" class="Comment">--------------------------------</a>

<a id="4648" class="Comment">-- These definitions correspond to Section 3.4.</a>
<a id="4696" class="Comment">--</a>
<a id="4699" class="Comment">-- The definition of `_^_` below is defined in terms of the `_⊗_`</a>
<a id="4765" class="Comment">-- type, which is defined in `Common.Strength` in this artifact.</a>
<a id="4830" class="Comment">-- `Common.Strength._⊗_` is defined in a universe polymorphic manner.</a>

<a id="_^_" href="STLCRef.Semantics.html#_%5E_" class="Function Operator">_^_</a>  <a id="4906" class="Symbol">:</a> <a id="4908" class="Symbol">∀</a> <a id="4910" class="Symbol">{</a><a id="4911" href="STLCRef.Semantics.html#4911" class="Bound">Σ</a> <a id="4913" href="STLCRef.Semantics.html#4913" class="Bound">Γ</a><a id="4914" class="Symbol">}{</a><a id="4916" href="STLCRef.Semantics.html#4916" class="Bound">p</a> <a id="4918" href="STLCRef.Semantics.html#4918" class="Bound">q</a> <a id="4920" class="Symbol">:</a> <a id="4922" href="STLCRef.Semantics.html#StoreTy" class="Function">StoreTy</a> <a id="4930" class="Symbol">→</a> <a id="4932" class="PrimitiveType">Set</a><a id="4935" class="Symbol">}</a> <a id="4937" class="Symbol">→</a> <a id="4939" class="Symbol">⦃</a> <a id="4941" href="STLCRef.Semantics.html#4941" class="Bound">w</a> <a id="4943" class="Symbol">:</a> <a id="4945" href="Common.Weakening.html#Weakenable" class="Record">Weakenable</a> <a id="4956" href="STLCRef.Semantics.html#4918" class="Bound">q</a> <a id="4958" class="Symbol">⦄</a> <a id="4960" class="Symbol">→</a> <a id="4962" href="STLCRef.Semantics.html#M" class="Function">M</a> <a id="4964" href="STLCRef.Semantics.html#4913" class="Bound">Γ</a> <a id="4966" href="STLCRef.Semantics.html#4916" class="Bound">p</a> <a id="4968" href="STLCRef.Semantics.html#4911" class="Bound">Σ</a> <a id="4970" class="Symbol">→</a> <a id="4972" href="STLCRef.Semantics.html#4918" class="Bound">q</a> <a id="4974" href="STLCRef.Semantics.html#4911" class="Bound">Σ</a> <a id="4976" class="Symbol">→</a> <a id="4978" href="STLCRef.Semantics.html#M" class="Function">M</a> <a id="4980" href="STLCRef.Semantics.html#4913" class="Bound">Γ</a> <a id="4982" class="Symbol">(</a><a id="4983" href="STLCRef.Semantics.html#4916" class="Bound">p</a> <a id="4985" href="Common.Strength.html#_%E2%8A%97_" class="Datatype Operator">⊗</a> <a id="4987" href="STLCRef.Semantics.html#4918" class="Bound">q</a><a id="4988" class="Symbol">)</a> <a id="4990" href="STLCRef.Semantics.html#4911" class="Bound">Σ</a>
<a id="4992" class="Symbol">(</a><a id="4993" href="STLCRef.Semantics.html#4993" class="Bound">f</a> <a id="4995" href="STLCRef.Semantics.html#_%5E_" class="Function Operator">^</a> <a id="4997" href="STLCRef.Semantics.html#4997" class="Bound">x</a><a id="4998" class="Symbol">)</a> <a id="5000" href="STLCRef.Semantics.html#5000" class="Bound">E</a> <a id="5002" href="STLCRef.Semantics.html#5002" class="Bound">μ</a> <a id="5004" class="Symbol">=</a> <a id="5006" href="Function.html#case_of_" class="Function Operator">case</a> <a id="5011" class="Symbol">(</a><a id="5012" href="STLCRef.Semantics.html#4993" class="Bound">f</a> <a id="5014" href="STLCRef.Semantics.html#5000" class="Bound">E</a> <a id="5016" href="STLCRef.Semantics.html#5002" class="Bound">μ</a><a id="5017" class="Symbol">)</a> <a id="5019" href="Function.html#case_of_" class="Function Operator">of</a> <a id="5022" class="Symbol">λ</a> <a id="5024" class="Symbol">{</a>
  <a id="5028" href="Data.Maybe.Base.html#Maybe.nothing" class="InductiveConstructor">nothing</a> <a id="5036" class="Symbol">→</a> <a id="5038" href="Data.Maybe.Base.html#Maybe.nothing" class="InductiveConstructor">nothing</a> <a id="5046" class="Symbol">;</a>
  <a id="5050" class="Symbol">(</a><a id="5051" href="Data.Maybe.Base.html#Maybe.just" class="InductiveConstructor">just</a> <a id="5056" class="Symbol">(</a><a id="5057" href="STLCRef.Semantics.html#5057" class="Bound">Σ</a> <a id="5059" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="5061" href="STLCRef.Semantics.html#5061" class="Bound">μ&#39;</a> <a id="5064" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="5066" href="STLCRef.Semantics.html#5066" class="Bound">y</a> <a id="5068" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="5070" href="STLCRef.Semantics.html#5070" class="Bound">ext</a><a id="5073" class="Symbol">))</a> <a id="5076" class="Symbol">→</a> <a id="5078" href="Data.Maybe.Base.html#Maybe.just" class="InductiveConstructor">just</a> <a id="5083" class="Symbol">(</a><a id="5084" href="STLCRef.Semantics.html#5057" class="Bound">Σ</a> <a id="5086" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="5088" href="STLCRef.Semantics.html#5061" class="Bound">μ&#39;</a> <a id="5091" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="5093" class="Symbol">(</a><a id="5094" href="STLCRef.Semantics.html#5066" class="Bound">y</a> <a id="5096" href="Common.Strength.html#_%E2%8A%97_._%2C_" class="InductiveConstructor Operator">,</a> <a id="5098" href="STLCRef.Semantics.html#weaken" class="Function">weaken</a> <a id="5105" href="STLCRef.Semantics.html#5070" class="Bound">ext</a> <a id="5109" href="STLCRef.Semantics.html#4997" class="Bound">x</a><a id="5110" class="Symbol">)</a> <a id="5112" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="5114" href="STLCRef.Semantics.html#5070" class="Bound">ext</a><a id="5117" class="Symbol">)</a> <a id="5119" class="Symbol">}</a>


<a id="eval" href="STLCRef.Semantics.html#eval" class="Function">eval</a> <a id="5128" class="Symbol">:</a> <a id="5130" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="5132" class="Symbol">→</a> <a id="5134" class="Symbol">∀</a> <a id="5136" class="Symbol">{</a><a id="5137" href="STLCRef.Semantics.html#5137" class="Bound">Σ</a> <a id="5139" href="STLCRef.Semantics.html#5139" class="Bound">Γ</a> <a id="5141" href="STLCRef.Semantics.html#5141" class="Bound">t</a><a id="5142" class="Symbol">}</a> <a id="5144" class="Symbol">→</a> <a id="5146" href="STLCRef.Semantics.html#Expr" class="Datatype">Expr</a> <a id="5151" href="STLCRef.Semantics.html#5139" class="Bound">Γ</a> <a id="5153" href="STLCRef.Semantics.html#5141" class="Bound">t</a> <a id="5155" class="Symbol">→</a> <a id="5157" href="STLCRef.Semantics.html#M" class="Function">M</a> <a id="5159" href="STLCRef.Semantics.html#5139" class="Bound">Γ</a> <a id="5161" class="Symbol">(</a><a id="5162" href="STLCRef.Semantics.html#Val" class="Datatype">Val</a> <a id="5166" href="STLCRef.Semantics.html#5141" class="Bound">t</a><a id="5167" class="Symbol">)</a> <a id="5169" href="STLCRef.Semantics.html#5137" class="Bound">Σ</a>
<a id="5171" href="STLCRef.Semantics.html#eval" class="Function">eval</a> <a id="5176" href="Agda.Builtin.Nat.html#Nat.zero" class="InductiveConstructor">zero</a>     <a id="5185" class="Symbol">_</a>           <a id="5197" class="Symbol">=</a>
  <a id="5201" href="STLCRef.Semantics.html#timeout" class="Function">timeout</a>
<a id="5209" href="STLCRef.Semantics.html#eval" class="Function">eval</a> <a id="5214" class="Symbol">(</a><a id="5215" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="5219" href="STLCRef.Semantics.html#5219" class="Bound">k</a><a id="5220" class="Symbol">)</a>  <a id="5223" href="STLCRef.Semantics.html#Expr.unit" class="InductiveConstructor">unit</a>        <a id="5235" class="Symbol">=</a>
  <a id="5239" href="STLCRef.Semantics.html#return" class="Function">return</a> <a id="5246" href="STLCRef.Semantics.html#Val.unit" class="InductiveConstructor">unit</a>
<a id="5251" href="STLCRef.Semantics.html#eval" class="Function">eval</a> <a id="5256" class="Symbol">(</a><a id="5257" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="5261" href="STLCRef.Semantics.html#5261" class="Bound">k</a><a id="5262" class="Symbol">)</a>  <a id="5265" class="Symbol">(</a><a id="5266" href="STLCRef.Semantics.html#Expr.var" class="InductiveConstructor">var</a> <a id="5270" href="STLCRef.Semantics.html#5270" class="Bound">x</a><a id="5271" class="Symbol">)</a>     <a id="5277" class="Symbol">=</a>
  <a id="5281" href="STLCRef.Semantics.html#getEnv" class="Function">getEnv</a> <a id="5288" href="STLCRef.Semantics.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5292" class="Symbol">λ</a> <a id="5294" href="STLCRef.Semantics.html#5294" class="Bound">E</a> <a id="5296" class="Symbol">→</a>
  <a id="5300" href="STLCRef.Semantics.html#return" class="Function">return</a> <a id="5307" class="Symbol">(</a><a id="5308" href="Data.List.All.html#lookup" class="Function">lookup</a> <a id="5315" href="STLCRef.Semantics.html#5294" class="Bound">E</a> <a id="5317" href="STLCRef.Semantics.html#5270" class="Bound">x</a><a id="5318" class="Symbol">)</a>
<a id="5320" href="STLCRef.Semantics.html#eval" class="Function">eval</a> <a id="5325" class="Symbol">(</a><a id="5326" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="5330" href="STLCRef.Semantics.html#5330" class="Bound">k</a><a id="5331" class="Symbol">)</a>  <a id="5334" class="Symbol">(</a><a id="5335" href="STLCRef.Semantics.html#Expr.%C6%9B" class="InductiveConstructor">ƛ</a> <a id="5337" href="STLCRef.Semantics.html#5337" class="Bound">e</a><a id="5338" class="Symbol">)</a>       <a id="5346" class="Symbol">=</a>
  <a id="5350" href="STLCRef.Semantics.html#getEnv" class="Function">getEnv</a> <a id="5357" href="STLCRef.Semantics.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5361" class="Symbol">λ</a> <a id="5363" href="STLCRef.Semantics.html#5363" class="Bound">E</a> <a id="5365" class="Symbol">→</a>
  <a id="5369" href="STLCRef.Semantics.html#return" class="Function">return</a> <a id="5376" href="STLCRef.Semantics.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟨</a> <a id="5378" href="STLCRef.Semantics.html#5337" class="Bound">e</a> <a id="5380" href="STLCRef.Semantics.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">,</a> <a id="5382" href="STLCRef.Semantics.html#5363" class="Bound">E</a> <a id="5384" href="STLCRef.Semantics.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟩</a>
<a id="5386" href="STLCRef.Semantics.html#eval" class="Function">eval</a> <a id="5391" class="Symbol">(</a><a id="5392" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="5396" href="STLCRef.Semantics.html#5396" class="Bound">k</a><a id="5397" class="Symbol">)</a>  <a id="5400" class="Symbol">(</a><a id="5401" href="STLCRef.Semantics.html#5401" class="Bound">l</a> <a id="5403" href="STLCRef.Semantics.html#Expr._%C2%B7_" class="InductiveConstructor Operator">·</a> <a id="5405" href="STLCRef.Semantics.html#5405" class="Bound">r</a><a id="5406" class="Symbol">)</a>     <a id="5412" class="Symbol">=</a>
  <a id="5416" href="STLCRef.Semantics.html#eval" class="Function">eval</a> <a id="5421" href="STLCRef.Semantics.html#5396" class="Bound">k</a> <a id="5423" href="STLCRef.Semantics.html#5401" class="Bound">l</a> <a id="5425" href="STLCRef.Semantics.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5429" class="Symbol">λ{</a> <a id="5432" href="STLCRef.Semantics.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟨</a> <a id="5434" href="STLCRef.Semantics.html#5434" class="Bound">e</a> <a id="5436" href="STLCRef.Semantics.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">,</a> <a id="5438" href="STLCRef.Semantics.html#5438" class="Bound">E</a> <a id="5440" href="STLCRef.Semantics.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟩</a> <a id="5442" class="Symbol">→</a>
  <a id="5446" class="Symbol">(</a><a id="5447" href="STLCRef.Semantics.html#eval" class="Function">eval</a> <a id="5452" href="STLCRef.Semantics.html#5396" class="Bound">k</a> <a id="5454" href="STLCRef.Semantics.html#5405" class="Bound">r</a> <a id="5456" href="STLCRef.Semantics.html#_%5E_" class="Function Operator">^</a> <a id="5458" href="STLCRef.Semantics.html#5438" class="Bound">E</a><a id="5459" class="Symbol">)</a> <a id="5461" href="STLCRef.Semantics.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5465" class="Symbol">λ{</a> <a id="5468" class="Symbol">(</a><a id="5469" href="STLCRef.Semantics.html#5469" class="Bound">v</a> <a id="5471" href="Common.Strength.html#_%E2%8A%97_._%2C_" class="InductiveConstructor Operator">,</a> <a id="5473" href="STLCRef.Semantics.html#5473" class="Bound">E</a><a id="5474" class="Symbol">)</a> <a id="5476" class="Symbol">→</a>
  <a id="5480" href="STLCRef.Semantics.html#usingEnv" class="Function">usingEnv</a> <a id="5489" class="Symbol">(</a><a id="5490" href="STLCRef.Semantics.html#5469" class="Bound">v</a> <a id="5492" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="5494" href="STLCRef.Semantics.html#5473" class="Bound">E</a><a id="5495" class="Symbol">)</a> <a id="5497" class="Symbol">(</a><a id="5498" href="STLCRef.Semantics.html#eval" class="Function">eval</a> <a id="5503" href="STLCRef.Semantics.html#5396" class="Bound">k</a> <a id="5505" href="STLCRef.Semantics.html#5434" class="Bound">e</a><a id="5506" class="Symbol">)</a> <a id="5508" class="Symbol">}}</a>
<a id="5511" href="STLCRef.Semantics.html#eval" class="Function">eval</a> <a id="5516" class="Symbol">(</a><a id="5517" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="5521" href="STLCRef.Semantics.html#5521" class="Bound">k</a><a id="5522" class="Symbol">)</a>  <a id="5525" class="Symbol">(</a><a id="5526" href="STLCRef.Semantics.html#Expr.num" class="InductiveConstructor">num</a> <a id="5530" href="STLCRef.Semantics.html#5530" class="Bound">x</a><a id="5531" class="Symbol">)</a>     <a id="5537" class="Symbol">=</a>
  <a id="5541" href="STLCRef.Semantics.html#return" class="Function">return</a> <a id="5548" class="Symbol">(</a><a id="5549" href="STLCRef.Semantics.html#Val.num" class="InductiveConstructor">num</a> <a id="5553" href="STLCRef.Semantics.html#5530" class="Bound">x</a><a id="5554" class="Symbol">)</a>
<a id="5556" href="STLCRef.Semantics.html#eval" class="Function">eval</a> <a id="5561" class="Symbol">(</a><a id="5562" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="5566" href="STLCRef.Semantics.html#5566" class="Bound">k</a><a id="5567" class="Symbol">)</a>  <a id="5570" class="Symbol">(</a><a id="5571" href="STLCRef.Semantics.html#Expr.iop" class="InductiveConstructor">iop</a> <a id="5575" href="STLCRef.Semantics.html#5575" class="Bound">f</a> <a id="5577" href="STLCRef.Semantics.html#5577" class="Bound">l</a> <a id="5579" href="STLCRef.Semantics.html#5579" class="Bound">r</a><a id="5580" class="Symbol">)</a> <a id="5582" class="Symbol">=</a>
  <a id="5586" href="STLCRef.Semantics.html#eval" class="Function">eval</a> <a id="5591" href="STLCRef.Semantics.html#5566" class="Bound">k</a> <a id="5593" href="STLCRef.Semantics.html#5577" class="Bound">l</a> <a id="5595" href="STLCRef.Semantics.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5599" class="Symbol">λ{</a> <a id="5602" class="Symbol">(</a><a id="5603" href="STLCRef.Semantics.html#Val.num" class="InductiveConstructor">num</a> <a id="5607" href="STLCRef.Semantics.html#5607" class="Bound">vₗ</a><a id="5609" class="Symbol">)</a> <a id="5611" class="Symbol">→</a>
  <a id="5615" href="STLCRef.Semantics.html#eval" class="Function">eval</a> <a id="5620" href="STLCRef.Semantics.html#5566" class="Bound">k</a> <a id="5622" href="STLCRef.Semantics.html#5579" class="Bound">r</a> <a id="5624" href="STLCRef.Semantics.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5628" class="Symbol">λ{</a> <a id="5631" class="Symbol">(</a><a id="5632" href="STLCRef.Semantics.html#Val.num" class="InductiveConstructor">num</a> <a id="5636" href="STLCRef.Semantics.html#5636" class="Bound">vᵣ</a><a id="5638" class="Symbol">)</a> <a id="5640" class="Symbol">→</a>
  <a id="5644" href="STLCRef.Semantics.html#return" class="Function">return</a> <a id="5651" class="Symbol">(</a><a id="5652" href="STLCRef.Semantics.html#Val.num" class="InductiveConstructor">num</a> <a id="5656" class="Symbol">(</a><a id="5657" href="STLCRef.Semantics.html#5575" class="Bound">f</a> <a id="5659" href="STLCRef.Semantics.html#5607" class="Bound">vₗ</a> <a id="5662" href="STLCRef.Semantics.html#5636" class="Bound">vᵣ</a><a id="5664" class="Symbol">))</a> <a id="5667" class="Symbol">}}</a>
<a id="5670" href="STLCRef.Semantics.html#eval" class="Function">eval</a> <a id="5675" class="Symbol">(</a><a id="5676" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="5680" href="STLCRef.Semantics.html#5680" class="Bound">k</a><a id="5681" class="Symbol">)</a> <a id="5683" class="Symbol">(</a><a id="5684" href="STLCRef.Semantics.html#Expr.ifz" class="InductiveConstructor">ifz</a> <a id="5688" href="STLCRef.Semantics.html#5688" class="Bound">c</a> <a id="5690" href="STLCRef.Semantics.html#5690" class="Bound">t</a> <a id="5692" href="STLCRef.Semantics.html#5692" class="Bound">e</a><a id="5693" class="Symbol">)</a> <a id="5695" class="Symbol">=</a>
  <a id="5699" href="STLCRef.Semantics.html#eval" class="Function">eval</a> <a id="5704" href="STLCRef.Semantics.html#5680" class="Bound">k</a> <a id="5706" href="STLCRef.Semantics.html#5688" class="Bound">c</a> <a id="5708" href="STLCRef.Semantics.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5712" class="Symbol">λ{</a> <a id="5715" class="Symbol">(</a><a id="5716" href="STLCRef.Semantics.html#Val.num" class="InductiveConstructor">num</a> <a id="5720" href="STLCRef.Semantics.html#5720" class="Bound">z</a><a id="5721" class="Symbol">)</a> <a id="5723" class="Symbol">→</a>
  <a id="5727" href="Function.html#case_of_" class="Function Operator">case</a> <a id="5732" href="STLCRef.Semantics.html#5720" class="Bound">z</a> <a id="5734" href="Function.html#case_of_" class="Function Operator">of</a> <a id="5737" class="Symbol">λ{</a> <a id="5740" class="Symbol">(</a><a id="5741" href="Agda.Builtin.Int.html#Int.%2B_" class="InductiveConstructor Operator">+</a> <a id="5743" href="Agda.Builtin.Nat.html#Nat.zero" class="InductiveConstructor">zero</a><a id="5747" class="Symbol">)</a> <a id="5749" class="Symbol">→</a>
    <a id="5755" href="STLCRef.Semantics.html#eval" class="Function">eval</a> <a id="5760" href="STLCRef.Semantics.html#5680" class="Bound">k</a> <a id="5762" href="STLCRef.Semantics.html#5690" class="Bound">t</a>
  <a id="5766" class="Symbol">;</a> <a id="5768" class="CatchallClause Symbol">_</a> <a id="5770" class="Symbol">→</a>
    <a id="5776" href="STLCRef.Semantics.html#eval" class="Function">eval</a> <a id="5781" href="STLCRef.Semantics.html#5680" class="Bound">k</a> <a id="5783" href="STLCRef.Semantics.html#5692" class="Bound">e</a> <a id="5785" class="Symbol">}}</a>
<a id="5788" href="STLCRef.Semantics.html#eval" class="Function">eval</a> <a id="5793" class="Symbol">(</a><a id="5794" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="5798" href="STLCRef.Semantics.html#5798" class="Bound">k</a><a id="5799" class="Symbol">)</a>  <a id="5802" class="Symbol">(</a><a id="5803" href="STLCRef.Semantics.html#Expr.ref" class="InductiveConstructor">ref</a> <a id="5807" href="STLCRef.Semantics.html#5807" class="Bound">e</a><a id="5808" class="Symbol">)</a>     <a id="5814" class="Symbol">=</a>
  <a id="5818" href="STLCRef.Semantics.html#eval" class="Function">eval</a> <a id="5823" href="STLCRef.Semantics.html#5798" class="Bound">k</a> <a id="5825" href="STLCRef.Semantics.html#5807" class="Bound">e</a> <a id="5827" href="STLCRef.Semantics.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5831" class="Symbol">λ</a> <a id="5833" href="STLCRef.Semantics.html#5833" class="Bound">v</a> <a id="5835" class="Symbol">→</a>
  <a id="5839" href="STLCRef.Semantics.html#store" class="Function">store</a> <a id="5845" href="STLCRef.Semantics.html#5833" class="Bound">v</a>
<a id="5847" href="STLCRef.Semantics.html#eval" class="Function">eval</a> <a id="5852" class="Symbol">(</a><a id="5853" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="5857" href="STLCRef.Semantics.html#5857" class="Bound">k</a><a id="5858" class="Symbol">)</a>  <a id="5861" class="Symbol">(</a><a id="5862" href="STLCRef.Semantics.html#Expr.%21_" class="InductiveConstructor Operator">!</a> <a id="5864" href="STLCRef.Semantics.html#5864" class="Bound">e</a><a id="5865" class="Symbol">)</a>       <a id="5873" class="Symbol">=</a>
  <a id="5877" href="STLCRef.Semantics.html#eval" class="Function">eval</a> <a id="5882" href="STLCRef.Semantics.html#5857" class="Bound">k</a> <a id="5884" href="STLCRef.Semantics.html#5864" class="Bound">e</a> <a id="5886" href="STLCRef.Semantics.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5890" class="Symbol">λ{</a> <a id="5893" class="Symbol">(</a><a id="5894" href="STLCRef.Semantics.html#Val.loc" class="InductiveConstructor">loc</a> <a id="5898" href="STLCRef.Semantics.html#5898" class="Bound">l</a><a id="5899" class="Symbol">)</a> <a id="5901" class="Symbol">→</a>
  <a id="5905" href="STLCRef.Semantics.html#deref" class="Function">deref</a> <a id="5911" href="STLCRef.Semantics.html#5898" class="Bound">l</a> <a id="5913" class="Symbol">}</a>
<a id="5915" href="STLCRef.Semantics.html#eval" class="Function">eval</a> <a id="5920" class="Symbol">(</a><a id="5921" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="5925" href="STLCRef.Semantics.html#5925" class="Bound">k</a><a id="5926" class="Symbol">)</a>  <a id="5929" class="Symbol">(</a><a id="5930" href="STLCRef.Semantics.html#5930" class="Bound">r</a> <a id="5932" href="STLCRef.Semantics.html#Expr._%E2%89%94_" class="InductiveConstructor Operator">≔</a> <a id="5934" href="STLCRef.Semantics.html#5934" class="Bound">e</a><a id="5935" class="Symbol">)</a>     <a id="5941" class="Symbol">=</a>
  <a id="5945" href="STLCRef.Semantics.html#eval" class="Function">eval</a> <a id="5950" href="STLCRef.Semantics.html#5925" class="Bound">k</a> <a id="5952" href="STLCRef.Semantics.html#5930" class="Bound">r</a> <a id="5954" href="STLCRef.Semantics.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5958" class="Symbol">λ{</a> <a id="5961" class="Symbol">(</a><a id="5962" href="STLCRef.Semantics.html#Val.loc" class="InductiveConstructor">loc</a> <a id="5966" href="STLCRef.Semantics.html#5966" class="Bound">l</a><a id="5967" class="Symbol">)</a> <a id="5969" class="Symbol">→</a>
  <a id="5973" class="Symbol">(</a><a id="5974" href="STLCRef.Semantics.html#eval" class="Function">eval</a> <a id="5979" href="STLCRef.Semantics.html#5925" class="Bound">k</a> <a id="5981" href="STLCRef.Semantics.html#5934" class="Bound">e</a> <a id="5983" href="STLCRef.Semantics.html#_%5E_" class="Function Operator">^</a> <a id="5985" href="STLCRef.Semantics.html#5966" class="Bound">l</a><a id="5986" class="Symbol">)</a> <a id="5988" href="STLCRef.Semantics.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5992" class="Symbol">λ{</a> <a id="5995" class="Symbol">(</a><a id="5996" href="STLCRef.Semantics.html#5996" class="Bound">v</a> <a id="5998" href="Common.Strength.html#_%E2%8A%97_._%2C_" class="InductiveConstructor Operator">,</a> <a id="6000" href="STLCRef.Semantics.html#6000" class="Bound">l</a><a id="6001" class="Symbol">)</a> <a id="6003" class="Symbol">→</a>
  <a id="6007" href="STLCRef.Semantics.html#update" class="Function">update</a> <a id="6014" href="STLCRef.Semantics.html#6000" class="Bound">l</a> <a id="6016" href="STLCRef.Semantics.html#5996" class="Bound">v</a> <a id="6018" href="STLCRef.Semantics.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="6022" class="Symbol">λ</a> <a id="6024" href="STLCRef.Semantics.html#6024" class="Bound">_</a> <a id="6026" class="Symbol">→</a>
  <a id="6030" href="STLCRef.Semantics.html#return" class="Function">return</a> <a id="6037" href="STLCRef.Semantics.html#Val.unit" class="InductiveConstructor">unit</a> <a id="6042" class="Symbol">}}</a>
</pre></body></html>