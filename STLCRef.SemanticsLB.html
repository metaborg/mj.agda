<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>STLCRef.SemanticsLB</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Keyword">module</a> <a id="8" href="STLCRef.SemanticsLB.html" class="Module">STLCRef.SemanticsLB</a> <a id="28" class="Keyword">where</a>

<a id="35" class="Comment">-- This file contains a definitional interpreter for STLC+Ref as</a>
<a id="100" class="Comment">-- described in Section 3 of the paper.  The interpreter operates with</a>
<a id="171" class="Comment">-- the notion of monadic bind described in Section 3.3 of the paper;</a>
<a id="240" class="Comment">-- see `Semantics.agda` for the version of the interpreter of STLC+Ref</a>
<a id="311" class="Comment">-- using monadic strength as described in Section 3.4 of the paper.</a>

<a id="380" class="Keyword">open</a> <a id="385" class="Keyword">import</a> <a id="392" href="Agda.Primitive.html" class="Module">Agda.Primitive</a>
<a id="407" class="Keyword">open</a> <a id="412" class="Keyword">import</a> <a id="419" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="429" class="Keyword">open</a> <a id="434" class="Keyword">import</a> <a id="441" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="450" class="Keyword">hiding</a> <a id="457" class="Symbol">(</a><a id="458" href="Data.Nat.Base.html#_%E2%8A%94_" class="Function Operator">_⊔_</a> <a id="462" class="Symbol">;</a> <a id="464" href="Data.Nat.Base.html#_%5E_" class="Function Operator">_^_</a><a id="467" class="Symbol">)</a>
<a id="469" class="Keyword">open</a> <a id="474" class="Keyword">import</a> <a id="481" href="Data.Integer.html" class="Module">Data.Integer</a> <a id="494" class="Keyword">hiding</a> <a id="501" class="Symbol">(</a><a id="502" href="Data.Integer.Base.html#_%E2%8A%94_" class="Function Operator">_⊔_</a><a id="505" class="Symbol">)</a>
<a id="507" class="Keyword">open</a> <a id="512" class="Keyword">import</a> <a id="519" href="Data.List.Most.html" class="Module">Data.List.Most</a>
<a id="534" class="Keyword">open</a> <a id="539" class="Keyword">import</a> <a id="546" href="Data.Product.html" class="Module">Data.Product</a>
<a id="559" class="Keyword">open</a> <a id="564" class="Keyword">import</a> <a id="571" href="Data.Maybe.html" class="Module">Data.Maybe</a> <a id="582" class="Keyword">hiding</a> <a id="589" class="Symbol">(</a><a id="590" href="Data.Maybe.Base.html#All" class="Datatype">All</a><a id="593" class="Symbol">)</a>
<a id="595" class="Keyword">open</a> <a id="600" class="Keyword">import</a> <a id="607" href="Data.List.All.html" class="Module">Data.List.All</a> <a id="621" class="Symbol">as</a> <a id="624" class="Module">List∀</a>
<a id="630" class="Keyword">open</a> <a id="635" class="Keyword">import</a> <a id="642" href="Data.List.Any.html" class="Module">Data.List.Any</a>
<a id="656" class="Keyword">open</a> <a id="661" class="Keyword">import</a> <a id="668" href="Data.List.Prefix.html" class="Module">Data.List.Prefix</a>
<a id="685" class="Keyword">open</a> <a id="690" class="Keyword">import</a> <a id="697" href="Data.List.Properties.Extra.html" class="Module">Data.List.Properties.Extra</a>
<a id="724" class="Keyword">open</a> <a id="729" class="Keyword">import</a> <a id="736" href="Data.List.All.Properties.Extra.html" class="Module">Data.List.All.Properties.Extra</a>
<a id="767" class="Keyword">open</a> <a id="772" class="Keyword">import</a> <a id="779" href="Function.html" class="Module">Function</a>
<a id="788" class="Keyword">open</a> <a id="793" class="Keyword">import</a> <a id="800" href="Common.Weakening.html" class="Module">Common.Weakening</a>

<a id="818" class="Comment">------------</a>
<a id="831" class="Comment">-- SYNTAX --</a>
<a id="844" class="Comment">------------</a>

<a id="858" class="Comment">-- These definitions correspond to Section 3.1, except we have</a>
<a id="921" class="Comment">-- included integers, integer operations, and a simple conditional</a>
<a id="988" class="Comment">-- expression (if-zero) in the language.</a>

<a id="1030" class="Keyword">data</a> <a id="Ty" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a> <a id="1038" class="Symbol">:</a> <a id="1040" class="PrimitiveType">Set</a>

<a id="Ctx" href="STLCRef.SemanticsLB.html#Ctx" class="Function">Ctx</a> <a id="1049" class="Symbol">=</a> <a id="1051" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="1056" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a>

<a id="1060" class="Keyword">data</a> <a id="1065" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a> <a id="1068" class="Keyword">where</a>
  <a id="Ty._⇒_" href="STLCRef.SemanticsLB.html#Ty._%E2%87%92_" class="InductiveConstructor Operator">_⇒_</a>  <a id="1081" class="Symbol">:</a> <a id="1083" class="Symbol">(</a><a id="1084" href="STLCRef.SemanticsLB.html#1084" class="Bound">a</a> <a id="1086" href="STLCRef.SemanticsLB.html#1086" class="Bound">b</a> <a id="1088" class="Symbol">:</a> <a id="1090" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a><a id="1092" class="Symbol">)</a> <a id="1094" class="Symbol">→</a> <a id="1096" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a>
  <a id="Ty.unit" href="STLCRef.SemanticsLB.html#Ty.unit" class="InductiveConstructor">unit</a> <a id="1106" class="Symbol">:</a> <a id="1108" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a>
  <a id="Ty.int" href="STLCRef.SemanticsLB.html#Ty.int" class="InductiveConstructor">int</a>  <a id="1118" class="Symbol">:</a> <a id="1120" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a>
  <a id="Ty.ref" href="STLCRef.SemanticsLB.html#Ty.ref" class="InductiveConstructor">ref</a>  <a id="1130" class="Symbol">:</a> <a id="1132" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a> <a id="1135" class="Symbol">-&gt;</a> <a id="1138" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a>

<a id="1142" class="Keyword">data</a> <a id="Expr" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1152" class="Symbol">(</a><a id="1153" href="STLCRef.SemanticsLB.html#1153" class="Bound">Γ</a> <a id="1155" class="Symbol">:</a> <a id="1157" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="1162" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a><a id="1164" class="Symbol">)</a> <a id="1166" class="Symbol">:</a> <a id="1168" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a> <a id="1171" class="Symbol">→</a> <a id="1173" class="PrimitiveType">Set</a> <a id="1177" class="Keyword">where</a>
  <a id="Expr.unit" href="STLCRef.SemanticsLB.html#Expr.unit" class="InductiveConstructor">unit</a>  <a id="1191" class="Symbol">:</a> <a id="1193" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1198" href="STLCRef.SemanticsLB.html#1153" class="Bound">Γ</a> <a id="1200" href="STLCRef.SemanticsLB.html#Ty.unit" class="InductiveConstructor">unit</a>
  <a id="Expr.var" href="STLCRef.SemanticsLB.html#Expr.var" class="InductiveConstructor">var</a>   <a id="1213" class="Symbol">:</a> <a id="1215" class="Symbol">∀</a> <a id="1217" class="Symbol">{</a><a id="1218" href="STLCRef.SemanticsLB.html#1218" class="Bound">t</a><a id="1219" class="Symbol">}</a> <a id="1221" class="Symbol">→</a> <a id="1223" href="STLCRef.SemanticsLB.html#1218" class="Bound">t</a> <a id="1225" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="1227" href="STLCRef.SemanticsLB.html#1153" class="Bound">Γ</a> <a id="1229" class="Symbol">→</a> <a id="1231" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1236" href="STLCRef.SemanticsLB.html#1153" class="Bound">Γ</a> <a id="1238" href="STLCRef.SemanticsLB.html#1218" class="Bound">t</a>
  <a id="Expr.ƛ" href="STLCRef.SemanticsLB.html#Expr.%C6%9B" class="InductiveConstructor">ƛ</a>     <a id="1248" class="Symbol">:</a> <a id="1250" class="Symbol">∀</a> <a id="1252" class="Symbol">{</a><a id="1253" href="STLCRef.SemanticsLB.html#1253" class="Bound">a</a> <a id="1255" href="STLCRef.SemanticsLB.html#1255" class="Bound">b</a><a id="1256" class="Symbol">}</a> <a id="1258" class="Symbol">→</a> <a id="1260" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1265" class="Symbol">(</a><a id="1266" href="STLCRef.SemanticsLB.html#1253" class="Bound">a</a> <a id="1268" href="Agda.Builtin.List.html#List._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="1270" href="STLCRef.SemanticsLB.html#1153" class="Bound">Γ</a><a id="1271" class="Symbol">)</a> <a id="1273" href="STLCRef.SemanticsLB.html#1255" class="Bound">b</a> <a id="1275" class="Symbol">→</a> <a id="1277" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1282" href="STLCRef.SemanticsLB.html#1153" class="Bound">Γ</a> <a id="1284" class="Symbol">(</a><a id="1285" href="STLCRef.SemanticsLB.html#1253" class="Bound">a</a> <a id="1287" href="STLCRef.SemanticsLB.html#Ty._%E2%87%92_" class="InductiveConstructor Operator">⇒</a> <a id="1289" href="STLCRef.SemanticsLB.html#1255" class="Bound">b</a><a id="1290" class="Symbol">)</a>
  <a id="Expr._·_" href="STLCRef.SemanticsLB.html#Expr._%C2%B7_" class="InductiveConstructor Operator">_·_</a>   <a id="1300" class="Symbol">:</a> <a id="1302" class="Symbol">∀</a> <a id="1304" class="Symbol">{</a><a id="1305" href="STLCRef.SemanticsLB.html#1305" class="Bound">a</a> <a id="1307" href="STLCRef.SemanticsLB.html#1307" class="Bound">b</a><a id="1308" class="Symbol">}</a> <a id="1310" class="Symbol">→</a> <a id="1312" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1317" href="STLCRef.SemanticsLB.html#1153" class="Bound">Γ</a> <a id="1319" class="Symbol">(</a><a id="1320" href="STLCRef.SemanticsLB.html#1305" class="Bound">a</a> <a id="1322" href="STLCRef.SemanticsLB.html#Ty._%E2%87%92_" class="InductiveConstructor Operator">⇒</a> <a id="1324" href="STLCRef.SemanticsLB.html#1307" class="Bound">b</a><a id="1325" class="Symbol">)</a> <a id="1327" class="Symbol">→</a> <a id="1329" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1334" href="STLCRef.SemanticsLB.html#1153" class="Bound">Γ</a> <a id="1336" href="STLCRef.SemanticsLB.html#1305" class="Bound">a</a> <a id="1338" class="Symbol">→</a> <a id="1340" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1345" href="STLCRef.SemanticsLB.html#1153" class="Bound">Γ</a> <a id="1347" href="STLCRef.SemanticsLB.html#1307" class="Bound">b</a>
  <a id="Expr.num" href="STLCRef.SemanticsLB.html#Expr.num" class="InductiveConstructor">num</a>   <a id="1357" class="Symbol">:</a> <a id="1359" href="Agda.Builtin.Int.html#%E2%84%A4" class="Datatype">ℤ</a> <a id="1361" class="Symbol">→</a> <a id="1363" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1368" href="STLCRef.SemanticsLB.html#1153" class="Bound">Γ</a> <a id="1370" href="STLCRef.SemanticsLB.html#Ty.int" class="InductiveConstructor">int</a>
  <a id="Expr.iop" href="STLCRef.SemanticsLB.html#Expr.iop" class="InductiveConstructor">iop</a>   <a id="1382" class="Symbol">:</a> <a id="1384" class="Symbol">(</a><a id="1385" href="Agda.Builtin.Int.html#%E2%84%A4" class="Datatype">ℤ</a> <a id="1387" class="Symbol">→</a> <a id="1389" href="Agda.Builtin.Int.html#%E2%84%A4" class="Datatype">ℤ</a> <a id="1391" class="Symbol">→</a> <a id="1393" href="Agda.Builtin.Int.html#%E2%84%A4" class="Datatype">ℤ</a><a id="1394" class="Symbol">)</a> <a id="1396" class="Symbol">→</a> <a id="1398" class="Symbol">(</a><a id="1399" href="STLCRef.SemanticsLB.html#1399" class="Bound">l</a> <a id="1401" href="STLCRef.SemanticsLB.html#1401" class="Bound">r</a> <a id="1403" class="Symbol">:</a> <a id="1405" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1410" href="STLCRef.SemanticsLB.html#1153" class="Bound">Γ</a> <a id="1412" href="STLCRef.SemanticsLB.html#Ty.int" class="InductiveConstructor">int</a><a id="1415" class="Symbol">)</a> <a id="1417" class="Symbol">→</a> <a id="1419" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1424" href="STLCRef.SemanticsLB.html#1153" class="Bound">Γ</a> <a id="1426" href="STLCRef.SemanticsLB.html#Ty.int" class="InductiveConstructor">int</a>
  <a id="Expr.ifz" href="STLCRef.SemanticsLB.html#Expr.ifz" class="InductiveConstructor">ifz</a>   <a id="1438" class="Symbol">:</a> <a id="1440" class="Symbol">∀</a> <a id="1442" class="Symbol">{</a><a id="1443" href="STLCRef.SemanticsLB.html#1443" class="Bound">t</a><a id="1444" class="Symbol">}</a> <a id="1446" class="Symbol">→</a> <a id="1448" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1453" href="STLCRef.SemanticsLB.html#1153" class="Bound">Γ</a> <a id="1455" href="STLCRef.SemanticsLB.html#Ty.int" class="InductiveConstructor">int</a> <a id="1459" class="Symbol">→</a> <a id="1461" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1466" href="STLCRef.SemanticsLB.html#1153" class="Bound">Γ</a> <a id="1468" href="STLCRef.SemanticsLB.html#1443" class="Bound">t</a> <a id="1470" class="Symbol">→</a> <a id="1472" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1477" href="STLCRef.SemanticsLB.html#1153" class="Bound">Γ</a> <a id="1479" href="STLCRef.SemanticsLB.html#1443" class="Bound">t</a> <a id="1481" class="Symbol">→</a> <a id="1483" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1488" href="STLCRef.SemanticsLB.html#1153" class="Bound">Γ</a> <a id="1490" href="STLCRef.SemanticsLB.html#1443" class="Bound">t</a>
  <a id="Expr.ref" href="STLCRef.SemanticsLB.html#Expr.ref" class="InductiveConstructor">ref</a>   <a id="1500" class="Symbol">:</a> <a id="1502" class="Symbol">∀</a> <a id="1504" class="Symbol">{</a><a id="1505" href="STLCRef.SemanticsLB.html#1505" class="Bound">t</a><a id="1506" class="Symbol">}</a> <a id="1508" class="Symbol">→</a> <a id="1510" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1515" href="STLCRef.SemanticsLB.html#1153" class="Bound">Γ</a> <a id="1517" href="STLCRef.SemanticsLB.html#1505" class="Bound">t</a> <a id="1519" class="Symbol">→</a> <a id="1521" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1526" href="STLCRef.SemanticsLB.html#1153" class="Bound">Γ</a> <a id="1528" class="Symbol">(</a><a id="1529" href="STLCRef.SemanticsLB.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="1533" href="STLCRef.SemanticsLB.html#1505" class="Bound">t</a><a id="1534" class="Symbol">)</a>
  <a id="Expr.!_" href="STLCRef.SemanticsLB.html#Expr.%21_" class="InductiveConstructor Operator">!_</a>    <a id="1544" class="Symbol">:</a> <a id="1546" class="Symbol">∀</a> <a id="1548" class="Symbol">{</a><a id="1549" href="STLCRef.SemanticsLB.html#1549" class="Bound">t</a><a id="1550" class="Symbol">}</a> <a id="1552" class="Symbol">→</a> <a id="1554" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1559" href="STLCRef.SemanticsLB.html#1153" class="Bound">Γ</a> <a id="1561" class="Symbol">(</a><a id="1562" href="STLCRef.SemanticsLB.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="1566" href="STLCRef.SemanticsLB.html#1549" class="Bound">t</a><a id="1567" class="Symbol">)</a> <a id="1569" class="Symbol">→</a> <a id="1571" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1576" href="STLCRef.SemanticsLB.html#1153" class="Bound">Γ</a> <a id="1578" href="STLCRef.SemanticsLB.html#1549" class="Bound">t</a>
  <a id="Expr._≔_" href="STLCRef.SemanticsLB.html#Expr._%E2%89%94_" class="InductiveConstructor Operator">_≔_</a>   <a id="1588" class="Symbol">:</a> <a id="1590" class="Symbol">∀</a> <a id="1592" class="Symbol">{</a><a id="1593" href="STLCRef.SemanticsLB.html#1593" class="Bound">t</a><a id="1594" class="Symbol">}</a> <a id="1596" class="Symbol">→</a> <a id="1598" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1603" href="STLCRef.SemanticsLB.html#1153" class="Bound">Γ</a> <a id="1605" class="Symbol">(</a><a id="1606" href="STLCRef.SemanticsLB.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="1610" href="STLCRef.SemanticsLB.html#1593" class="Bound">t</a><a id="1611" class="Symbol">)</a> <a id="1613" class="Symbol">→</a> <a id="1615" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1620" href="STLCRef.SemanticsLB.html#1153" class="Bound">Γ</a> <a id="1622" href="STLCRef.SemanticsLB.html#1593" class="Bound">t</a> <a id="1624" class="Symbol">→</a> <a id="1626" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1631" href="STLCRef.SemanticsLB.html#1153" class="Bound">Γ</a> <a id="1633" href="STLCRef.SemanticsLB.html#Ty.unit" class="InductiveConstructor">unit</a>


<a id="1640" class="Comment">-----------------------</a>
<a id="1664" class="Comment">-- STORES AND VALUES --</a>
<a id="1688" class="Comment">-----------------------</a>

<a id="StoreTy" href="STLCRef.SemanticsLB.html#StoreTy" class="Function">StoreTy</a> <a id="1721" class="Symbol">=</a> <a id="1723" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="1728" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a>

<a id="1732" class="Comment">-- `Val` uses `_∈_` from `Relation.Binary` in the Agda Standard</a>
<a id="1796" class="Comment">-- Library to represent typed locations which witness the existence of</a>
<a id="1867" class="Comment">-- a store location in the store type.</a>

<a id="1907" class="Keyword">mutual</a>
  <a id="1916" class="Keyword">data</a> <a id="Val" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="1925" class="Symbol">:</a> <a id="1927" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a> <a id="1930" class="Symbol">→</a> <a id="1932" class="Symbol">(</a><a id="1933" href="STLCRef.SemanticsLB.html#1933" class="Bound">Σ</a> <a id="1935" class="Symbol">:</a> <a id="1937" href="STLCRef.SemanticsLB.html#StoreTy" class="Function">StoreTy</a><a id="1944" class="Symbol">)</a> <a id="1946" class="Symbol">→</a> <a id="1948" class="PrimitiveType">Set</a> <a id="1952" class="Keyword">where</a>
    <a id="Val.loc" href="STLCRef.SemanticsLB.html#Val.loc" class="InductiveConstructor">loc</a>    <a id="1969" class="Symbol">:</a> <a id="1971" class="Symbol">∀</a> <a id="1973" class="Symbol">{</a><a id="1974" href="STLCRef.SemanticsLB.html#1974" class="Bound">Σ</a> <a id="1976" href="STLCRef.SemanticsLB.html#1976" class="Bound">t</a><a id="1977" class="Symbol">}</a> <a id="1979" class="Symbol">→</a> <a id="1981" href="STLCRef.SemanticsLB.html#1976" class="Bound">t</a> <a id="1983" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="1985" href="STLCRef.SemanticsLB.html#1974" class="Bound">Σ</a> <a id="1987" class="Symbol">→</a> <a id="1989" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="1993" class="Symbol">(</a><a id="1994" href="STLCRef.SemanticsLB.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="1998" href="STLCRef.SemanticsLB.html#1976" class="Bound">t</a><a id="1999" class="Symbol">)</a> <a id="2001" href="STLCRef.SemanticsLB.html#1974" class="Bound">Σ</a>
    <a id="Val.unit" href="STLCRef.SemanticsLB.html#Val.unit" class="InductiveConstructor">unit</a>   <a id="2014" class="Symbol">:</a> <a id="2016" class="Symbol">∀</a> <a id="2018" class="Symbol">{</a><a id="2019" href="STLCRef.SemanticsLB.html#2019" class="Bound">Σ</a><a id="2020" class="Symbol">}</a> <a id="2022" class="Symbol">→</a> <a id="2024" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="2028" href="STLCRef.SemanticsLB.html#Ty.unit" class="InductiveConstructor">unit</a> <a id="2033" href="STLCRef.SemanticsLB.html#2019" class="Bound">Σ</a>
    <a id="Val.⟨_,_⟩" href="STLCRef.SemanticsLB.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟨_,_⟩</a>  <a id="2046" class="Symbol">:</a> <a id="2048" class="Symbol">∀</a> <a id="2050" class="Symbol">{</a><a id="2051" href="STLCRef.SemanticsLB.html#2051" class="Bound">Σ</a> <a id="2053" href="STLCRef.SemanticsLB.html#2053" class="Bound">Γ</a> <a id="2055" href="STLCRef.SemanticsLB.html#2055" class="Bound">a</a> <a id="2057" href="STLCRef.SemanticsLB.html#2057" class="Bound">b</a><a id="2058" class="Symbol">}</a> <a id="2060" class="Symbol">→</a> <a id="2062" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="2067" class="Symbol">(</a><a id="2068" href="STLCRef.SemanticsLB.html#2055" class="Bound">a</a> <a id="2070" href="Agda.Builtin.List.html#List._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="2072" href="STLCRef.SemanticsLB.html#2053" class="Bound">Γ</a><a id="2073" class="Symbol">)</a> <a id="2075" href="STLCRef.SemanticsLB.html#2057" class="Bound">b</a> <a id="2077" class="Symbol">→</a> <a id="2079" href="STLCRef.SemanticsLB.html#Env" class="Function">Env</a> <a id="2083" href="STLCRef.SemanticsLB.html#2053" class="Bound">Γ</a> <a id="2085" href="STLCRef.SemanticsLB.html#2051" class="Bound">Σ</a> <a id="2087" class="Symbol">→</a> <a id="2089" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="2093" class="Symbol">(</a><a id="2094" href="STLCRef.SemanticsLB.html#2055" class="Bound">a</a> <a id="2096" href="STLCRef.SemanticsLB.html#Ty._%E2%87%92_" class="InductiveConstructor Operator">⇒</a> <a id="2098" href="STLCRef.SemanticsLB.html#2057" class="Bound">b</a><a id="2099" class="Symbol">)</a> <a id="2101" href="STLCRef.SemanticsLB.html#2051" class="Bound">Σ</a>
    <a id="Val.num" href="STLCRef.SemanticsLB.html#Val.num" class="InductiveConstructor">num</a>   <a id="2113" class="Symbol">:</a> <a id="2115" class="Symbol">∀</a> <a id="2117" class="Symbol">{</a><a id="2118" href="STLCRef.SemanticsLB.html#2118" class="Bound">Σ</a><a id="2119" class="Symbol">}</a> <a id="2121" class="Symbol">→</a> <a id="2123" href="Agda.Builtin.Int.html#%E2%84%A4" class="Datatype">ℤ</a> <a id="2125" class="Symbol">→</a> <a id="2127" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="2131" href="STLCRef.SemanticsLB.html#Ty.int" class="InductiveConstructor">int</a> <a id="2135" href="STLCRef.SemanticsLB.html#2118" class="Bound">Σ</a>

  <a id="Env" href="STLCRef.SemanticsLB.html#Env" class="Function">Env</a> <a id="2144" class="Symbol">:</a> <a id="2146" class="Symbol">(</a><a id="2147" href="STLCRef.SemanticsLB.html#2147" class="Bound">Γ</a> <a id="2149" class="Symbol">:</a> <a id="2151" href="STLCRef.SemanticsLB.html#Ctx" class="Function">Ctx</a><a id="2154" class="Symbol">)(</a><a id="2156" href="STLCRef.SemanticsLB.html#2156" class="Bound">Σ</a> <a id="2158" class="Symbol">:</a> <a id="2160" href="STLCRef.SemanticsLB.html#StoreTy" class="Function">StoreTy</a><a id="2167" class="Symbol">)</a> <a id="2169" class="Symbol">→</a> <a id="2171" class="PrimitiveType">Set</a>
  <a id="2177" href="STLCRef.SemanticsLB.html#Env" class="Function">Env</a> <a id="2181" href="STLCRef.SemanticsLB.html#2181" class="Bound">Γ</a> <a id="2183" href="STLCRef.SemanticsLB.html#2183" class="Bound">Σ</a> <a id="2185" class="Symbol">=</a> <a id="2187" href="Data.List.All.html#All" class="Datatype">All</a> <a id="2191" class="Symbol">(λ</a> <a id="2194" href="STLCRef.SemanticsLB.html#2194" class="Bound">t</a> <a id="2196" class="Symbol">→</a> <a id="2198" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="2202" href="STLCRef.SemanticsLB.html#2194" class="Bound">t</a> <a id="2204" href="STLCRef.SemanticsLB.html#2183" class="Bound">Σ</a><a id="2205" class="Symbol">)</a> <a id="2207" href="STLCRef.SemanticsLB.html#2181" class="Bound">Γ</a>

<a id="Store" href="STLCRef.SemanticsLB.html#Store" class="Function">Store</a> <a id="2216" class="Symbol">:</a> <a id="2218" class="Symbol">(</a><a id="2219" href="STLCRef.SemanticsLB.html#2219" class="Bound">Σ</a> <a id="2221" class="Symbol">:</a> <a id="2223" href="STLCRef.SemanticsLB.html#StoreTy" class="Function">StoreTy</a><a id="2230" class="Symbol">)</a> <a id="2232" class="Symbol">→</a> <a id="2234" class="PrimitiveType">Set</a>
<a id="2238" href="STLCRef.SemanticsLB.html#Store" class="Function">Store</a> <a id="2244" href="STLCRef.SemanticsLB.html#2244" class="Bound">Σ</a> <a id="2246" class="Symbol">=</a> <a id="2248" href="Data.List.All.html#All" class="Datatype">All</a> <a id="2252" class="Symbol">(λ</a> <a id="2255" href="STLCRef.SemanticsLB.html#2255" class="Bound">t</a> <a id="2257" class="Symbol">→</a> <a id="2259" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="2263" href="STLCRef.SemanticsLB.html#2255" class="Bound">t</a> <a id="2265" href="STLCRef.SemanticsLB.html#2244" class="Bound">Σ</a><a id="2266" class="Symbol">)</a> <a id="2268" href="STLCRef.SemanticsLB.html#2244" class="Bound">Σ</a>

<a id="2271" class="Comment">-- The `lookup-store` function is defined in terms of the `lookup`</a>
<a id="2338" class="Comment">-- function from `Data.List.All` in the Agda Standard Library.</a>
<a id="lookup-store" href="STLCRef.SemanticsLB.html#lookup-store" class="Function">lookup-store</a> <a id="2414" class="Symbol">:</a> <a id="2416" class="Symbol">∀</a> <a id="2418" class="Symbol">{</a><a id="2419" href="STLCRef.SemanticsLB.html#2419" class="Bound">Σ</a> <a id="2421" href="STLCRef.SemanticsLB.html#2421" class="Bound">t</a><a id="2422" class="Symbol">}</a> <a id="2424" class="Symbol">→</a> <a id="2426" href="STLCRef.SemanticsLB.html#2421" class="Bound">t</a> <a id="2428" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="2430" href="STLCRef.SemanticsLB.html#2419" class="Bound">Σ</a> <a id="2432" class="Symbol">→</a> <a id="2434" href="STLCRef.SemanticsLB.html#Store" class="Function">Store</a> <a id="2440" href="STLCRef.SemanticsLB.html#2419" class="Bound">Σ</a> <a id="2442" class="Symbol">→</a> <a id="2444" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="2448" href="STLCRef.SemanticsLB.html#2421" class="Bound">t</a> <a id="2450" href="STLCRef.SemanticsLB.html#2419" class="Bound">Σ</a>
<a id="2452" href="STLCRef.SemanticsLB.html#lookup-store" class="Function">lookup-store</a> <a id="2465" href="STLCRef.SemanticsLB.html#2465" class="Bound">x</a> <a id="2467" href="STLCRef.SemanticsLB.html#2467" class="Bound">μ</a> <a id="2469" class="Symbol">=</a> <a id="2471" href="Data.List.All.html#lookup" class="Function">lookup</a> <a id="2478" href="STLCRef.SemanticsLB.html#2467" class="Bound">μ</a> <a id="2480" href="STLCRef.SemanticsLB.html#2465" class="Bound">x</a>

<a id="2483" class="Comment">-- The `update-store` function is defined in terms of the update</a>
<a id="2548" class="Comment">-- function for the `All` type: `_All[_]≔&#39;_` from the Standard Library</a>
<a id="2619" class="Comment">-- extension (contained in the `lib/*` folder of this artifact).</a>
<a id="update-store" href="STLCRef.SemanticsLB.html#update-store" class="Function">update-store</a> <a id="2697" class="Symbol">:</a> <a id="2699" class="Symbol">∀</a> <a id="2701" class="Symbol">{</a><a id="2702" href="STLCRef.SemanticsLB.html#2702" class="Bound">Σ</a> <a id="2704" href="STLCRef.SemanticsLB.html#2704" class="Bound">t</a><a id="2705" class="Symbol">}</a> <a id="2707" class="Symbol">→</a> <a id="2709" href="STLCRef.SemanticsLB.html#2704" class="Bound">t</a> <a id="2711" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="2713" href="STLCRef.SemanticsLB.html#2702" class="Bound">Σ</a> <a id="2715" class="Symbol">→</a> <a id="2717" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="2721" href="STLCRef.SemanticsLB.html#2704" class="Bound">t</a> <a id="2723" href="STLCRef.SemanticsLB.html#2702" class="Bound">Σ</a> <a id="2725" class="Symbol">→</a> <a id="2727" href="STLCRef.SemanticsLB.html#Store" class="Function">Store</a> <a id="2733" href="STLCRef.SemanticsLB.html#2702" class="Bound">Σ</a> <a id="2735" class="Symbol">→</a> <a id="2737" href="STLCRef.SemanticsLB.html#Store" class="Function">Store</a> <a id="2743" href="STLCRef.SemanticsLB.html#2702" class="Bound">Σ</a>
<a id="2745" href="STLCRef.SemanticsLB.html#update-store" class="Function">update-store</a> <a id="2758" href="STLCRef.SemanticsLB.html#2758" class="Bound">ptr</a> <a id="2762" href="STLCRef.SemanticsLB.html#2762" class="Bound">v</a> <a id="2764" href="STLCRef.SemanticsLB.html#2764" class="Bound">μ</a> <a id="2766" class="Symbol">=</a> <a id="2768" href="STLCRef.SemanticsLB.html#2764" class="Bound">μ</a> <a id="2770" href="Data.List.All.Properties.Extra.html#_All%5B_%5D%E2%89%94%27_" class="Function Operator">All[</a> <a id="2775" href="STLCRef.SemanticsLB.html#2758" class="Bound">ptr</a> <a id="2779" href="Data.List.All.Properties.Extra.html#_All%5B_%5D%E2%89%94%27_" class="Function Operator">]≔&#39;</a> <a id="2783" href="STLCRef.SemanticsLB.html#2762" class="Bound">v</a>


<a id="2787" class="Comment">-----------</a>
<a id="2799" class="Comment">-- MONAD --</a>
<a id="2811" class="Comment">-----------</a>

<a id="2824" class="Comment">-- These definitions correspond to Section 3.3.</a>

<a id="M" href="STLCRef.SemanticsLB.html#M" class="Function">M</a> <a id="2875" class="Symbol">:</a> <a id="2877" class="Symbol">∀</a> <a id="2879" class="Symbol">{</a><a id="2880" href="STLCRef.SemanticsLB.html#2880" class="Bound">i</a><a id="2881" class="Symbol">}(</a><a id="2883" href="STLCRef.SemanticsLB.html#2883" class="Bound">Γ</a> <a id="2885" class="Symbol">:</a> <a id="2887" href="STLCRef.SemanticsLB.html#Ctx" class="Function">Ctx</a><a id="2890" class="Symbol">)</a> <a id="2892" class="Symbol">→</a> <a id="2894" class="Symbol">(</a><a id="2895" href="STLCRef.SemanticsLB.html#2895" class="Bound">p</a> <a id="2897" class="Symbol">:</a> <a id="2899" href="STLCRef.SemanticsLB.html#StoreTy" class="Function">StoreTy</a> <a id="2907" class="Symbol">→</a> <a id="2909" class="PrimitiveType">Set</a> <a id="2913" href="STLCRef.SemanticsLB.html#2880" class="Bound">i</a><a id="2914" class="Symbol">)</a> <a id="2916" class="Symbol">→</a> <a id="2918" class="Symbol">(</a><a id="2919" href="STLCRef.SemanticsLB.html#2919" class="Bound">Σ</a> <a id="2921" class="Symbol">:</a> <a id="2923" href="STLCRef.SemanticsLB.html#StoreTy" class="Function">StoreTy</a><a id="2930" class="Symbol">)</a> <a id="2932" class="Symbol">→</a> <a id="2934" class="PrimitiveType">Set</a> <a id="2938" href="STLCRef.SemanticsLB.html#2880" class="Bound">i</a>
<a id="2940" href="STLCRef.SemanticsLB.html#M" class="Function">M</a> <a id="2942" href="STLCRef.SemanticsLB.html#2942" class="Bound">Γ</a> <a id="2944" href="STLCRef.SemanticsLB.html#2944" class="Bound">p</a> <a id="2946" href="STLCRef.SemanticsLB.html#2946" class="Bound">Σ</a> <a id="2948" class="Symbol">=</a> <a id="2950" href="STLCRef.SemanticsLB.html#Env" class="Function">Env</a> <a id="2954" href="STLCRef.SemanticsLB.html#2942" class="Bound">Γ</a> <a id="2956" href="STLCRef.SemanticsLB.html#2946" class="Bound">Σ</a> <a id="2958" class="Symbol">→</a> <a id="2960" href="STLCRef.SemanticsLB.html#Store" class="Function">Store</a> <a id="2966" href="STLCRef.SemanticsLB.html#2946" class="Bound">Σ</a> <a id="2968" class="Symbol">→</a> <a id="2970" href="Data.Maybe.Base.html#Maybe" class="Datatype">Maybe</a> <a id="2976" class="Symbol">(</a><a id="2977" href="Data.Product.html#%E2%88%83" class="Function">∃</a> <a id="2979" class="Symbol">λ</a> <a id="2981" href="STLCRef.SemanticsLB.html#2981" class="Bound">Σ&#39;</a> <a id="2984" class="Symbol">→</a> <a id="2986" href="STLCRef.SemanticsLB.html#Store" class="Function">Store</a> <a id="2992" href="STLCRef.SemanticsLB.html#2981" class="Bound">Σ&#39;</a> <a id="2995" href="Data.Product.html#_%C3%97_" class="Function Operator">×</a> <a id="2997" href="STLCRef.SemanticsLB.html#2944" class="Bound">p</a> <a id="2999" href="STLCRef.SemanticsLB.html#2981" class="Bound">Σ&#39;</a> <a id="3002" href="Data.Product.html#_%C3%97_" class="Function Operator">×</a> <a id="3004" href="STLCRef.SemanticsLB.html#2946" class="Bound">Σ</a> <a id="3006" href="Data.List.Prefix.html#_%E2%8A%91_" class="Datatype Operator">⊑</a> <a id="3008" href="STLCRef.SemanticsLB.html#2981" class="Bound">Σ&#39;</a><a id="3010" class="Symbol">)</a>

<a id="3013" class="Keyword">mutual</a>
  <a id="weaken-val" href="STLCRef.SemanticsLB.html#weaken-val" class="Function">weaken-val</a>  <a id="3034" class="Symbol">:</a> <a id="3036" class="Symbol">∀</a> <a id="3038" class="Symbol">{</a><a id="3039" href="STLCRef.SemanticsLB.html#3039" class="Bound">a</a><a id="3040" class="Symbol">}{</a><a id="3042" href="STLCRef.SemanticsLB.html#3042" class="Bound">Σ</a> <a id="3044" href="STLCRef.SemanticsLB.html#3044" class="Bound">Σ&#39;</a> <a id="3047" class="Symbol">:</a> <a id="3049" href="STLCRef.SemanticsLB.html#StoreTy" class="Function">StoreTy</a><a id="3056" class="Symbol">}</a> <a id="3058" class="Symbol">→</a> <a id="3060" href="STLCRef.SemanticsLB.html#3042" class="Bound">Σ</a> <a id="3062" href="Data.List.Prefix.html#_%E2%8A%91_" class="Datatype Operator">⊑</a> <a id="3064" href="STLCRef.SemanticsLB.html#3044" class="Bound">Σ&#39;</a> <a id="3067" class="Symbol">→</a> <a id="3069" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="3073" href="STLCRef.SemanticsLB.html#3039" class="Bound">a</a> <a id="3075" href="STLCRef.SemanticsLB.html#3042" class="Bound">Σ</a> <a id="3077" class="Symbol">→</a> <a id="3079" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="3083" href="STLCRef.SemanticsLB.html#3039" class="Bound">a</a> <a id="3085" href="STLCRef.SemanticsLB.html#3044" class="Bound">Σ&#39;</a>
  <a id="3090" href="STLCRef.SemanticsLB.html#weaken-val" class="Function">weaken-val</a> <a id="3101" href="STLCRef.SemanticsLB.html#3101" class="Bound">ext</a> <a id="3105" href="STLCRef.SemanticsLB.html#Val.unit" class="InductiveConstructor">unit</a>      <a id="3115" class="Symbol">=</a> <a id="3117" href="STLCRef.SemanticsLB.html#Val.unit" class="InductiveConstructor">unit</a>
  <a id="3124" href="STLCRef.SemanticsLB.html#weaken-val" class="Function">weaken-val</a> <a id="3135" href="STLCRef.SemanticsLB.html#3135" class="Bound">ext</a> <a id="3139" class="Symbol">(</a><a id="3140" href="STLCRef.SemanticsLB.html#Val.loc" class="InductiveConstructor">loc</a> <a id="3144" href="STLCRef.SemanticsLB.html#3144" class="Bound">l</a><a id="3145" class="Symbol">)</a>   <a id="3149" class="Symbol">=</a> <a id="3151" href="STLCRef.SemanticsLB.html#Val.loc" class="InductiveConstructor">loc</a> <a id="3155" class="Symbol">(</a><a id="3156" href="Data.List.Prefix.html#%E2%88%88-%E2%8A%92" class="Function">∈-⊒</a> <a id="3160" href="STLCRef.SemanticsLB.html#3144" class="Bound">l</a> <a id="3162" href="STLCRef.SemanticsLB.html#3135" class="Bound">ext</a><a id="3165" class="Symbol">)</a>
  <a id="3169" href="STLCRef.SemanticsLB.html#weaken-val" class="Function">weaken-val</a> <a id="3180" href="STLCRef.SemanticsLB.html#3180" class="Bound">ext</a> <a id="3184" href="STLCRef.SemanticsLB.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟨</a> <a id="3186" href="STLCRef.SemanticsLB.html#3186" class="Bound">e</a> <a id="3188" href="STLCRef.SemanticsLB.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">,</a> <a id="3190" href="STLCRef.SemanticsLB.html#3190" class="Bound">E</a> <a id="3192" href="STLCRef.SemanticsLB.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟩</a> <a id="3194" class="Symbol">=</a> <a id="3196" href="STLCRef.SemanticsLB.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟨</a> <a id="3198" href="STLCRef.SemanticsLB.html#3186" class="Bound">e</a> <a id="3200" href="STLCRef.SemanticsLB.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">,</a> <a id="3202" href="STLCRef.SemanticsLB.html#weaken-env" class="Function">weaken-env</a> <a id="3213" href="STLCRef.SemanticsLB.html#3180" class="Bound">ext</a> <a id="3217" href="STLCRef.SemanticsLB.html#3190" class="Bound">E</a> <a id="3219" href="STLCRef.SemanticsLB.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟩</a>
  <a id="3223" href="STLCRef.SemanticsLB.html#weaken-val" class="Function">weaken-val</a> <a id="3234" href="STLCRef.SemanticsLB.html#3234" class="Bound">ext</a> <a id="3238" class="Symbol">(</a><a id="3239" href="STLCRef.SemanticsLB.html#Val.num" class="InductiveConstructor">num</a> <a id="3243" href="STLCRef.SemanticsLB.html#3243" class="Bound">z</a><a id="3244" class="Symbol">)</a>   <a id="3248" class="Symbol">=</a> <a id="3250" href="STLCRef.SemanticsLB.html#Val.num" class="InductiveConstructor">num</a> <a id="3254" href="STLCRef.SemanticsLB.html#3243" class="Bound">z</a>

  <a id="weaken-env" href="STLCRef.SemanticsLB.html#weaken-env" class="Function">weaken-env</a>  <a id="3271" class="Symbol">:</a> <a id="3273" class="Symbol">∀</a> <a id="3275" class="Symbol">{</a><a id="3276" href="STLCRef.SemanticsLB.html#3276" class="Bound">Γ</a><a id="3277" class="Symbol">}{</a><a id="3279" href="STLCRef.SemanticsLB.html#3279" class="Bound">Σ</a> <a id="3281" href="STLCRef.SemanticsLB.html#3281" class="Bound">Σ&#39;</a> <a id="3284" class="Symbol">:</a> <a id="3286" href="STLCRef.SemanticsLB.html#StoreTy" class="Function">StoreTy</a><a id="3293" class="Symbol">}</a> <a id="3295" class="Symbol">→</a> <a id="3297" href="STLCRef.SemanticsLB.html#3279" class="Bound">Σ</a> <a id="3299" href="Data.List.Prefix.html#_%E2%8A%91_" class="Datatype Operator">⊑</a> <a id="3301" href="STLCRef.SemanticsLB.html#3281" class="Bound">Σ&#39;</a> <a id="3304" class="Symbol">→</a> <a id="3306" href="STLCRef.SemanticsLB.html#Env" class="Function">Env</a> <a id="3310" href="STLCRef.SemanticsLB.html#3276" class="Bound">Γ</a> <a id="3312" href="STLCRef.SemanticsLB.html#3279" class="Bound">Σ</a> <a id="3314" class="Symbol">→</a> <a id="3316" href="STLCRef.SemanticsLB.html#Env" class="Function">Env</a> <a id="3320" href="STLCRef.SemanticsLB.html#3276" class="Bound">Γ</a> <a id="3322" href="STLCRef.SemanticsLB.html#3281" class="Bound">Σ&#39;</a>
  <a id="3327" href="STLCRef.SemanticsLB.html#weaken-env" class="Function">weaken-env</a> <a id="3338" href="STLCRef.SemanticsLB.html#3338" class="Bound">ext</a> <a id="3342" class="Symbol">(</a><a id="3343" href="STLCRef.SemanticsLB.html#3343" class="Bound">v</a> <a id="3345" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="3347" href="STLCRef.SemanticsLB.html#3347" class="Bound">vs</a><a id="3349" class="Symbol">)</a>  <a id="3352" class="Symbol">=</a> <a id="3354" href="STLCRef.SemanticsLB.html#weaken-val" class="Function">weaken-val</a> <a id="3365" href="STLCRef.SemanticsLB.html#3338" class="Bound">ext</a> <a id="3369" href="STLCRef.SemanticsLB.html#3343" class="Bound">v</a> <a id="3371" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="3373" href="STLCRef.SemanticsLB.html#weaken-env" class="Function">weaken-env</a> <a id="3384" href="STLCRef.SemanticsLB.html#3338" class="Bound">ext</a> <a id="3388" href="STLCRef.SemanticsLB.html#3347" class="Bound">vs</a>
  <a id="3393" href="STLCRef.SemanticsLB.html#weaken-env" class="Function">weaken-env</a> <a id="3404" href="STLCRef.SemanticsLB.html#3404" class="Bound">ext</a> <a id="3408" href="Data.List.All.html#All.%5B%5D" class="InductiveConstructor">[]</a>        <a id="3418" class="Symbol">=</a> <a id="3420" href="Data.List.All.html#All.%5B%5D" class="InductiveConstructor">[]</a>

<a id="return" href="STLCRef.SemanticsLB.html#return" class="Function">return</a>   <a id="3433" class="Symbol">:</a>    <a id="3438" class="Symbol">∀</a> <a id="3440" class="Symbol">{</a><a id="3441" href="STLCRef.SemanticsLB.html#3441" class="Bound">Σ</a> <a id="3443" href="STLCRef.SemanticsLB.html#3443" class="Bound">Γ</a><a id="3444" class="Symbol">}{</a><a id="3446" href="STLCRef.SemanticsLB.html#3446" class="Bound">p</a> <a id="3448" class="Symbol">:</a> <a id="3450" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="3455" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a> <a id="3458" class="Symbol">→</a> <a id="3460" class="PrimitiveType">Set</a><a id="3463" class="Symbol">}</a> <a id="3465" class="Symbol">→</a> <a id="3467" href="STLCRef.SemanticsLB.html#3446" class="Bound">p</a> <a id="3469" href="STLCRef.SemanticsLB.html#3441" class="Bound">Σ</a> <a id="3471" class="Symbol">→</a> <a id="3473" href="STLCRef.SemanticsLB.html#M" class="Function">M</a> <a id="3475" href="STLCRef.SemanticsLB.html#3443" class="Bound">Γ</a> <a id="3477" href="STLCRef.SemanticsLB.html#3446" class="Bound">p</a> <a id="3479" href="STLCRef.SemanticsLB.html#3441" class="Bound">Σ</a>
<a id="3481" href="STLCRef.SemanticsLB.html#return" class="Function">return</a> <a id="3488" href="STLCRef.SemanticsLB.html#3488" class="Bound">x</a> <a id="3490" href="STLCRef.SemanticsLB.html#3490" class="Bound">E</a> <a id="3492" href="STLCRef.SemanticsLB.html#3492" class="Bound">μ</a> <a id="3494" class="Symbol">=</a> <a id="3496" href="Data.Maybe.Base.html#Maybe.just" class="InductiveConstructor">just</a> <a id="3501" class="Symbol">(_</a> <a id="3504" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3506" href="STLCRef.SemanticsLB.html#3492" class="Bound">μ</a> <a id="3508" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3510" href="STLCRef.SemanticsLB.html#3488" class="Bound">x</a> <a id="3512" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3514" href="Data.List.Prefix.html#%E2%8A%91-refl" class="Function">⊑-refl</a><a id="3520" class="Symbol">)</a>

<a id="_&gt;&gt;=_" href="STLCRef.SemanticsLB.html#_%3E%3E%3D_" class="Function Operator">_&gt;&gt;=_</a> <a id="3529" class="Symbol">:</a> <a id="3531" class="Symbol">∀</a> <a id="3533" class="Symbol">{</a><a id="3534" href="STLCRef.SemanticsLB.html#3534" class="Bound">Σ</a> <a id="3536" href="STLCRef.SemanticsLB.html#3536" class="Bound">Γ</a><a id="3537" class="Symbol">}{</a><a id="3539" href="STLCRef.SemanticsLB.html#3539" class="Bound">p</a> <a id="3541" href="STLCRef.SemanticsLB.html#3541" class="Bound">q</a> <a id="3543" class="Symbol">:</a> <a id="3545" href="STLCRef.SemanticsLB.html#StoreTy" class="Function">StoreTy</a> <a id="3553" class="Symbol">→</a> <a id="3555" class="PrimitiveType">Set</a><a id="3558" class="Symbol">}</a> <a id="3560" class="Symbol">→</a>
        <a id="3570" class="Symbol">(</a><a id="3571" href="STLCRef.SemanticsLB.html#3571" class="Bound">f</a> <a id="3573" class="Symbol">:</a> <a id="3575" href="STLCRef.SemanticsLB.html#M" class="Function">M</a> <a id="3577" href="STLCRef.SemanticsLB.html#3536" class="Bound">Γ</a> <a id="3579" href="STLCRef.SemanticsLB.html#3539" class="Bound">p</a> <a id="3581" href="STLCRef.SemanticsLB.html#3534" class="Bound">Σ</a><a id="3582" class="Symbol">)</a> <a id="3584" class="Symbol">→</a> <a id="3586" class="Symbol">(</a><a id="3587" href="STLCRef.SemanticsLB.html#3587" class="Bound">g</a> <a id="3589" class="Symbol">:</a> <a id="3591" class="Symbol">∀</a> <a id="3593" class="Symbol">{</a><a id="3594" href="STLCRef.SemanticsLB.html#3594" class="Bound">Σ&#39;</a><a id="3596" class="Symbol">}</a> <a id="3598" class="Symbol">→</a> <a id="3600" href="STLCRef.SemanticsLB.html#3534" class="Bound">Σ</a> <a id="3602" href="Data.List.Prefix.html#_%E2%8A%91_" class="Datatype Operator">⊑</a> <a id="3604" href="STLCRef.SemanticsLB.html#3594" class="Bound">Σ&#39;</a> <a id="3607" class="Symbol">→</a> <a id="3609" href="STLCRef.SemanticsLB.html#3539" class="Bound">p</a> <a id="3611" href="STLCRef.SemanticsLB.html#3594" class="Bound">Σ&#39;</a> <a id="3614" class="Symbol">→</a> <a id="3616" href="STLCRef.SemanticsLB.html#M" class="Function">M</a> <a id="3618" href="STLCRef.SemanticsLB.html#3536" class="Bound">Γ</a> <a id="3620" href="STLCRef.SemanticsLB.html#3541" class="Bound">q</a> <a id="3622" href="STLCRef.SemanticsLB.html#3594" class="Bound">Σ&#39;</a><a id="3624" class="Symbol">)</a> <a id="3626" class="Symbol">→</a> <a id="3628" href="STLCRef.SemanticsLB.html#M" class="Function">M</a> <a id="3630" href="STLCRef.SemanticsLB.html#3536" class="Bound">Γ</a> <a id="3632" href="STLCRef.SemanticsLB.html#3541" class="Bound">q</a> <a id="3634" href="STLCRef.SemanticsLB.html#3534" class="Bound">Σ</a>
<a id="3636" class="Symbol">(</a><a id="3637" href="STLCRef.SemanticsLB.html#3637" class="Bound">f</a> <a id="3639" href="STLCRef.SemanticsLB.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="3643" href="STLCRef.SemanticsLB.html#3643" class="Bound">c</a><a id="3644" class="Symbol">)</a> <a id="3646" href="STLCRef.SemanticsLB.html#3646" class="Bound">E</a> <a id="3648" href="STLCRef.SemanticsLB.html#3648" class="Bound">μ</a> <a id="3650" class="Symbol">=</a> <a id="3652" href="Function.html#case_of_" class="Function Operator">case</a> <a id="3657" class="Symbol">(</a><a id="3658" href="STLCRef.SemanticsLB.html#3637" class="Bound">f</a> <a id="3660" href="STLCRef.SemanticsLB.html#3646" class="Bound">E</a> <a id="3662" href="STLCRef.SemanticsLB.html#3648" class="Bound">μ</a><a id="3663" class="Symbol">)</a> <a id="3665" href="Function.html#case_of_" class="Function Operator">of</a> <a id="3668" class="Symbol">λ{</a>
  <a id="3673" href="Data.Maybe.Base.html#Maybe.nothing" class="InductiveConstructor">nothing</a> <a id="3681" class="Symbol">→</a> <a id="3683" href="Data.Maybe.Base.html#Maybe.nothing" class="InductiveConstructor">nothing</a> <a id="3691" class="Symbol">;</a>
  <a id="3695" class="Symbol">(</a><a id="3696" href="Data.Maybe.Base.html#Maybe.just" class="InductiveConstructor">just</a> <a id="3701" class="Symbol">(_</a> <a id="3704" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3706" href="STLCRef.SemanticsLB.html#3706" class="Bound">μ&#39;</a> <a id="3709" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3711" href="STLCRef.SemanticsLB.html#3711" class="Bound">x</a> <a id="3713" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3715" href="STLCRef.SemanticsLB.html#3715" class="Bound">ext</a><a id="3718" class="Symbol">))</a> <a id="3721" class="Symbol">→</a> <a id="3723" href="Function.html#case_of_" class="Function Operator">case</a> <a id="3728" class="Symbol">(</a><a id="3729" href="STLCRef.SemanticsLB.html#3643" class="Bound">c</a> <a id="3731" href="STLCRef.SemanticsLB.html#3715" class="Bound">ext</a> <a id="3735" href="STLCRef.SemanticsLB.html#3711" class="Bound">x</a> <a id="3737" class="Symbol">(</a><a id="3738" href="STLCRef.SemanticsLB.html#weaken-env" class="Function">weaken-env</a> <a id="3749" href="STLCRef.SemanticsLB.html#3715" class="Bound">ext</a> <a id="3753" href="STLCRef.SemanticsLB.html#3646" class="Bound">E</a><a id="3754" class="Symbol">)</a> <a id="3756" href="STLCRef.SemanticsLB.html#3706" class="Bound">μ&#39;</a><a id="3758" class="Symbol">)</a> <a id="3760" href="Function.html#case_of_" class="Function Operator">of</a> <a id="3763" class="Symbol">λ{</a>
    <a id="3770" href="Data.Maybe.Base.html#Maybe.nothing" class="InductiveConstructor">nothing</a> <a id="3778" class="Symbol">→</a> <a id="3780" href="Data.Maybe.Base.html#Maybe.nothing" class="InductiveConstructor">nothing</a> <a id="3788" class="Symbol">;</a>
    <a id="3794" class="Symbol">(</a><a id="3795" href="Data.Maybe.Base.html#Maybe.just" class="InductiveConstructor">just</a> <a id="3800" class="Symbol">(_</a> <a id="3803" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3805" href="STLCRef.SemanticsLB.html#3805" class="Bound">μ&#39;&#39;</a> <a id="3809" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3811" href="STLCRef.SemanticsLB.html#3811" class="Bound">y</a> <a id="3813" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3815" href="STLCRef.SemanticsLB.html#3815" class="Bound">ext&#39;</a><a id="3819" class="Symbol">))</a> <a id="3822" class="Symbol">→</a> <a id="3824" href="Data.Maybe.Base.html#Maybe.just" class="InductiveConstructor">just</a> <a id="3829" class="Symbol">(_</a> <a id="3832" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3834" href="STLCRef.SemanticsLB.html#3805" class="Bound">μ&#39;&#39;</a> <a id="3838" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3840" href="STLCRef.SemanticsLB.html#3811" class="Bound">y</a> <a id="3842" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3844" href="STLCRef.SemanticsLB.html#3715" class="Bound">ext</a> <a id="3848" href="Common.Weakening.html#_%E2%8A%9A_" class="Function Operator">⊚</a> <a id="3850" href="STLCRef.SemanticsLB.html#3815" class="Bound">ext&#39;</a><a id="3854" class="Symbol">)</a>
  <a id="3858" class="Symbol">}}</a>

<a id="getEnv" href="STLCRef.SemanticsLB.html#getEnv" class="Function">getEnv</a>  <a id="3870" class="Symbol">:</a> <a id="3872" class="Symbol">∀</a> <a id="3874" class="Symbol">{</a><a id="3875" href="STLCRef.SemanticsLB.html#3875" class="Bound">Σ</a> <a id="3877" href="STLCRef.SemanticsLB.html#3877" class="Bound">Γ</a><a id="3878" class="Symbol">}</a> <a id="3880" class="Symbol">→</a> <a id="3882" href="STLCRef.SemanticsLB.html#M" class="Function">M</a> <a id="3884" href="STLCRef.SemanticsLB.html#3877" class="Bound">Γ</a> <a id="3886" class="Symbol">(</a><a id="3887" href="STLCRef.SemanticsLB.html#Env" class="Function">Env</a> <a id="3891" href="STLCRef.SemanticsLB.html#3877" class="Bound">Γ</a><a id="3892" class="Symbol">)</a> <a id="3894" href="STLCRef.SemanticsLB.html#3875" class="Bound">Σ</a>
<a id="3896" href="STLCRef.SemanticsLB.html#getEnv" class="Function">getEnv</a> <a id="3903" href="STLCRef.SemanticsLB.html#3903" class="Bound">E</a> <a id="3905" class="Symbol">=</a> <a id="3907" href="STLCRef.SemanticsLB.html#return" class="Function">return</a> <a id="3914" href="STLCRef.SemanticsLB.html#3903" class="Bound">E</a> <a id="3916" href="STLCRef.SemanticsLB.html#3903" class="Bound">E</a>

<a id="usingEnv" href="STLCRef.SemanticsLB.html#usingEnv" class="Function">usingEnv</a> <a id="3928" class="Symbol">:</a> <a id="3930" class="Symbol">∀</a> <a id="3932" class="Symbol">{</a><a id="3933" href="STLCRef.SemanticsLB.html#3933" class="Bound">Σ</a> <a id="3935" href="STLCRef.SemanticsLB.html#3935" class="Bound">Γ</a> <a id="3937" href="STLCRef.SemanticsLB.html#3937" class="Bound">Γ&#39;</a><a id="3939" class="Symbol">}{</a><a id="3941" href="STLCRef.SemanticsLB.html#3941" class="Bound">p</a> <a id="3943" class="Symbol">:</a> <a id="3945" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="3950" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a> <a id="3953" class="Symbol">→</a> <a id="3955" class="PrimitiveType">Set</a><a id="3958" class="Symbol">}</a> <a id="3960" class="Symbol">→</a> <a id="3962" href="STLCRef.SemanticsLB.html#Env" class="Function">Env</a> <a id="3966" href="STLCRef.SemanticsLB.html#3935" class="Bound">Γ</a> <a id="3968" href="STLCRef.SemanticsLB.html#3933" class="Bound">Σ</a> <a id="3970" class="Symbol">→</a> <a id="3972" href="STLCRef.SemanticsLB.html#M" class="Function">M</a> <a id="3974" href="STLCRef.SemanticsLB.html#3935" class="Bound">Γ</a> <a id="3976" href="STLCRef.SemanticsLB.html#3941" class="Bound">p</a> <a id="3978" href="STLCRef.SemanticsLB.html#3933" class="Bound">Σ</a> <a id="3980" class="Symbol">→</a> <a id="3982" href="STLCRef.SemanticsLB.html#M" class="Function">M</a> <a id="3984" href="STLCRef.SemanticsLB.html#3937" class="Bound">Γ&#39;</a> <a id="3987" href="STLCRef.SemanticsLB.html#3941" class="Bound">p</a> <a id="3989" href="STLCRef.SemanticsLB.html#3933" class="Bound">Σ</a>
<a id="3991" href="STLCRef.SemanticsLB.html#usingEnv" class="Function">usingEnv</a> <a id="4000" href="STLCRef.SemanticsLB.html#4000" class="Bound">E</a> <a id="4002" href="STLCRef.SemanticsLB.html#4002" class="Bound">f</a>  <a id="4005" class="Symbol">_</a> <a id="4007" class="Symbol">=</a> <a id="4009" href="STLCRef.SemanticsLB.html#4002" class="Bound">f</a> <a id="4011" href="STLCRef.SemanticsLB.html#4000" class="Bound">E</a>

<a id="timeout" href="STLCRef.SemanticsLB.html#timeout" class="Function">timeout</a> <a id="4022" class="Symbol">:</a> <a id="4024" class="Symbol">∀</a> <a id="4026" class="Symbol">{</a><a id="4027" href="STLCRef.SemanticsLB.html#4027" class="Bound">Σ</a> <a id="4029" href="STLCRef.SemanticsLB.html#4029" class="Bound">Γ</a><a id="4030" class="Symbol">}{</a><a id="4032" href="STLCRef.SemanticsLB.html#4032" class="Bound">p</a> <a id="4034" class="Symbol">:</a> <a id="4036" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="4041" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a> <a id="4044" class="Symbol">→</a> <a id="4046" class="PrimitiveType">Set</a><a id="4049" class="Symbol">}</a> <a id="4051" class="Symbol">→</a> <a id="4053" href="STLCRef.SemanticsLB.html#M" class="Function">M</a> <a id="4055" href="STLCRef.SemanticsLB.html#4029" class="Bound">Γ</a> <a id="4057" href="STLCRef.SemanticsLB.html#4032" class="Bound">p</a> <a id="4059" href="STLCRef.SemanticsLB.html#4027" class="Bound">Σ</a>
<a id="4061" href="STLCRef.SemanticsLB.html#timeout" class="Function">timeout</a> <a id="4069" class="Symbol">_</a> <a id="4071" class="Symbol">_</a> <a id="4073" class="Symbol">=</a> <a id="4075" href="Data.Maybe.Base.html#Maybe.nothing" class="InductiveConstructor">nothing</a>

<a id="store" href="STLCRef.SemanticsLB.html#store" class="Function">store</a> <a id="4090" class="Symbol">:</a> <a id="4092" class="Symbol">∀</a> <a id="4094" class="Symbol">{</a><a id="4095" href="STLCRef.SemanticsLB.html#4095" class="Bound">Σ</a> <a id="4097" href="STLCRef.SemanticsLB.html#4097" class="Bound">t</a> <a id="4099" href="STLCRef.SemanticsLB.html#4099" class="Bound">Γ</a><a id="4100" class="Symbol">}</a> <a id="4102" class="Symbol">→</a> <a id="4104" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="4108" href="STLCRef.SemanticsLB.html#4097" class="Bound">t</a> <a id="4110" href="STLCRef.SemanticsLB.html#4095" class="Bound">Σ</a> <a id="4112" class="Symbol">→</a> <a id="4114" href="STLCRef.SemanticsLB.html#M" class="Function">M</a> <a id="4116" href="STLCRef.SemanticsLB.html#4099" class="Bound">Γ</a> <a id="4118" class="Symbol">(</a><a id="4119" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="4123" class="Symbol">(</a><a id="4124" href="STLCRef.SemanticsLB.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="4128" href="STLCRef.SemanticsLB.html#4097" class="Bound">t</a><a id="4129" class="Symbol">))</a> <a id="4132" href="STLCRef.SemanticsLB.html#4095" class="Bound">Σ</a>
<a id="4134" href="STLCRef.SemanticsLB.html#store" class="Function">store</a> <a id="4140" class="Symbol">{</a><a id="4141" href="STLCRef.SemanticsLB.html#4141" class="Bound">Σ</a><a id="4142" class="Symbol">}</a> <a id="4144" class="Symbol">{</a><a id="4145" href="STLCRef.SemanticsLB.html#4145" class="Bound">t</a><a id="4146" class="Symbol">}</a> <a id="4148" href="STLCRef.SemanticsLB.html#4148" class="Bound">v</a> <a id="4150" class="Symbol">_</a> <a id="4152" href="STLCRef.SemanticsLB.html#4152" class="Bound">μ</a>
  <a id="4156" class="Symbol">=</a> <a id="4158" class="Keyword">let</a> <a id="4162" href="STLCRef.SemanticsLB.html#4162" class="Bound">ext</a> <a id="4166" class="Symbol">=</a> <a id="4168" href="Data.List.Prefix.html#%E2%88%B7%CA%B3-%E2%8A%92" class="Function">∷ʳ-⊒</a> <a id="4173" href="STLCRef.SemanticsLB.html#4145" class="Bound">t</a> <a id="4175" href="STLCRef.SemanticsLB.html#4141" class="Bound">Σ</a>
        <a id="4185" href="STLCRef.SemanticsLB.html#4185" class="Bound">v&#39;</a>  <a id="4189" class="Symbol">=</a> <a id="4191" href="STLCRef.SemanticsLB.html#Val.loc" class="InductiveConstructor">loc</a> <a id="4195" class="Symbol">(</a><a id="4196" href="Data.List.Properties.Extra.html#%E2%88%88-%E2%88%B7%CA%B3" class="Function">∈-∷ʳ</a> <a id="4201" href="STLCRef.SemanticsLB.html#4141" class="Bound">Σ</a> <a id="4203" href="STLCRef.SemanticsLB.html#4145" class="Bound">t</a><a id="4204" class="Symbol">)</a>
        <a id="4214" href="STLCRef.SemanticsLB.html#4214" class="Bound">μ&#39;</a>  <a id="4218" class="Symbol">=</a> <a id="4220" class="Symbol">(</a><a id="4221" href="Data.List.All.html#map" class="Function">List∀.map</a> <a id="4231" class="Symbol">(</a><a id="4232" href="STLCRef.SemanticsLB.html#weaken-val" class="Function">weaken-val</a> <a id="4243" href="STLCRef.SemanticsLB.html#4162" class="Bound">ext</a><a id="4246" class="Symbol">)</a> <a id="4248" href="STLCRef.SemanticsLB.html#4152" class="Bound">μ</a><a id="4249" class="Symbol">)</a> <a id="4251" href="Data.List.All.Properties.Extra.html#_all-%E2%88%B7%CA%B3_" class="Function Operator">all-∷ʳ</a> <a id="4258" class="Symbol">(</a><a id="4259" href="STLCRef.SemanticsLB.html#weaken-val" class="Function">weaken-val</a> <a id="4270" href="STLCRef.SemanticsLB.html#4162" class="Bound">ext</a> <a id="4274" href="STLCRef.SemanticsLB.html#4148" class="Bound">v</a><a id="4275" class="Symbol">)</a>
    <a id="4281" class="Keyword">in</a> <a id="4284" href="Data.Maybe.Base.html#Maybe.just" class="InductiveConstructor">just</a> <a id="4289" class="Symbol">(_</a> <a id="4292" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4294" href="STLCRef.SemanticsLB.html#4214" class="Bound">μ&#39;</a> <a id="4297" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4299" href="STLCRef.SemanticsLB.html#4185" class="Bound">v&#39;</a> <a id="4302" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4304" href="STLCRef.SemanticsLB.html#4162" class="Bound">ext</a><a id="4307" class="Symbol">)</a>

<a id="deref" href="STLCRef.SemanticsLB.html#deref" class="Function">deref</a> <a id="4316" class="Symbol">:</a> <a id="4318" class="Symbol">∀</a> <a id="4320" class="Symbol">{</a><a id="4321" href="STLCRef.SemanticsLB.html#4321" class="Bound">Σ</a> <a id="4323" href="STLCRef.SemanticsLB.html#4323" class="Bound">Γ</a> <a id="4325" href="STLCRef.SemanticsLB.html#4325" class="Bound">t</a><a id="4326" class="Symbol">}</a> <a id="4328" class="Symbol">→</a> <a id="4330" href="STLCRef.SemanticsLB.html#4325" class="Bound">t</a> <a id="4332" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="4334" href="STLCRef.SemanticsLB.html#4321" class="Bound">Σ</a> <a id="4336" class="Symbol">→</a> <a id="4338" href="STLCRef.SemanticsLB.html#M" class="Function">M</a> <a id="4340" href="STLCRef.SemanticsLB.html#4323" class="Bound">Γ</a> <a id="4342" class="Symbol">(</a><a id="4343" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="4347" href="STLCRef.SemanticsLB.html#4325" class="Bound">t</a><a id="4348" class="Symbol">)</a> <a id="4350" href="STLCRef.SemanticsLB.html#4321" class="Bound">Σ</a>
<a id="4352" href="STLCRef.SemanticsLB.html#deref" class="Function">deref</a> <a id="4358" href="STLCRef.SemanticsLB.html#4358" class="Bound">x</a> <a id="4360" href="STLCRef.SemanticsLB.html#4360" class="Bound">E</a> <a id="4362" href="STLCRef.SemanticsLB.html#4362" class="Bound">μ</a> <a id="4364" class="Symbol">=</a> <a id="4366" href="STLCRef.SemanticsLB.html#return" class="Function">return</a> <a id="4373" class="Symbol">(</a><a id="4374" href="Data.List.All.html#lookup" class="Function">lookup</a> <a id="4381" href="STLCRef.SemanticsLB.html#4362" class="Bound">μ</a> <a id="4383" href="STLCRef.SemanticsLB.html#4358" class="Bound">x</a><a id="4384" class="Symbol">)</a> <a id="4386" href="STLCRef.SemanticsLB.html#4360" class="Bound">E</a> <a id="4388" href="STLCRef.SemanticsLB.html#4362" class="Bound">μ</a>

<a id="update" href="STLCRef.SemanticsLB.html#update" class="Function">update</a> <a id="4398" class="Symbol">:</a> <a id="4400" class="Symbol">∀</a> <a id="4402" class="Symbol">{</a><a id="4403" href="STLCRef.SemanticsLB.html#4403" class="Bound">Σ</a> <a id="4405" href="STLCRef.SemanticsLB.html#4405" class="Bound">Γ</a> <a id="4407" href="STLCRef.SemanticsLB.html#4407" class="Bound">t</a><a id="4408" class="Symbol">}</a> <a id="4410" class="Symbol">→</a> <a id="4412" href="STLCRef.SemanticsLB.html#4407" class="Bound">t</a> <a id="4414" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="4416" href="STLCRef.SemanticsLB.html#4403" class="Bound">Σ</a> <a id="4418" class="Symbol">→</a> <a id="4420" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="4424" href="STLCRef.SemanticsLB.html#4407" class="Bound">t</a> <a id="4426" href="STLCRef.SemanticsLB.html#4403" class="Bound">Σ</a> <a id="4428" class="Symbol">→</a> <a id="4430" href="STLCRef.SemanticsLB.html#M" class="Function">M</a> <a id="4432" href="STLCRef.SemanticsLB.html#4405" class="Bound">Γ</a> <a id="4434" class="Symbol">(λ</a> <a id="4437" href="STLCRef.SemanticsLB.html#4437" class="Bound">_</a> <a id="4439" class="Symbol">→</a> <a id="4441" href="Agda.Builtin.Unit.html#%E2%8A%A4" class="Record">⊤</a><a id="4442" class="Symbol">)</a> <a id="4444" href="STLCRef.SemanticsLB.html#4403" class="Bound">Σ</a>
<a id="4446" href="STLCRef.SemanticsLB.html#update" class="Function">update</a> <a id="4453" href="STLCRef.SemanticsLB.html#4453" class="Bound">x</a> <a id="4455" href="STLCRef.SemanticsLB.html#4455" class="Bound">v</a> <a id="4457" href="STLCRef.SemanticsLB.html#4457" class="Bound">E</a> <a id="4459" href="STLCRef.SemanticsLB.html#4459" class="Bound">μ</a> <a id="4461" class="Symbol">=</a> <a id="4463" href="STLCRef.SemanticsLB.html#return" class="Function">return</a> <a id="4470" href="Agda.Builtin.Unit.html#%E2%8A%A4.tt" class="InductiveConstructor">tt</a> <a id="4473" href="STLCRef.SemanticsLB.html#4457" class="Bound">E</a> <a id="4475" class="Symbol">(</a><a id="4476" href="STLCRef.SemanticsLB.html#update-store" class="Function">update-store</a> <a id="4489" href="STLCRef.SemanticsLB.html#4453" class="Bound">x</a> <a id="4491" href="STLCRef.SemanticsLB.html#4455" class="Bound">v</a> <a id="4493" href="STLCRef.SemanticsLB.html#4459" class="Bound">μ</a><a id="4494" class="Symbol">)</a>

<a id="eval" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="4502" class="Symbol">:</a> <a id="4504" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="4506" class="Symbol">→</a> <a id="4508" class="Symbol">∀</a> <a id="4510" class="Symbol">{</a><a id="4511" href="STLCRef.SemanticsLB.html#4511" class="Bound">Σ</a> <a id="4513" href="STLCRef.SemanticsLB.html#4513" class="Bound">Γ</a> <a id="4515" href="STLCRef.SemanticsLB.html#4515" class="Bound">t</a><a id="4516" class="Symbol">}</a> <a id="4518" class="Symbol">→</a> <a id="4520" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="4525" href="STLCRef.SemanticsLB.html#4513" class="Bound">Γ</a> <a id="4527" href="STLCRef.SemanticsLB.html#4515" class="Bound">t</a> <a id="4529" class="Symbol">→</a> <a id="4531" href="STLCRef.SemanticsLB.html#M" class="Function">M</a> <a id="4533" href="STLCRef.SemanticsLB.html#4513" class="Bound">Γ</a> <a id="4535" class="Symbol">(</a><a id="4536" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="4540" href="STLCRef.SemanticsLB.html#4515" class="Bound">t</a><a id="4541" class="Symbol">)</a> <a id="4543" href="STLCRef.SemanticsLB.html#4511" class="Bound">Σ</a>
<a id="4545" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="4550" href="Agda.Builtin.Nat.html#Nat.zero" class="InductiveConstructor">zero</a>    <a id="4558" class="Symbol">_</a>           <a id="4570" class="Symbol">=</a>
  <a id="4574" href="STLCRef.SemanticsLB.html#timeout" class="Function">timeout</a>
<a id="4582" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="4587" class="Symbol">(</a><a id="4588" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="4592" href="STLCRef.SemanticsLB.html#4592" class="Bound">k</a><a id="4593" class="Symbol">)</a> <a id="4595" href="STLCRef.SemanticsLB.html#Expr.unit" class="InductiveConstructor">unit</a>        <a id="4607" class="Symbol">=</a>
  <a id="4611" href="STLCRef.SemanticsLB.html#return" class="Function">return</a> <a id="4618" href="STLCRef.SemanticsLB.html#Val.unit" class="InductiveConstructor">unit</a>
<a id="4623" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="4628" class="Symbol">(</a><a id="4629" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="4633" href="STLCRef.SemanticsLB.html#4633" class="Bound">k</a><a id="4634" class="Symbol">)</a> <a id="4636" class="Symbol">(</a><a id="4637" href="STLCRef.SemanticsLB.html#Expr.var" class="InductiveConstructor">var</a> <a id="4641" href="STLCRef.SemanticsLB.html#4641" class="Bound">x</a><a id="4642" class="Symbol">)</a>     <a id="4648" class="Symbol">=</a>
  <a id="4652" href="STLCRef.SemanticsLB.html#getEnv" class="Function">getEnv</a> <a id="4659" href="STLCRef.SemanticsLB.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="4663" class="Symbol">λ</a> <a id="4665" href="STLCRef.SemanticsLB.html#4665" class="Bound">_</a> <a id="4667" href="STLCRef.SemanticsLB.html#4667" class="Bound">E</a> <a id="4669" class="Symbol">→</a>
  <a id="4673" href="STLCRef.SemanticsLB.html#return" class="Function">return</a> <a id="4680" class="Symbol">(</a><a id="4681" href="Data.List.All.html#lookup" class="Function">lookup</a> <a id="4688" href="STLCRef.SemanticsLB.html#4667" class="Bound">E</a> <a id="4690" href="STLCRef.SemanticsLB.html#4641" class="Bound">x</a><a id="4691" class="Symbol">)</a>
<a id="4693" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="4698" class="Symbol">(</a><a id="4699" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="4703" href="STLCRef.SemanticsLB.html#4703" class="Bound">k</a><a id="4704" class="Symbol">)</a> <a id="4706" class="Symbol">(</a><a id="4707" href="STLCRef.SemanticsLB.html#Expr.%C6%9B" class="InductiveConstructor">ƛ</a> <a id="4709" href="STLCRef.SemanticsLB.html#4709" class="Bound">e</a><a id="4710" class="Symbol">)</a>       <a id="4718" class="Symbol">=</a>
  <a id="4722" href="STLCRef.SemanticsLB.html#getEnv" class="Function">getEnv</a> <a id="4729" href="STLCRef.SemanticsLB.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="4733" class="Symbol">λ</a> <a id="4735" href="STLCRef.SemanticsLB.html#4735" class="Bound">_</a> <a id="4737" href="STLCRef.SemanticsLB.html#4737" class="Bound">E</a> <a id="4739" class="Symbol">→</a>
  <a id="4743" href="STLCRef.SemanticsLB.html#return" class="Function">return</a> <a id="4750" href="STLCRef.SemanticsLB.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟨</a> <a id="4752" href="STLCRef.SemanticsLB.html#4709" class="Bound">e</a> <a id="4754" href="STLCRef.SemanticsLB.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">,</a> <a id="4756" href="STLCRef.SemanticsLB.html#4737" class="Bound">E</a> <a id="4758" href="STLCRef.SemanticsLB.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟩</a>
<a id="4760" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="4765" class="Symbol">(</a><a id="4766" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="4770" href="STLCRef.SemanticsLB.html#4770" class="Bound">k</a><a id="4771" class="Symbol">)</a> <a id="4773" class="Symbol">(</a><a id="4774" href="STLCRef.SemanticsLB.html#4774" class="Bound">l</a> <a id="4776" href="STLCRef.SemanticsLB.html#Expr._%C2%B7_" class="InductiveConstructor Operator">·</a> <a id="4778" href="STLCRef.SemanticsLB.html#4778" class="Bound">r</a><a id="4779" class="Symbol">)</a>     <a id="4785" class="Symbol">=</a>
  <a id="4789" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="4794" href="STLCRef.SemanticsLB.html#4770" class="Bound">k</a> <a id="4796" href="STLCRef.SemanticsLB.html#4774" class="Bound">l</a> <a id="4798" href="STLCRef.SemanticsLB.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="4802" class="Symbol">λ{</a> <a id="4805" href="STLCRef.SemanticsLB.html#4805" class="Bound">ext</a> <a id="4809" href="STLCRef.SemanticsLB.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟨</a> <a id="4811" href="STLCRef.SemanticsLB.html#4811" class="Bound">e</a> <a id="4813" href="STLCRef.SemanticsLB.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">,</a> <a id="4815" href="STLCRef.SemanticsLB.html#4815" class="Bound">E</a> <a id="4817" href="STLCRef.SemanticsLB.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟩</a> <a id="4819" class="Symbol">→</a>
  <a id="4823" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="4828" href="STLCRef.SemanticsLB.html#4770" class="Bound">k</a> <a id="4830" href="STLCRef.SemanticsLB.html#4778" class="Bound">r</a> <a id="4832" href="STLCRef.SemanticsLB.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="4836" class="Symbol">λ</a> <a id="4838" href="STLCRef.SemanticsLB.html#4838" class="Bound">ext&#39;</a> <a id="4843" href="STLCRef.SemanticsLB.html#4843" class="Bound">v</a> <a id="4845" class="Symbol">→</a>
  <a id="4849" href="STLCRef.SemanticsLB.html#usingEnv" class="Function">usingEnv</a> <a id="4858" class="Symbol">(</a><a id="4859" href="STLCRef.SemanticsLB.html#4843" class="Bound">v</a> <a id="4861" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="4863" href="STLCRef.SemanticsLB.html#weaken-env" class="Function">weaken-env</a> <a id="4874" href="STLCRef.SemanticsLB.html#4838" class="Bound">ext&#39;</a> <a id="4879" href="STLCRef.SemanticsLB.html#4815" class="Bound">E</a><a id="4880" class="Symbol">)</a> <a id="4882" class="Symbol">(</a><a id="4883" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="4888" href="STLCRef.SemanticsLB.html#4770" class="Bound">k</a> <a id="4890" href="STLCRef.SemanticsLB.html#4811" class="Bound">e</a><a id="4891" class="Symbol">)</a> <a id="4893" class="Symbol">}</a>  <a id="4896" class="Comment">-- explicit weakening</a>
<a id="4918" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="4923" class="Symbol">(</a><a id="4924" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="4928" href="STLCRef.SemanticsLB.html#4928" class="Bound">k</a><a id="4929" class="Symbol">)</a> <a id="4931" class="Symbol">(</a><a id="4932" href="STLCRef.SemanticsLB.html#Expr.num" class="InductiveConstructor">num</a> <a id="4936" href="STLCRef.SemanticsLB.html#4936" class="Bound">x</a><a id="4937" class="Symbol">)</a>     <a id="4943" class="Symbol">=</a>
  <a id="4947" href="STLCRef.SemanticsLB.html#return" class="Function">return</a> <a id="4954" class="Symbol">(</a><a id="4955" href="STLCRef.SemanticsLB.html#Val.num" class="InductiveConstructor">num</a> <a id="4959" href="STLCRef.SemanticsLB.html#4936" class="Bound">x</a><a id="4960" class="Symbol">)</a>
<a id="4962" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="4967" class="Symbol">(</a><a id="4968" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="4972" href="STLCRef.SemanticsLB.html#4972" class="Bound">k</a><a id="4973" class="Symbol">)</a> <a id="4975" class="Symbol">(</a><a id="4976" href="STLCRef.SemanticsLB.html#Expr.iop" class="InductiveConstructor">iop</a> <a id="4980" href="STLCRef.SemanticsLB.html#4980" class="Bound">f</a> <a id="4982" href="STLCRef.SemanticsLB.html#4982" class="Bound">l</a> <a id="4984" href="STLCRef.SemanticsLB.html#4984" class="Bound">r</a><a id="4985" class="Symbol">)</a> <a id="4987" class="Symbol">=</a>
  <a id="4991" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="4996" href="STLCRef.SemanticsLB.html#4972" class="Bound">k</a> <a id="4998" href="STLCRef.SemanticsLB.html#4982" class="Bound">l</a> <a id="5000" href="STLCRef.SemanticsLB.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5004" class="Symbol">λ{</a> <a id="5007" class="Symbol">_</a> <a id="5009" class="Symbol">(</a><a id="5010" href="STLCRef.SemanticsLB.html#Val.num" class="InductiveConstructor">num</a> <a id="5014" href="STLCRef.SemanticsLB.html#5014" class="Bound">v</a><a id="5015" class="Symbol">)</a> <a id="5017" class="Symbol">→</a>
  <a id="5021" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="5026" href="STLCRef.SemanticsLB.html#4972" class="Bound">k</a> <a id="5028" href="STLCRef.SemanticsLB.html#4984" class="Bound">r</a> <a id="5030" href="STLCRef.SemanticsLB.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5034" class="Symbol">λ{</a> <a id="5037" class="Symbol">_</a> <a id="5039" class="Symbol">(</a><a id="5040" href="STLCRef.SemanticsLB.html#Val.num" class="InductiveConstructor">num</a> <a id="5044" href="STLCRef.SemanticsLB.html#5044" class="Bound">vᵣ</a><a id="5046" class="Symbol">)</a> <a id="5048" class="Symbol">→</a>
  <a id="5052" href="STLCRef.SemanticsLB.html#return" class="Function">return</a> <a id="5059" class="Symbol">(</a><a id="5060" href="STLCRef.SemanticsLB.html#Val.num" class="InductiveConstructor">num</a> <a id="5064" class="Symbol">(</a><a id="5065" href="STLCRef.SemanticsLB.html#4980" class="Bound">f</a> <a id="5067" href="STLCRef.SemanticsLB.html#5014" class="Bound">v</a> <a id="5069" href="STLCRef.SemanticsLB.html#5044" class="Bound">vᵣ</a><a id="5071" class="Symbol">))</a> <a id="5074" class="Symbol">}}</a>
<a id="5077" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="5082" class="Symbol">(</a><a id="5083" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="5087" href="STLCRef.SemanticsLB.html#5087" class="Bound">k</a><a id="5088" class="Symbol">)</a> <a id="5090" class="Symbol">(</a><a id="5091" href="STLCRef.SemanticsLB.html#Expr.ifz" class="InductiveConstructor">ifz</a> <a id="5095" href="STLCRef.SemanticsLB.html#5095" class="Bound">c</a> <a id="5097" href="STLCRef.SemanticsLB.html#5097" class="Bound">t</a> <a id="5099" href="STLCRef.SemanticsLB.html#5099" class="Bound">e</a><a id="5100" class="Symbol">)</a> <a id="5102" class="Symbol">=</a>
  <a id="5106" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="5111" href="STLCRef.SemanticsLB.html#5087" class="Bound">k</a> <a id="5113" href="STLCRef.SemanticsLB.html#5095" class="Bound">c</a> <a id="5115" href="STLCRef.SemanticsLB.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5119" class="Symbol">λ{</a> <a id="5122" class="Symbol">_</a> <a id="5124" class="Symbol">(</a><a id="5125" href="STLCRef.SemanticsLB.html#Val.num" class="InductiveConstructor">num</a> <a id="5129" href="STLCRef.SemanticsLB.html#5129" class="Bound">z</a><a id="5130" class="Symbol">)</a> <a id="5132" class="Symbol">→</a>
  <a id="5136" href="Function.html#case_of_" class="Function Operator">case</a> <a id="5141" href="STLCRef.SemanticsLB.html#5129" class="Bound">z</a> <a id="5143" href="Function.html#case_of_" class="Function Operator">of</a> <a id="5146" class="Symbol">λ{</a> <a id="5149" class="Symbol">(</a><a id="5150" href="Agda.Builtin.Int.html#Int.%2B_" class="InductiveConstructor Operator">+</a> <a id="5152" href="Agda.Builtin.Nat.html#Nat.zero" class="InductiveConstructor">zero</a><a id="5156" class="Symbol">)</a> <a id="5158" class="Symbol">→</a>
    <a id="5164" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="5169" href="STLCRef.SemanticsLB.html#5087" class="Bound">k</a> <a id="5171" href="STLCRef.SemanticsLB.html#5097" class="Bound">t</a>
  <a id="5175" class="Symbol">;</a> <a id="5177" class="CatchallClause Symbol">_</a> <a id="5179" class="Symbol">→</a>
    <a id="5185" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="5190" href="STLCRef.SemanticsLB.html#5087" class="Bound">k</a> <a id="5192" href="STLCRef.SemanticsLB.html#5099" class="Bound">e</a> <a id="5194" class="Symbol">}}</a>
<a id="5197" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="5202" class="Symbol">(</a><a id="5203" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="5207" href="STLCRef.SemanticsLB.html#5207" class="Bound">k</a><a id="5208" class="Symbol">)</a> <a id="5210" class="Symbol">(</a><a id="5211" href="STLCRef.SemanticsLB.html#Expr.ref" class="InductiveConstructor">ref</a> <a id="5215" href="STLCRef.SemanticsLB.html#5215" class="Bound">e</a><a id="5216" class="Symbol">)</a>     <a id="5222" class="Symbol">=</a>
  <a id="5226" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="5231" href="STLCRef.SemanticsLB.html#5207" class="Bound">k</a> <a id="5233" href="STLCRef.SemanticsLB.html#5215" class="Bound">e</a> <a id="5235" href="STLCRef.SemanticsLB.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5239" class="Symbol">λ</a> <a id="5241" href="STLCRef.SemanticsLB.html#5241" class="Bound">_</a> <a id="5243" href="STLCRef.SemanticsLB.html#5243" class="Bound">v</a> <a id="5245" class="Symbol">→</a>
  <a id="5249" href="STLCRef.SemanticsLB.html#store" class="Function">store</a> <a id="5255" href="STLCRef.SemanticsLB.html#5243" class="Bound">v</a>
<a id="5257" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="5262" class="Symbol">(</a><a id="5263" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="5267" href="STLCRef.SemanticsLB.html#5267" class="Bound">k</a><a id="5268" class="Symbol">)</a> <a id="5270" class="Symbol">(</a><a id="5271" href="STLCRef.SemanticsLB.html#Expr.%21_" class="InductiveConstructor Operator">!</a> <a id="5273" href="STLCRef.SemanticsLB.html#5273" class="Bound">e</a><a id="5274" class="Symbol">)</a>       <a id="5282" class="Symbol">=</a>
  <a id="5286" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="5291" href="STLCRef.SemanticsLB.html#5267" class="Bound">k</a> <a id="5293" href="STLCRef.SemanticsLB.html#5273" class="Bound">e</a> <a id="5295" href="STLCRef.SemanticsLB.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5299" class="Symbol">λ{</a> <a id="5302" class="Symbol">_</a> <a id="5304" class="Symbol">(</a><a id="5305" href="STLCRef.SemanticsLB.html#Val.loc" class="InductiveConstructor">loc</a> <a id="5309" href="STLCRef.SemanticsLB.html#5309" class="Bound">l</a><a id="5310" class="Symbol">)</a> <a id="5312" class="Symbol">→</a>
  <a id="5316" href="STLCRef.SemanticsLB.html#deref" class="Function">deref</a> <a id="5322" href="STLCRef.SemanticsLB.html#5309" class="Bound">l</a> <a id="5324" class="Symbol">}</a>
<a id="5326" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="5331" class="Symbol">(</a><a id="5332" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="5336" href="STLCRef.SemanticsLB.html#5336" class="Bound">k</a><a id="5337" class="Symbol">)</a> <a id="5339" class="Symbol">(</a><a id="5340" href="STLCRef.SemanticsLB.html#5340" class="Bound">r</a> <a id="5342" href="STLCRef.SemanticsLB.html#Expr._%E2%89%94_" class="InductiveConstructor Operator">≔</a> <a id="5344" href="STLCRef.SemanticsLB.html#5344" class="Bound">e</a><a id="5345" class="Symbol">)</a>     <a id="5351" class="Symbol">=</a>
  <a id="5355" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="5360" href="STLCRef.SemanticsLB.html#5336" class="Bound">k</a> <a id="5362" href="STLCRef.SemanticsLB.html#5340" class="Bound">r</a> <a id="5364" href="STLCRef.SemanticsLB.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5368" class="Symbol">λ{</a> <a id="5371" class="Symbol">_</a> <a id="5373" class="Symbol">(</a><a id="5374" href="STLCRef.SemanticsLB.html#Val.loc" class="InductiveConstructor">loc</a> <a id="5378" href="STLCRef.SemanticsLB.html#5378" class="Bound">l</a><a id="5379" class="Symbol">)</a> <a id="5381" class="Symbol">→</a>
  <a id="5385" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="5390" href="STLCRef.SemanticsLB.html#5336" class="Bound">k</a> <a id="5392" href="STLCRef.SemanticsLB.html#5344" class="Bound">e</a> <a id="5394" href="STLCRef.SemanticsLB.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5398" class="Symbol">λ</a> <a id="5400" href="STLCRef.SemanticsLB.html#5400" class="Bound">ext</a> <a id="5404" href="STLCRef.SemanticsLB.html#5404" class="Bound">v</a> <a id="5406" class="Symbol">→</a>
  <a id="5410" href="STLCRef.SemanticsLB.html#update" class="Function">update</a> <a id="5417" class="Symbol">(</a><a id="5418" href="Data.List.Prefix.html#%E2%88%88-%E2%8A%92" class="Function">∈-⊒</a> <a id="5422" href="STLCRef.SemanticsLB.html#5378" class="Bound">l</a> <a id="5424" href="STLCRef.SemanticsLB.html#5400" class="Bound">ext</a><a id="5427" class="Symbol">)</a> <a id="5429" href="STLCRef.SemanticsLB.html#5404" class="Bound">v</a> <a id="5431" href="STLCRef.SemanticsLB.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5435" class="Symbol">λ</a> <a id="5437" href="STLCRef.SemanticsLB.html#5437" class="Bound">_</a> <a id="5439" href="STLCRef.SemanticsLB.html#5439" class="Bound">_</a> <a id="5441" class="Symbol">→</a>             <a id="5455" class="Comment">-- explicit weakening</a>
  <a id="5479" href="STLCRef.SemanticsLB.html#return" class="Function">return</a> <a id="5486" href="STLCRef.SemanticsLB.html#Val.unit" class="InductiveConstructor">unit</a> <a id="5491" class="Symbol">}</a>
</pre></body></html>