<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Common.Weakening</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="Agda.Primitive.html" class="Module">Agda.Primitive</a>
<a id="28" class="Keyword">open</a> <a id="33" class="Keyword">import</a> <a id="40" href="Data.List.Most.html" class="Module">Data.List.Most</a>
<a id="55" class="Keyword">open</a> <a id="60" class="Keyword">import</a> <a id="67" href="Data.List.All.html" class="Module">Data.List.All</a> <a id="81" class="Symbol">as</a> <a id="84" class="Module">List∀</a>
<a id="90" class="Keyword">open</a> <a id="95" class="Keyword">import</a> <a id="102" href="Function.html" class="Module">Function</a>

<a id="112" class="Keyword">module</a> <a id="119" href="Common.Weakening.html" class="Module">Common.Weakening</a> <a id="136" class="Symbol">{</a><a id="137" href="Common.Weakening.html#137" class="Bound">i</a><a id="138" class="Symbol">}{</a><a id="140" href="Common.Weakening.html#140" class="Bound">A</a> <a id="142" class="Symbol">:</a> <a id="144" class="PrimitiveType">Set</a> <a id="148" href="Common.Weakening.html#137" class="Bound">i</a><a id="149" class="Symbol">}</a> <a id="151" class="Keyword">where</a>

<a id="158" class="Keyword">record</a> <a id="Weakenable" href="Common.Weakening.html#Weakenable" class="Record">Weakenable</a> <a id="176" class="Symbol">{</a><a id="177" href="Common.Weakening.html#177" class="Bound">j</a><a id="178" class="Symbol">}(</a><a id="180" href="Common.Weakening.html#180" class="Bound">p</a> <a id="182" class="Symbol">:</a> <a id="184" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="189" href="Common.Weakening.html#140" class="Bound">A</a> <a id="191" class="Symbol">→</a> <a id="193" class="PrimitiveType">Set</a> <a id="197" href="Common.Weakening.html#177" class="Bound">j</a><a id="198" class="Symbol">)</a> <a id="200" class="Symbol">:</a> <a id="202" class="PrimitiveType">Set</a> <a id="206" class="Symbol">(</a><a id="207" href="Common.Weakening.html#137" class="Bound">i</a> <a id="209" href="Agda.Primitive.html#_%E2%8A%94_" class="Primitive Operator">⊔</a> <a id="211" href="Common.Weakening.html#177" class="Bound">j</a><a id="212" class="Symbol">)</a> <a id="214" class="Keyword">where</a>
  <a id="222" class="Keyword">field</a> <a id="Weakenable.wk" href="Common.Weakening.html#Weakenable.wk" class="Field">wk</a> <a id="231" class="Symbol">:</a> <a id="233" class="Symbol">∀</a> <a id="235" class="Symbol">{</a><a id="236" href="Common.Weakening.html#236" class="Bound">w</a> <a id="238" href="Common.Weakening.html#238" class="Bound">w&#39;</a><a id="240" class="Symbol">}</a> <a id="242" class="Symbol">→</a> <a id="244" href="Common.Weakening.html#236" class="Bound">w</a> <a id="246" href="Data.List.Prefix.html#_%E2%8A%91_" class="Datatype Operator">⊑</a> <a id="248" href="Common.Weakening.html#238" class="Bound">w&#39;</a> <a id="251" class="Symbol">→</a> <a id="253" href="Common.Weakening.html#180" class="Bound">p</a> <a id="255" href="Common.Weakening.html#236" class="Bound">w</a> <a id="257" class="Symbol">→</a> <a id="259" href="Common.Weakening.html#180" class="Bound">p</a> <a id="261" href="Common.Weakening.html#238" class="Bound">w&#39;</a>

<a id="265" class="Comment">-- Some weakening functions for common structures</a>

<a id="316" class="Keyword">instance</a>
  <a id="any-weakenable" href="Common.Weakening.html#any-weakenable" class="Function">any-weakenable</a> <a id="342" class="Symbol">:</a> <a id="344" class="Symbol">∀</a> <a id="346" class="Symbol">{</a><a id="347" href="Common.Weakening.html#347" class="Bound">x</a> <a id="349" class="Symbol">:</a> <a id="351" href="Common.Weakening.html#140" class="Bound">A</a><a id="352" class="Symbol">}</a> <a id="354" class="Symbol">→</a> <a id="356" href="Common.Weakening.html#Weakenable" class="Record">Weakenable</a> <a id="367" class="Symbol">(λ</a> <a id="370" href="Common.Weakening.html#370" class="Bound">xs</a> <a id="373" class="Symbol">→</a> <a id="375" href="Common.Weakening.html#347" class="Bound">x</a> <a id="377" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="379" href="Common.Weakening.html#370" class="Bound">xs</a><a id="381" class="Symbol">)</a>
  <a id="385" href="Common.Weakening.html#any-weakenable" class="Function">any-weakenable</a> <a id="400" class="Symbol">=</a> <a id="402" class="Keyword">record</a> <a id="409" class="Symbol">{</a> <a id="411" class="Field">wk</a> <a id="414" class="Symbol">=</a> <a id="416" class="Symbol">λ</a> <a id="418" href="Common.Weakening.html#418" class="Bound">ext</a> <a id="422" href="Common.Weakening.html#422" class="Bound">l</a> <a id="424" class="Symbol">→</a> <a id="426" href="Data.List.Prefix.html#%E2%88%88-%E2%8A%92" class="Function">∈-⊒</a> <a id="430" href="Common.Weakening.html#422" class="Bound">l</a> <a id="432" href="Common.Weakening.html#418" class="Bound">ext</a> <a id="436" class="Symbol">}</a>

  <a id="all-weakenable" href="Common.Weakening.html#all-weakenable" class="Function">all-weakenable</a> <a id="456" class="Symbol">:</a> <a id="458" class="Symbol">∀</a> <a id="460" class="Symbol">{</a><a id="461" href="Common.Weakening.html#461" class="Bound">j</a><a id="462" class="Symbol">}{</a><a id="464" href="Common.Weakening.html#464" class="Bound">B</a> <a id="466" class="Symbol">:</a> <a id="468" class="PrimitiveType">Set</a> <a id="472" href="Common.Weakening.html#461" class="Bound">j</a><a id="473" class="Symbol">}{</a><a id="475" href="Common.Weakening.html#475" class="Bound">xs</a> <a id="478" class="Symbol">:</a> <a id="480" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="485" href="Common.Weakening.html#464" class="Bound">B</a><a id="486" class="Symbol">}</a>
                     <a id="509" class="Symbol">{</a><a id="510" href="Common.Weakening.html#510" class="Bound">k</a><a id="511" class="Symbol">}{</a><a id="513" href="Common.Weakening.html#513" class="Bound">C</a> <a id="515" class="Symbol">:</a> <a id="517" href="Common.Weakening.html#464" class="Bound">B</a> <a id="519" class="Symbol">→</a> <a id="521" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="526" href="Common.Weakening.html#140" class="Bound">A</a> <a id="528" class="Symbol">→</a> <a id="530" class="PrimitiveType">Set</a> <a id="534" href="Common.Weakening.html#510" class="Bound">k</a><a id="535" class="Symbol">}(</a> <a id="538" href="Common.Weakening.html#538" class="Bound">wₐ</a> <a id="541" class="Symbol">:</a> <a id="543" class="Symbol">∀</a> <a id="545" href="Common.Weakening.html#545" class="Bound">x</a> <a id="547" class="Symbol">→</a> <a id="549" href="Common.Weakening.html#Weakenable" class="Record">Weakenable</a> <a id="560" class="Symbol">(</a><a id="561" href="Common.Weakening.html#513" class="Bound">C</a> <a id="563" href="Common.Weakening.html#545" class="Bound">x</a><a id="564" class="Symbol">)</a> <a id="566" class="Symbol">)</a> <a id="568" class="Symbol">→</a>
                     <a id="591" href="Common.Weakening.html#Weakenable" class="Record">Weakenable</a> <a id="602" class="Symbol">(λ</a> <a id="605" href="Common.Weakening.html#605" class="Bound">ys</a> <a id="608" class="Symbol">→</a> <a id="610" href="Data.List.All.html#All" class="Datatype">All</a> <a id="614" class="Symbol">(λ</a> <a id="617" href="Common.Weakening.html#617" class="Bound">x</a> <a id="619" class="Symbol">→</a> <a id="621" href="Common.Weakening.html#513" class="Bound">C</a> <a id="623" href="Common.Weakening.html#617" class="Bound">x</a> <a id="625" href="Common.Weakening.html#605" class="Bound">ys</a><a id="627" class="Symbol">)</a> <a id="629" href="Common.Weakening.html#475" class="Bound">xs</a><a id="631" class="Symbol">)</a>
  <a id="635" href="Common.Weakening.html#all-weakenable" class="Function">all-weakenable</a> <a id="650" href="Common.Weakening.html#650" class="Bound">wₐ</a> <a id="653" class="Symbol">=</a> <a id="655" class="Keyword">record</a> <a id="662" class="Symbol">{</a>
    <a id="668" class="Field">wk</a> <a id="671" class="Symbol">=</a> <a id="673" class="Symbol">λ</a> <a id="675" href="Common.Weakening.html#675" class="Bound">ext</a> <a id="679" href="Common.Weakening.html#679" class="Bound">v</a> <a id="681" class="Symbol">→</a> <a id="683" href="Data.List.All.html#map" class="Function">List∀.map</a> <a id="693" class="Symbol">(λ</a> <a id="696" class="Symbol">{</a><a id="697" href="Common.Weakening.html#697" class="Bound">a</a><a id="698" class="Symbol">}</a> <a id="700" href="Common.Weakening.html#700" class="Bound">y</a> <a id="702" class="Symbol">→</a> <a id="704" href="Common.Weakening.html#Weakenable.wk" class="Field">Weakenable.wk</a> <a id="718" class="Symbol">(</a><a id="719" href="Common.Weakening.html#650" class="Bound">wₐ</a> <a id="722" href="Common.Weakening.html#697" class="Bound">a</a><a id="723" class="Symbol">)</a> <a id="725" href="Common.Weakening.html#675" class="Bound">ext</a> <a id="729" href="Common.Weakening.html#700" class="Bound">y</a><a id="730" class="Symbol">)</a> <a id="732" href="Common.Weakening.html#679" class="Bound">v</a> <a id="734" class="Symbol">}</a>

<a id="const-weakenable" href="Common.Weakening.html#const-weakenable" class="Function">const-weakenable</a> <a id="754" class="Symbol">:</a> <a id="756" class="Symbol">∀</a> <a id="758" class="Symbol">{</a><a id="759" href="Common.Weakening.html#759" class="Bound">A</a> <a id="761" class="Symbol">:</a> <a id="763" class="PrimitiveType">Set</a><a id="766" class="Symbol">}</a> <a id="768" class="Symbol">→</a> <a id="770" href="Common.Weakening.html#Weakenable" class="Record">Weakenable</a> <a id="781" class="Symbol">(λ</a> <a id="784" href="Common.Weakening.html#784" class="Bound">_</a> <a id="786" class="Symbol">→</a> <a id="788" href="Common.Weakening.html#759" class="Bound">A</a><a id="789" class="Symbol">)</a>
<a id="791" href="Common.Weakening.html#const-weakenable" class="Function">const-weakenable</a> <a id="808" class="Symbol">=</a> <a id="810" class="Keyword">record</a> <a id="817" class="Symbol">{</a> <a id="819" class="Field">wk</a> <a id="822" class="Symbol">=</a> <a id="824" class="Symbol">λ</a> <a id="826" href="Common.Weakening.html#826" class="Bound">ext</a> <a id="830" href="Common.Weakening.html#830" class="Bound">c</a> <a id="832" class="Symbol">→</a> <a id="834" href="Common.Weakening.html#830" class="Bound">c</a> <a id="836" class="Symbol">}</a>

<a id="839" class="Comment">-- nicer syntax for transitivity</a>
<a id="872" class="Keyword">infixl</a> <a id="879" class="Number">30</a> <a id="882" href="Common.Weakening.html#_%E2%8A%9A_" class="Function Operator">_⊚_</a>
<a id="_⊚_" href="Common.Weakening.html#_%E2%8A%9A_" class="Function Operator">_⊚_</a> <a id="890" class="Symbol">:</a> <a id="892" class="Symbol">∀</a> <a id="894" class="Symbol">{</a><a id="895" href="Common.Weakening.html#895" class="Bound">W</a> <a id="897" href="Common.Weakening.html#897" class="Bound">W&#39;</a> <a id="900" href="Common.Weakening.html#900" class="Bound">W&#39;&#39;</a> <a id="904" class="Symbol">:</a> <a id="906" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="911" href="Common.Weakening.html#140" class="Bound">A</a><a id="912" class="Symbol">}</a> <a id="914" class="Symbol">→</a> <a id="916" href="Common.Weakening.html#897" class="Bound">W&#39;</a> <a id="919" href="Data.List.Prefix.html#_%E2%8A%92_" class="Function Operator">⊒</a> <a id="921" href="Common.Weakening.html#895" class="Bound">W</a> <a id="923" class="Symbol">→</a> <a id="925" href="Common.Weakening.html#900" class="Bound">W&#39;&#39;</a> <a id="929" href="Data.List.Prefix.html#_%E2%8A%92_" class="Function Operator">⊒</a> <a id="931" href="Common.Weakening.html#897" class="Bound">W&#39;</a> <a id="934" class="Symbol">→</a> <a id="936" href="Common.Weakening.html#900" class="Bound">W&#39;&#39;</a> <a id="940" href="Data.List.Prefix.html#_%E2%8A%92_" class="Function Operator">⊒</a> <a id="942" href="Common.Weakening.html#895" class="Bound">W</a>
<a id="944" href="Common.Weakening.html#_%E2%8A%9A_" class="Function Operator">_⊚_</a> <a id="948" href="Common.Weakening.html#948" class="Bound">co₁</a> <a id="952" href="Common.Weakening.html#952" class="Bound">co₂</a> <a id="956" class="Symbol">=</a> <a id="958" href="Data.List.Prefix.html#%E2%8A%91-trans" class="Function">⊑-trans</a> <a id="966" href="Common.Weakening.html#948" class="Bound">co₁</a> <a id="970" href="Common.Weakening.html#952" class="Bound">co₂</a>
</pre></body></html>