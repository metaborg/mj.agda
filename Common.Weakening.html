<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Common.Weakening</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="Agda.Primitive.html" class="Module">Agda.Primitive</a>
<a id="28" class="Keyword">import</a> <a id="35" href="Data.List.html" class="Module">Data.List</a> <a id="45" class="Symbol">as</a> <a id="48" class="Module">List</a>
<a id="53" class="Keyword">open</a> <a id="58" class="Keyword">import</a> <a id="65" href="Data.List.Most.html" class="Module">Data.List.Most</a>
<a id="80" class="Keyword">open</a> <a id="85" class="Keyword">import</a> <a id="92" href="Data.List.All.html" class="Module">Data.List.All</a> <a id="106" class="Symbol">as</a> <a id="109" class="Module">List∀</a>
<a id="115" class="Keyword">open</a> <a id="120" class="Keyword">import</a> <a id="127" href="Function.html" class="Module">Function</a>
<a id="136" class="Keyword">open</a> <a id="141" class="Keyword">import</a> <a id="148" href="Level.html" class="Module">Level</a>

<a id="155" class="Keyword">module</a> <a id="162" href="Common.Weakening.html" class="Module">Common.Weakening</a> <a id="179" class="Keyword">where</a>

<a id="186" class="Comment">{-
  The following `Weakenable` record defines a class of weakenable (or
  monotone) predicates over lists.

  We can make the definitions of `Weakenable` available using the
  syntax:

  open Weakenable ⦃...⦄ public

  Whenever we use `wk e p` where `e : x ⊑ x&#39;`, `p : P x` where `x x&#39; :
  List X`, Agda will use instance argument search to find a defined
  instance of `Weakenable {X} P`.  See also
  http://agda.readthedocs.io/en/v2.5.3/language/instance-arguments.html
-}</a>

<a id="663" class="Keyword">record</a> <a id="Weakenable" href="Common.Weakening.html#Weakenable" class="Record">Weakenable</a> <a id="681" class="Symbol">{</a><a id="682" href="Common.Weakening.html#682" class="Bound">i</a> <a id="684" href="Common.Weakening.html#684" class="Bound">j</a><a id="685" class="Symbol">}{</a><a id="687" href="Common.Weakening.html#687" class="Bound">A</a> <a id="689" class="Symbol">:</a> <a id="691" class="PrimitiveType">Set</a> <a id="695" href="Common.Weakening.html#682" class="Bound">i</a><a id="696" class="Symbol">}(</a><a id="698" href="Common.Weakening.html#698" class="Bound">p</a> <a id="700" class="Symbol">:</a> <a id="702" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="707" href="Common.Weakening.html#687" class="Bound">A</a> <a id="709" class="Symbol">→</a> <a id="711" class="PrimitiveType">Set</a> <a id="715" href="Common.Weakening.html#684" class="Bound">j</a><a id="716" class="Symbol">)</a> <a id="718" class="Symbol">:</a> <a id="720" class="PrimitiveType">Set</a> <a id="724" class="Symbol">(</a><a id="725" href="Common.Weakening.html#682" class="Bound">i</a> <a id="727" href="Agda.Primitive.html#_%E2%8A%94_" class="Primitive Operator">⊔</a> <a id="729" href="Common.Weakening.html#684" class="Bound">j</a><a id="730" class="Symbol">)</a> <a id="732" class="Keyword">where</a>
  <a id="740" class="Keyword">field</a> <a id="Weakenable.wk" href="Common.Weakening.html#Weakenable.wk" class="Field">wk</a> <a id="749" class="Symbol">:</a> <a id="751" class="Symbol">∀</a> <a id="753" class="Symbol">{</a><a id="754" href="Common.Weakening.html#754" class="Bound">w</a> <a id="756" href="Common.Weakening.html#756" class="Bound">w&#39;</a><a id="758" class="Symbol">}</a> <a id="760" class="Symbol">→</a> <a id="762" href="Common.Weakening.html#754" class="Bound">w</a> <a id="764" href="Data.List.Prefix.html#_%E2%8A%91_" class="Datatype Operator">⊑</a> <a id="766" href="Common.Weakening.html#756" class="Bound">w&#39;</a> <a id="769" class="Symbol">→</a> <a id="771" href="Common.Weakening.html#698" class="Bound">p</a> <a id="773" href="Common.Weakening.html#754" class="Bound">w</a> <a id="775" class="Symbol">→</a> <a id="777" href="Common.Weakening.html#698" class="Bound">p</a> <a id="779" href="Common.Weakening.html#756" class="Bound">w&#39;</a>

<a id="783" class="Comment">{-
  In general, weakenable predicates can be defined over *any* preorder.
  See `Experiments.Category` for a more general definition and
  treatment.

  The definition of `Weakenable` above is specialized to the
  interpreters in our paper which are all defined in terms of
  weakenable predicates over lists.
-}</a>

<a id="1098" class="Keyword">open</a> <a id="1103" href="Common.Weakening.html#Weakenable" class="Module">Weakenable</a> <a id="1114" class="Symbol">⦃...⦄</a> <a id="1120" class="Keyword">public</a>

<a id="1128" class="Comment">{-
  We define a few derived instances of `Weakenable` that appear
  commonly.
-}</a>

<a id="1211" class="Keyword">instance</a>
  <a id="any-weakenable" href="Common.Weakening.html#any-weakenable" class="Function">any-weakenable</a> <a id="1237" class="Symbol">:</a> <a id="1239" class="Symbol">∀</a> <a id="1241" class="Symbol">{</a><a id="1242" href="Common.Weakening.html#1242" class="Bound">i</a><a id="1243" class="Symbol">}{</a><a id="1245" href="Common.Weakening.html#1245" class="Bound">A</a> <a id="1247" class="Symbol">:</a> <a id="1249" class="PrimitiveType">Set</a> <a id="1253" href="Common.Weakening.html#1242" class="Bound">i</a><a id="1254" class="Symbol">}{</a><a id="1256" href="Common.Weakening.html#1256" class="Bound">x</a> <a id="1258" class="Symbol">:</a> <a id="1260" href="Common.Weakening.html#1245" class="Bound">A</a><a id="1261" class="Symbol">}</a> <a id="1263" class="Symbol">→</a> <a id="1265" href="Common.Weakening.html#Weakenable" class="Record">Weakenable</a> <a id="1276" class="Symbol">(λ</a> <a id="1279" href="Common.Weakening.html#1279" class="Bound">xs</a> <a id="1282" class="Symbol">→</a> <a id="1284" href="Common.Weakening.html#1256" class="Bound">x</a> <a id="1286" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="1288" href="Common.Weakening.html#1279" class="Bound">xs</a><a id="1290" class="Symbol">)</a>
  <a id="1294" href="Common.Weakening.html#any-weakenable" class="Function">any-weakenable</a> <a id="1309" class="Symbol">=</a> <a id="1311" class="Keyword">record</a> <a id="1318" class="Symbol">{</a> <a id="1320" class="Field">wk</a> <a id="1323" class="Symbol">=</a> <a id="1325" class="Symbol">λ</a> <a id="1327" href="Common.Weakening.html#1327" class="Bound">ext</a> <a id="1331" href="Common.Weakening.html#1331" class="Bound">l</a> <a id="1333" class="Symbol">→</a> <a id="1335" href="Data.List.Prefix.html#%E2%88%88-%E2%8A%92" class="Function">∈-⊒</a> <a id="1339" href="Common.Weakening.html#1331" class="Bound">l</a> <a id="1341" href="Common.Weakening.html#1327" class="Bound">ext</a> <a id="1345" class="Symbol">}</a>

  <a id="all-weakenable" href="Common.Weakening.html#all-weakenable" class="Function">all-weakenable</a> <a id="1365" class="Symbol">:</a> <a id="1367" class="Symbol">∀</a> <a id="1369" class="Symbol">{</a><a id="1370" href="Common.Weakening.html#1370" class="Bound">i</a><a id="1371" class="Symbol">}{</a><a id="1373" href="Common.Weakening.html#1373" class="Bound">A</a> <a id="1375" class="Symbol">:</a> <a id="1377" class="PrimitiveType">Set</a> <a id="1381" href="Common.Weakening.html#1370" class="Bound">i</a><a id="1382" class="Symbol">}{</a><a id="1384" href="Common.Weakening.html#1384" class="Bound">j</a><a id="1385" class="Symbol">}{</a><a id="1387" href="Common.Weakening.html#1387" class="Bound">B</a> <a id="1389" class="Symbol">:</a> <a id="1391" class="PrimitiveType">Set</a> <a id="1395" href="Common.Weakening.html#1384" class="Bound">j</a><a id="1396" class="Symbol">}{</a><a id="1398" href="Common.Weakening.html#1398" class="Bound">xs</a> <a id="1401" class="Symbol">:</a> <a id="1403" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="1408" href="Common.Weakening.html#1387" class="Bound">B</a><a id="1409" class="Symbol">}</a>
                     <a id="1432" class="Symbol">{</a><a id="1433" href="Common.Weakening.html#1433" class="Bound">k</a><a id="1434" class="Symbol">}{</a><a id="1436" href="Common.Weakening.html#1436" class="Bound">C</a> <a id="1438" class="Symbol">:</a> <a id="1440" href="Common.Weakening.html#1387" class="Bound">B</a> <a id="1442" class="Symbol">→</a> <a id="1444" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="1449" href="Common.Weakening.html#1373" class="Bound">A</a> <a id="1451" class="Symbol">→</a> <a id="1453" class="PrimitiveType">Set</a> <a id="1457" href="Common.Weakening.html#1433" class="Bound">k</a><a id="1458" class="Symbol">}(</a> <a id="1461" href="Common.Weakening.html#1461" class="Bound">wₐ</a> <a id="1464" class="Symbol">:</a> <a id="1466" class="Symbol">∀</a> <a id="1468" href="Common.Weakening.html#1468" class="Bound">x</a> <a id="1470" class="Symbol">→</a> <a id="1472" href="Common.Weakening.html#Weakenable" class="Record">Weakenable</a> <a id="1483" class="Symbol">(</a><a id="1484" href="Common.Weakening.html#1436" class="Bound">C</a> <a id="1486" href="Common.Weakening.html#1468" class="Bound">x</a><a id="1487" class="Symbol">)</a> <a id="1489" class="Symbol">)</a> <a id="1491" class="Symbol">→</a>
                     <a id="1514" href="Common.Weakening.html#Weakenable" class="Record">Weakenable</a> <a id="1525" class="Symbol">(λ</a> <a id="1528" href="Common.Weakening.html#1528" class="Bound">ys</a> <a id="1531" class="Symbol">→</a> <a id="1533" href="Data.List.All.html#All" class="Datatype">All</a> <a id="1537" class="Symbol">(λ</a> <a id="1540" href="Common.Weakening.html#1540" class="Bound">x</a> <a id="1542" class="Symbol">→</a> <a id="1544" href="Common.Weakening.html#1436" class="Bound">C</a> <a id="1546" href="Common.Weakening.html#1540" class="Bound">x</a> <a id="1548" href="Common.Weakening.html#1528" class="Bound">ys</a><a id="1550" class="Symbol">)</a> <a id="1552" href="Common.Weakening.html#1398" class="Bound">xs</a><a id="1554" class="Symbol">)</a>
  <a id="1558" href="Common.Weakening.html#all-weakenable" class="Function">all-weakenable</a> <a id="1573" href="Common.Weakening.html#1573" class="Bound">wₐ</a> <a id="1576" class="Symbol">=</a> <a id="1578" class="Keyword">record</a> <a id="1585" class="Symbol">{</a>
    <a id="1591" class="Field">wk</a> <a id="1594" class="Symbol">=</a> <a id="1596" class="Symbol">λ</a> <a id="1598" href="Common.Weakening.html#1598" class="Bound">ext</a> <a id="1602" href="Common.Weakening.html#1602" class="Bound">v</a> <a id="1604" class="Symbol">→</a> <a id="1606" href="Data.List.All.html#map" class="Function">List∀.map</a> <a id="1616" class="Symbol">(λ</a> <a id="1619" class="Symbol">{</a><a id="1620" href="Common.Weakening.html#1620" class="Bound">a</a><a id="1621" class="Symbol">}</a> <a id="1623" href="Common.Weakening.html#1623" class="Bound">y</a> <a id="1625" class="Symbol">→</a> <a id="1627" href="Common.Weakening.html#Weakenable.wk" class="Field">Weakenable.wk</a> <a id="1641" class="Symbol">(</a><a id="1642" href="Common.Weakening.html#1573" class="Bound">wₐ</a> <a id="1645" href="Common.Weakening.html#1620" class="Bound">a</a><a id="1646" class="Symbol">)</a> <a id="1648" href="Common.Weakening.html#1598" class="Bound">ext</a> <a id="1652" href="Common.Weakening.html#1623" class="Bound">y</a><a id="1653" class="Symbol">)</a> <a id="1655" href="Common.Weakening.html#1602" class="Bound">v</a> <a id="1657" class="Symbol">}</a>

  <a id="const-weakenable" href="Common.Weakening.html#const-weakenable" class="Function">const-weakenable</a> <a id="1679" class="Symbol">:</a> <a id="1681" class="Symbol">∀</a> <a id="1683" class="Symbol">{</a><a id="1684" href="Common.Weakening.html#1684" class="Bound">j</a> <a id="1686" href="Common.Weakening.html#1686" class="Bound">i</a><a id="1687" class="Symbol">}{</a><a id="1689" href="Common.Weakening.html#1689" class="Bound">I</a> <a id="1691" class="Symbol">:</a> <a id="1693" class="PrimitiveType">Set</a> <a id="1697" href="Common.Weakening.html#1686" class="Bound">i</a><a id="1698" class="Symbol">}{</a><a id="1700" href="Common.Weakening.html#1700" class="Bound">A</a> <a id="1702" class="Symbol">:</a> <a id="1704" class="PrimitiveType">Set</a> <a id="1708" href="Common.Weakening.html#1684" class="Bound">j</a><a id="1709" class="Symbol">}</a> <a id="1711" class="Symbol">→</a> <a id="1713" href="Common.Weakening.html#Weakenable" class="Record">Weakenable</a> <a id="1724" class="Symbol">{</a><a id="1725" class="Argument">A</a> <a id="1727" class="Symbol">=</a> <a id="1729" href="Common.Weakening.html#1689" class="Bound">I</a><a id="1730" class="Symbol">}</a> <a id="1732" class="Symbol">(λ</a> <a id="1735" href="Common.Weakening.html#1735" class="Bound">_</a> <a id="1737" class="Symbol">→</a> <a id="1739" href="Common.Weakening.html#1700" class="Bound">A</a><a id="1740" class="Symbol">)</a>
  <a id="1744" href="Common.Weakening.html#const-weakenable" class="Function">const-weakenable</a> <a id="1761" class="Symbol">=</a> <a id="1763" class="Keyword">record</a> <a id="1770" class="Symbol">{</a> <a id="1772" class="Field">wk</a> <a id="1775" class="Symbol">=</a> <a id="1777" class="Symbol">λ</a> <a id="1779" href="Common.Weakening.html#1779" class="Bound">ext</a> <a id="1783" href="Common.Weakening.html#1783" class="Bound">c</a> <a id="1785" class="Symbol">→</a> <a id="1787" href="Common.Weakening.html#1783" class="Bound">c</a> <a id="1789" class="Symbol">}</a>

  <a id="list-weakenable" href="Common.Weakening.html#list-weakenable" class="Function">list-weakenable</a> <a id="1810" class="Symbol">:</a> <a id="1812" class="Symbol">∀</a> <a id="1814" class="Symbol">{</a><a id="1815" href="Common.Weakening.html#1815" class="Bound">i</a> <a id="1817" href="Common.Weakening.html#1817" class="Bound">b</a><a id="1818" class="Symbol">}{</a><a id="1820" href="Common.Weakening.html#1820" class="Bound">A</a> <a id="1822" class="Symbol">:</a> <a id="1824" class="PrimitiveType">Set</a> <a id="1828" href="Common.Weakening.html#1815" class="Bound">i</a><a id="1829" class="Symbol">}{</a><a id="1831" href="Common.Weakening.html#1831" class="Bound">B</a> <a id="1833" class="Symbol">:</a> <a id="1835" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="1840" href="Common.Weakening.html#1820" class="Bound">A</a> <a id="1842" class="Symbol">→</a> <a id="1844" class="PrimitiveType">Set</a> <a id="1848" href="Common.Weakening.html#1817" class="Bound">b</a><a id="1849" class="Symbol">}</a>
                    <a id="1871" class="Symbol">⦃</a> <a id="1873" href="Common.Weakening.html#1873" class="Bound">wb</a> <a id="1876" class="Symbol">:</a> <a id="1878" href="Common.Weakening.html#Weakenable" class="Record">Weakenable</a> <a id="1889" href="Common.Weakening.html#1831" class="Bound">B</a> <a id="1891" class="Symbol">⦄</a> <a id="1893" class="Symbol">→</a> <a id="1895" href="Common.Weakening.html#Weakenable" class="Record">Weakenable</a> <a id="1906" class="Symbol">(λ</a> <a id="1909" href="Common.Weakening.html#1909" class="Bound">W</a> <a id="1911" class="Symbol">→</a> <a id="1913" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="1918" class="Symbol">(</a><a id="1919" href="Common.Weakening.html#1831" class="Bound">B</a> <a id="1921" href="Common.Weakening.html#1909" class="Bound">W</a><a id="1922" class="Symbol">))</a>
  <a id="1927" href="Common.Weakening.html#list-weakenable" class="Function">list-weakenable</a> <a id="1943" class="Symbol">⦃</a> <a id="1945" href="Common.Weakening.html#1945" class="Bound">wₐ</a> <a id="1948" class="Symbol">⦄</a> <a id="1950" class="Symbol">=</a> <a id="1952" class="Keyword">record</a> <a id="1959" class="Symbol">{</a><a id="1960" class="Field">wk</a> <a id="1963" class="Symbol">=</a> <a id="1965" class="Symbol">λ</a> <a id="1967" href="Common.Weakening.html#1967" class="Bound">ext</a> <a id="1971" href="Common.Weakening.html#1971" class="Bound">v</a> <a id="1973" class="Symbol">→</a> <a id="1975" href="Data.List.Base.html#map" class="Function">List.map</a> <a id="1984" class="Symbol">(</a><a id="1985" href="Common.Weakening.html#746" class="Field">wk</a> <a id="1988" href="Common.Weakening.html#1967" class="Bound">ext</a><a id="1991" class="Symbol">)</a> <a id="1993" href="Common.Weakening.html#1971" class="Bound">v</a> <a id="1995" class="Symbol">}</a>

<a id="1998" class="Comment">-- Nicer syntax for transitivity of prefixes:</a>
<a id="2044" class="Keyword">infixl</a> <a id="2051" class="Number">30</a> <a id="2054" href="Common.Weakening.html#_%E2%8A%9A_" class="Function Operator">_⊚_</a>
<a id="_⊚_" href="Common.Weakening.html#_%E2%8A%9A_" class="Function Operator">_⊚_</a> <a id="2062" class="Symbol">:</a> <a id="2064" class="Symbol">∀</a> <a id="2066" class="Symbol">{</a><a id="2067" href="Common.Weakening.html#2067" class="Bound">i</a><a id="2068" class="Symbol">}{</a><a id="2070" href="Common.Weakening.html#2070" class="Bound">A</a> <a id="2072" class="Symbol">:</a> <a id="2074" class="PrimitiveType">Set</a> <a id="2078" href="Common.Weakening.html#2067" class="Bound">i</a><a id="2079" class="Symbol">}{</a><a id="2081" href="Common.Weakening.html#2081" class="Bound">W</a> <a id="2083" href="Common.Weakening.html#2083" class="Bound">W&#39;</a> <a id="2086" href="Common.Weakening.html#2086" class="Bound">W&#39;&#39;</a> <a id="2090" class="Symbol">:</a> <a id="2092" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="2097" href="Common.Weakening.html#2070" class="Bound">A</a><a id="2098" class="Symbol">}</a> <a id="2100" class="Symbol">→</a> <a id="2102" href="Common.Weakening.html#2083" class="Bound">W&#39;</a> <a id="2105" href="Data.List.Prefix.html#_%E2%8A%92_" class="Function Operator">⊒</a> <a id="2107" href="Common.Weakening.html#2081" class="Bound">W</a> <a id="2109" class="Symbol">→</a> <a id="2111" href="Common.Weakening.html#2086" class="Bound">W&#39;&#39;</a> <a id="2115" href="Data.List.Prefix.html#_%E2%8A%92_" class="Function Operator">⊒</a> <a id="2117" href="Common.Weakening.html#2083" class="Bound">W&#39;</a> <a id="2120" class="Symbol">→</a> <a id="2122" href="Common.Weakening.html#2086" class="Bound">W&#39;&#39;</a> <a id="2126" href="Data.List.Prefix.html#_%E2%8A%92_" class="Function Operator">⊒</a> <a id="2128" href="Common.Weakening.html#2081" class="Bound">W</a>
<a id="2130" href="Common.Weakening.html#_%E2%8A%9A_" class="Function Operator">_⊚_</a> <a id="2134" href="Common.Weakening.html#2134" class="Bound">co₁</a> <a id="2138" href="Common.Weakening.html#2138" class="Bound">co₂</a> <a id="2142" class="Symbol">=</a> <a id="2144" href="Data.List.Prefix.html#%E2%8A%91-trans" class="Function">⊑-trans</a> <a id="2152" href="Common.Weakening.html#2134" class="Bound">co₁</a> <a id="2156" href="Common.Weakening.html#2138" class="Bound">co₂</a>

<a id="2161" class="Comment">{-
  Another common construction is that of products of weakenable
  predicates.  Section 3.4 defines this type, which corresponds to
  `_∩_` from the Agda Standard Library:
-}</a>
<a id="2338" class="Keyword">open</a> <a id="2343" class="Keyword">import</a> <a id="2350" href="Relation.Unary.html" class="Module">Relation.Unary</a>
<a id="2365" class="Keyword">open</a> <a id="2370" class="Keyword">import</a> <a id="2377" href="Data.Product.html" class="Module">Data.Product</a>
<a id="_⊗_" href="Common.Weakening.html#_%E2%8A%97_" class="Function Operator">_⊗_</a> <a id="2394" class="Symbol">:</a> <a id="2396" class="Symbol">∀</a> <a id="2398" class="Symbol">{</a><a id="2399" href="Common.Weakening.html#2399" class="Bound">a</a><a id="2400" class="Symbol">}{</a><a id="2402" href="Common.Weakening.html#2402" class="Bound">i</a> <a id="2404" href="Common.Weakening.html#2404" class="Bound">j</a><a id="2405" class="Symbol">}{</a><a id="2407" href="Common.Weakening.html#2407" class="Bound">W</a> <a id="2409" class="Symbol">:</a> <a id="2411" class="PrimitiveType">Set</a> <a id="2415" href="Common.Weakening.html#2399" class="Bound">a</a><a id="2416" class="Symbol">}(</a><a id="2418" href="Common.Weakening.html#2418" class="Bound">p</a> <a id="2420" class="Symbol">:</a> <a id="2422" href="Common.Weakening.html#2407" class="Bound">W</a> <a id="2424" class="Symbol">→</a> <a id="2426" class="PrimitiveType">Set</a> <a id="2430" href="Common.Weakening.html#2402" class="Bound">i</a><a id="2431" class="Symbol">)(</a><a id="2433" href="Common.Weakening.html#2433" class="Bound">q</a> <a id="2435" class="Symbol">:</a> <a id="2437" href="Common.Weakening.html#2407" class="Bound">W</a> <a id="2439" class="Symbol">→</a> <a id="2441" class="PrimitiveType">Set</a> <a id="2445" href="Common.Weakening.html#2404" class="Bound">j</a><a id="2446" class="Symbol">)(</a><a id="2448" href="Common.Weakening.html#2448" class="Bound">w</a> <a id="2450" class="Symbol">:</a> <a id="2452" href="Common.Weakening.html#2407" class="Bound">W</a><a id="2453" class="Symbol">)</a> <a id="2455" class="Symbol">→</a> <a id="2457" class="PrimitiveType">Set</a> <a id="2461" class="Symbol">(</a><a id="2462" href="Common.Weakening.html#2402" class="Bound">i</a> <a id="2464" href="Agda.Primitive.html#_%E2%8A%94_" class="Primitive Operator">⊔</a> <a id="2466" href="Common.Weakening.html#2404" class="Bound">j</a><a id="2467" class="Symbol">)</a>
<a id="2469" href="Common.Weakening.html#_%E2%8A%97_" class="Function Operator">_⊗_</a> <a id="2473" class="Symbol">=</a> <a id="2475" href="Relation.Unary.html#2601" class="Function Operator">_∩_</a>

<a id="2480" class="Comment">-- We prove that when `_⊗_` is a product of two weakenable predicates,</a>
<a id="2551" class="Comment">-- then `_⊗_` is an instance of `Weakenable`:</a>
<a id="2597" class="Keyword">instance</a>
  <a id="weaken-pair" href="Common.Weakening.html#weaken-pair" class="Function">weaken-pair</a> <a id="2620" class="Symbol">:</a> <a id="2622" class="Symbol">∀</a> <a id="2624" class="Symbol">{</a><a id="2625" href="Common.Weakening.html#2625" class="Bound">a</a><a id="2626" class="Symbol">}{</a><a id="2628" href="Common.Weakening.html#2628" class="Bound">A</a> <a id="2630" class="Symbol">:</a> <a id="2632" class="PrimitiveType">Set</a> <a id="2636" href="Common.Weakening.html#2625" class="Bound">a</a><a id="2637" class="Symbol">}{</a><a id="2639" href="Common.Weakening.html#2639" class="Bound">i</a> <a id="2641" href="Common.Weakening.html#2641" class="Bound">j</a><a id="2642" class="Symbol">}{</a><a id="2644" href="Common.Weakening.html#2644" class="Bound">p</a> <a id="2646" class="Symbol">:</a> <a id="2648" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="2653" href="Common.Weakening.html#2628" class="Bound">A</a> <a id="2655" class="Symbol">→</a> <a id="2657" class="PrimitiveType">Set</a> <a id="2661" href="Common.Weakening.html#2639" class="Bound">i</a><a id="2662" class="Symbol">}{</a><a id="2664" href="Common.Weakening.html#2664" class="Bound">q</a> <a id="2666" class="Symbol">:</a> <a id="2668" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="2673" href="Common.Weakening.html#2628" class="Bound">A</a> <a id="2675" class="Symbol">→</a> <a id="2677" class="PrimitiveType">Set</a> <a id="2681" href="Common.Weakening.html#2641" class="Bound">j</a><a id="2682" class="Symbol">}</a>
                  <a id="2702" class="Symbol">⦃</a> <a id="2704" href="Common.Weakening.html#2704" class="Bound">wp</a> <a id="2707" class="Symbol">:</a> <a id="2709" href="Common.Weakening.html#Weakenable" class="Record">Weakenable</a> <a id="2720" href="Common.Weakening.html#2644" class="Bound">p</a> <a id="2722" class="Symbol">⦄</a> <a id="2724" class="Symbol">⦃</a> <a id="2726" href="Common.Weakening.html#2726" class="Bound">wq</a> <a id="2729" class="Symbol">:</a> <a id="2731" href="Common.Weakening.html#Weakenable" class="Record">Weakenable</a> <a id="2742" href="Common.Weakening.html#2664" class="Bound">q</a> <a id="2744" class="Symbol">⦄</a> <a id="2746" class="Symbol">→</a>
                  <a id="2766" href="Common.Weakening.html#Weakenable" class="Record">Weakenable</a> <a id="2777" class="Symbol">(</a><a id="2778" href="Common.Weakening.html#2644" class="Bound">p</a> <a id="2780" href="Common.Weakening.html#_%E2%8A%97_" class="Function Operator">⊗</a> <a id="2782" href="Common.Weakening.html#2664" class="Bound">q</a><a id="2783" class="Symbol">)</a>
  <a id="2787" href="Common.Weakening.html#weaken-pair" class="Function">weaken-pair</a> <a id="2799" class="Symbol">=</a> <a id="2801" class="Keyword">record</a> <a id="2808" class="Symbol">{</a> <a id="2810" class="Field">wk</a> <a id="2813" class="Symbol">=</a> <a id="2815" class="Symbol">λ{</a> <a id="2818" href="Common.Weakening.html#2818" class="Bound">ext</a> <a id="2822" class="Symbol">(</a><a id="2823" href="Common.Weakening.html#2823" class="Bound">x</a> <a id="2825" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2827" href="Common.Weakening.html#2827" class="Bound">y</a><a id="2828" class="Symbol">)</a> <a id="2830" class="Symbol">→</a> <a id="2832" class="Symbol">(</a><a id="2833" href="Common.Weakening.html#746" class="Field">wk</a> <a id="2836" href="Common.Weakening.html#2818" class="Bound">ext</a> <a id="2840" href="Common.Weakening.html#2823" class="Bound">x</a> <a id="2842" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2844" href="Common.Weakening.html#746" class="Field">wk</a> <a id="2847" href="Common.Weakening.html#2818" class="Bound">ext</a> <a id="2851" href="Common.Weakening.html#2827" class="Bound">y</a><a id="2852" class="Symbol">)</a> <a id="2854" class="Symbol">}</a> <a id="2856" class="Symbol">}</a>
</pre></body></html>