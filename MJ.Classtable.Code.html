<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>MJ.Classtable.Code</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="MJ.Types.html" class="Module">MJ.Types</a>
<a id="22" class="Keyword">import</a> <a id="29" href="MJ.Classtable.Core.html" class="Module">MJ.Classtable.Core</a> <a id="48" class="Symbol">as</a> <a id="51" class="Module">Core</a>

<a id="57" class="Keyword">module</a> <a id="64" href="MJ.Classtable.Code.html" class="Module">MJ.Classtable.Code</a> <a id="83" class="Symbol">{</a><a id="84" href="MJ.Classtable.Code.html#84" class="Bound">c</a><a id="85" class="Symbol">}(</a><a id="87" href="MJ.Classtable.Code.html#87" class="Bound">Ct</a> <a id="90" class="Symbol">:</a> <a id="92" href="MJ.Classtable.Core.html#Classtable" class="Record">Core.Classtable</a> <a id="108" href="MJ.Classtable.Code.html#84" class="Bound">c</a><a id="109" class="Symbol">)</a> <a id="111" class="Keyword">where</a>

<a id="118" class="Keyword">open</a> <a id="123" class="Keyword">import</a> <a id="130" href="Prelude.html" class="Module">Prelude</a> <a id="138" class="Keyword">hiding</a> <a id="145" class="Symbol">(</a><a id="146" href="Data.Nat.Base.html#erase" class="Function">erase</a><a id="151" class="Symbol">)</a>
<a id="153" class="Keyword">open</a> <a id="158" class="Keyword">import</a> <a id="165" href="Data.Maybe.html" class="Module">Data.Maybe</a> <a id="176" class="Symbol">as</a> <a id="179" class="Module">Maybe</a> <a id="185" class="Keyword">using</a> <a id="191" class="Symbol">(</a><a id="192" href="Data.Maybe.Base.html#Maybe" class="Datatype">Maybe</a><a id="197" class="Symbol">;</a> <a id="199" href="Data.Maybe.html#Eq.just" class="InductiveConstructor">just</a><a id="203" class="Symbol">;</a> <a id="205" href="Data.Maybe.html#Eq.nothing" class="InductiveConstructor">nothing</a><a id="212" class="Symbol">)</a>
<a id="214" class="Keyword">open</a> <a id="219" class="Keyword">import</a> <a id="226" href="Data.Maybe.All.html" class="Module">Data.Maybe.All</a> <a id="241" class="Symbol">as</a> <a id="244" class="Module">MayAll</a>
<a id="251" class="Keyword">open</a> <a id="256" class="Keyword">import</a> <a id="263" href="Data.Vec.html" class="Module">Data.Vec</a> <a id="272" class="Symbol">as</a> <a id="275" class="Module">Vec</a> <a id="279" class="Keyword">hiding</a> <a id="286" class="Symbol">(</a><a id="287" href="Data.Vec.html#_%E2%88%88_" class="Datatype Operator">_∈_</a><a id="290" class="Symbol">)</a>
<a id="292" class="Keyword">open</a> <a id="297" class="Keyword">import</a> <a id="304" href="Data.Star.html" class="Module">Data.Star</a> <a id="314" class="Symbol">as</a> <a id="317" class="Module">Star</a>
<a id="322" class="Keyword">open</a> <a id="327" class="Keyword">import</a> <a id="334" href="Data.List.Most.html" class="Module">Data.List.Most</a> <a id="349" class="Symbol">as</a> <a id="352" class="Module">List</a>
<a id="357" class="Keyword">open</a> <a id="362" class="Keyword">import</a> <a id="369" href="Data.List.Properties.Extra.html" class="Module">Data.List.Properties.Extra</a> <a id="396" class="Symbol">as</a> <a id="399" class="Module">List+</a>
<a id="405" class="Keyword">open</a> <a id="410" class="Keyword">import</a> <a id="417" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
<a id="455" class="Keyword">open</a> <a id="460" class="Keyword">import</a> <a id="467" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a>
<a id="494" class="Keyword">open</a> <a id="499" class="Keyword">import</a> <a id="506" href="Data.String.html" class="Module">Data.String</a>

<a id="519" class="Keyword">import</a> <a id="526" href="Data.Vec.All.html" class="Module">Data.Vec.All</a> <a id="539" class="Symbol">as</a> <a id="542" class="Module">Vec∀</a>

<a id="548" class="Keyword">open</a> <a id="553" href="MJ.Classtable.Core.html" class="Module">Core</a> <a id="558" href="MJ.Classtable.Code.html#84" class="Bound">c</a>
<a id="560" class="Keyword">open</a> <a id="565" href="MJ.Classtable.Core.html#Classtable" class="Module">Classtable</a> <a id="576" href="MJ.Classtable.Code.html#87" class="Bound">Ct</a>
<a id="579" class="Keyword">open</a> <a id="584" class="Keyword">import</a> <a id="591" href="MJ.Classtable.Membership.html" class="Module">MJ.Classtable.Membership</a> <a id="616" href="MJ.Classtable.Code.html#87" class="Bound">Ct</a>
<a id="619" class="Keyword">open</a> <a id="624" class="Keyword">import</a> <a id="631" href="MJ.LexicalScope.html" class="Module">MJ.LexicalScope</a> <a id="647" href="MJ.Classtable.Code.html#87" class="Bound">Ct</a>
<a id="650" class="Keyword">open</a> <a id="655" class="Keyword">import</a> <a id="662" href="MJ.Syntax.html" class="Module">MJ.Syntax</a> <a id="672" href="MJ.Classtable.Code.html#87" class="Bound">Ct</a>

<a id="676" class="Keyword">data</a> <a id="Body" href="MJ.Classtable.Code.html#Body" class="Datatype">Body</a> <a id="686" class="Symbol">(</a><a id="687" href="MJ.Classtable.Code.html#687" class="Bound">I</a> <a id="689" class="Symbol">:</a> <a id="691" href="MJ.LexicalScope.html#226" class="Function">Ctx</a><a id="694" class="Symbol">)</a> <a id="696" class="Symbol">:</a> <a id="698" href="MJ.Types.html#Ty" class="Datatype">Ty</a> <a id="701" href="MJ.Classtable.Code.html#84" class="Bound">c</a> <a id="703" class="Symbol">→</a> <a id="705" class="PrimitiveType">Set</a> <a id="709" class="Keyword">where</a>
  <a id="Body.body" href="MJ.Classtable.Code.html#Body.body" class="InductiveConstructor">body</a> <a id="722" class="Symbol">:</a> <a id="724" class="Symbol">∀</a> <a id="726" class="Symbol">{</a><a id="727" href="MJ.Classtable.Code.html#727" class="Bound">r</a><a id="728" class="Symbol">}{</a><a id="730" href="MJ.Classtable.Code.html#730" class="Bound">O</a> <a id="732" class="Symbol">:</a> <a id="734" href="MJ.LexicalScope.html#226" class="Function">Ctx</a><a id="737" class="Symbol">}</a> <a id="739" class="Symbol">→</a> <a id="741" href="MJ.Syntax.Typed.html#3008" class="Function">Stmts</a> <a id="747" href="MJ.Classtable.Code.html#687" class="Bound">I</a> <a id="749" href="MJ.Classtable.Code.html#727" class="Bound">r</a> <a id="751" href="MJ.Classtable.Code.html#730" class="Bound">O</a> <a id="753" class="Symbol">→</a> <a id="755" href="MJ.Syntax.Typed.html#1148" class="Datatype">Expr</a> <a id="760" href="MJ.Classtable.Code.html#730" class="Bound">O</a> <a id="762" href="MJ.Classtable.Code.html#727" class="Bound">r</a> <a id="764" class="Symbol">→</a> <a id="766" href="MJ.Classtable.Code.html#Body" class="Datatype">Body</a> <a id="771" href="MJ.Classtable.Code.html#687" class="Bound">I</a> <a id="773" href="MJ.Classtable.Code.html#727" class="Bound">r</a>

<a id="776" class="Comment">{-
A helper to generate the shape of the context for method bodies
-}</a>
<a id="methodctx" href="MJ.Classtable.Code.html#methodctx" class="Function">methodctx</a> <a id="856" class="Symbol">:</a> <a id="858" href="MJ.Types.html#Cid" class="Datatype">Cid</a> <a id="862" href="MJ.Classtable.Code.html#84" class="Bound">c</a> <a id="864" class="Symbol">→</a> <a id="866" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="871" class="Symbol">(</a><a id="872" href="MJ.Types.html#Ty" class="Datatype">Ty</a> <a id="875" href="MJ.Classtable.Code.html#84" class="Bound">c</a><a id="876" class="Symbol">)</a> <a id="878" class="Symbol">→</a> <a id="880" href="MJ.LexicalScope.html#226" class="Function">Ctx</a>
<a id="884" href="MJ.Classtable.Code.html#methodctx" class="Function">methodctx</a> <a id="894" href="MJ.Classtable.Code.html#894" class="Bound">cid</a> <a id="898" href="MJ.Classtable.Code.html#898" class="Bound">as</a> <a id="901" class="Symbol">=</a> <a id="903" class="Symbol">(</a><a id="904" href="MJ.Types.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="908" href="MJ.Classtable.Code.html#894" class="Bound">cid</a> <a id="912" href="Agda.Builtin.List.html#List._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="914" href="MJ.Classtable.Code.html#898" class="Bound">as</a><a id="916" class="Symbol">)</a>

<a id="919" class="Comment">{-
A helper to generate the shape of the context for constructors
-}</a>
<a id="constrctx" href="MJ.Classtable.Code.html#constrctx" class="Function">constrctx</a> <a id="998" class="Symbol">:</a> <a id="1000" href="MJ.Types.html#Cid" class="Datatype">Cid</a> <a id="1004" href="MJ.Classtable.Code.html#84" class="Bound">c</a> <a id="1006" class="Symbol">→</a> <a id="1008" href="MJ.LexicalScope.html#226" class="Function">Ctx</a>
<a id="1012" href="MJ.Classtable.Code.html#constrctx" class="Function">constrctx</a> <a id="1022" href="MJ.Classtable.Code.html#1022" class="Bound">cid</a> <a id="1026" class="Symbol">=</a> <a id="1028" class="Keyword">let</a> <a id="1032" href="MJ.Classtable.Code.html#1032" class="Bound">cl</a> <a id="1035" class="Symbol">=</a> <a id="1037" href="MJ.Classtable.Core.html#2464" class="Field">Σ</a> <a id="1039" href="MJ.Classtable.Code.html#1022" class="Bound">cid</a> <a id="1043" class="Keyword">in</a> <a id="1046" class="Symbol">(</a><a id="1047" href="MJ.Types.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="1051" href="MJ.Classtable.Code.html#1022" class="Bound">cid</a> <a id="1055" href="Agda.Builtin.List.html#List._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="1057" href="MJ.Classtable.Core.html#1458" class="Field">Class.constr</a> <a id="1070" href="MJ.Classtable.Code.html#1032" class="Bound">cl</a><a id="1072" class="Symbol">)</a>

<a id="1075" class="Comment">-- A method is either just a body, or a body prefixed by a super call.</a>
<a id="1146" class="Keyword">data</a> <a id="Method" href="MJ.Classtable.Code.html#Method" class="Datatype">Method</a> <a id="1158" class="Symbol">(</a><a id="1159" href="MJ.Classtable.Code.html#1159" class="Bound">cid</a> <a id="1163" class="Symbol">:</a> <a id="1165" href="MJ.Types.html#Cid" class="Datatype">Cid</a> <a id="1169" href="MJ.Classtable.Code.html#84" class="Bound">c</a><a id="1170" class="Symbol">)(</a><a id="1172" href="MJ.Classtable.Code.html#1172" class="Bound">m</a> <a id="1174" class="Symbol">:</a> <a id="1176" href="Agda.Builtin.String.html#String" class="Postulate">String</a><a id="1182" class="Symbol">)</a> <a id="1184" class="Symbol">:</a> <a id="1186" href="MJ.Types.html#Sig" class="Function">Sig</a> <a id="1190" href="MJ.Classtable.Code.html#84" class="Bound">c</a> <a id="1192" class="Symbol">→</a> <a id="1194" class="PrimitiveType">Set</a> <a id="1198" class="Keyword">where</a>
  <a id="Method.super_⟨_⟩then_" href="MJ.Classtable.Code.html#Method.super_%E2%9F%A8_%E2%9F%A9then_" class="InductiveConstructor Operator">super_⟨_⟩then_</a> <a id="1221" class="Symbol">:</a> <a id="1223" class="Symbol">∀</a> <a id="1225" class="Symbol">{</a><a id="1226" href="MJ.Classtable.Code.html#1226" class="Bound">as</a> <a id="1229" href="MJ.Classtable.Code.html#1229" class="Bound">b</a><a id="1230" class="Symbol">}</a> <a id="1232" class="Symbol">→</a>
                <a id="1250" class="Keyword">let</a>
                  <a id="1272" href="MJ.Classtable.Code.html#1272" class="Bound">pid</a> <a id="1276" class="Symbol">=</a> <a id="1278" href="MJ.Classtable.Core.html#1438" class="Field">Class.parent</a> <a id="1291" class="Symbol">(</a><a id="1292" href="MJ.Classtable.Core.html#2464" class="Field">Σ</a> <a id="1294" href="MJ.Classtable.Code.html#1159" class="Bound">cid</a><a id="1297" class="Symbol">)</a>
                  <a id="1317" href="MJ.Classtable.Code.html#1317" class="Bound">Γ</a>   <a id="1321" class="Symbol">=</a> <a id="1323" href="MJ.Classtable.Code.html#methodctx" class="Function">methodctx</a> <a id="1333" href="MJ.Classtable.Code.html#1159" class="Bound">cid</a> <a id="1337" href="MJ.Classtable.Code.html#1226" class="Bound">as</a>
                <a id="1356" class="Keyword">in</a>
                  <a id="1377" class="Comment">-- must have a super to call, with the same signature</a>
                  <a id="1449" href="MJ.Classtable.Membership.html#2238" class="Function">AccMember</a> <a id="1459" href="MJ.Classtable.Code.html#1272" class="Bound">pid</a> <a id="1463" href="MJ.Classtable.Core.html#643" class="InductiveConstructor">METHOD</a> <a id="1470" href="MJ.Classtable.Code.html#1172" class="Bound">m</a> <a id="1472" class="Symbol">(</a><a id="1473" href="MJ.Classtable.Code.html#1226" class="Bound">as</a> <a id="1476" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1478" href="MJ.Classtable.Code.html#1229" class="Bound">b</a><a id="1479" class="Symbol">)</a> <a id="1481" class="Symbol">→</a>
                  <a id="1501" class="Comment">-- super call arguments</a>
                  <a id="1543" href="Data.List.All.html#All" class="Datatype">All</a> <a id="1547" class="Symbol">(</a><a id="1548" href="MJ.Syntax.Typed.html#1148" class="Datatype">Expr</a> <a id="1553" href="MJ.Classtable.Code.html#1317" class="Bound">Γ</a><a id="1554" class="Symbol">)</a> <a id="1556" href="MJ.Classtable.Code.html#1226" class="Bound">as</a> <a id="1559" class="Symbol">→</a>
                  <a id="1579" class="Comment">-- body</a>
                  <a id="1605" href="MJ.Classtable.Code.html#Body" class="Datatype">Body</a> <a id="1610" class="Symbol">(</a><a id="1611" href="MJ.Classtable.Code.html#1317" class="Bound">Γ</a> <a id="1613" href="MJ.LexicalScope.html#295" class="Function Operator">+local</a> <a id="1620" href="MJ.Classtable.Code.html#1229" class="Bound">b</a><a id="1621" class="Symbol">)</a> <a id="1623" href="MJ.Classtable.Code.html#1229" class="Bound">b</a> <a id="1625" class="Symbol">→</a> <a id="1627" href="MJ.Classtable.Code.html#Method" class="Datatype">Method</a> <a id="1634" href="MJ.Classtable.Code.html#1159" class="Bound">cid</a> <a id="1638" href="MJ.Classtable.Code.html#1172" class="Bound">m</a> <a id="1640" class="Symbol">(</a><a id="1641" href="MJ.Classtable.Code.html#1226" class="Bound">as</a> <a id="1644" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1646" href="MJ.Classtable.Code.html#1229" class="Bound">b</a><a id="1647" class="Symbol">)</a>
  <a id="Method.body" href="MJ.Classtable.Code.html#Method.body" class="InductiveConstructor">body</a>        <a id="1663" class="Symbol">:</a> <a id="1665" class="Symbol">∀</a> <a id="1667" class="Symbol">{</a><a id="1668" href="MJ.Classtable.Code.html#1668" class="Bound">as</a> <a id="1671" href="MJ.Classtable.Code.html#1671" class="Bound">b</a><a id="1672" class="Symbol">}</a> <a id="1674" class="Symbol">→</a> <a id="1676" href="MJ.Classtable.Code.html#Body" class="Datatype">Body</a> <a id="1681" class="Symbol">(</a><a id="1682" href="MJ.Classtable.Code.html#methodctx" class="Function">methodctx</a> <a id="1692" href="MJ.Classtable.Code.html#1159" class="Bound">cid</a> <a id="1696" href="MJ.Classtable.Code.html#1668" class="Bound">as</a><a id="1698" class="Symbol">)</a> <a id="1700" href="MJ.Classtable.Code.html#1671" class="Bound">b</a> <a id="1702" class="Symbol">→</a> <a id="1704" href="MJ.Classtable.Code.html#Method" class="Datatype">Method</a> <a id="1711" href="MJ.Classtable.Code.html#1159" class="Bound">cid</a> <a id="1715" href="MJ.Classtable.Code.html#1172" class="Bound">m</a> <a id="1717" class="Symbol">(</a><a id="1718" href="MJ.Classtable.Code.html#1668" class="Bound">as</a> <a id="1721" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1723" href="MJ.Classtable.Code.html#1671" class="Bound">b</a><a id="1724" class="Symbol">)</a>

<a id="1727" class="Comment">-- Constructors are similar</a>
<a id="1755" class="Keyword">data</a> <a id="Constructor" href="MJ.Classtable.Code.html#Constructor" class="Datatype">Constructor</a> <a id="1772" class="Symbol">(</a><a id="1773" href="MJ.Classtable.Code.html#1773" class="Bound">cid</a> <a id="1777" class="Symbol">:</a> <a id="1779" href="MJ.Types.html#Cid" class="Datatype">Cid</a> <a id="1783" href="MJ.Classtable.Code.html#84" class="Bound">c</a><a id="1784" class="Symbol">)</a> <a id="1786" class="Symbol">:</a> <a id="1788" class="PrimitiveType">Set</a> <a id="1792" class="Keyword">where</a>
  <a id="Constructor.super_then_" href="MJ.Classtable.Code.html#Constructor.super_then_" class="InductiveConstructor Operator">super_then_</a> <a id="1812" class="Symbol">:</a> <a id="1814" class="Keyword">let</a>
                  <a id="1836" href="MJ.Classtable.Code.html#1836" class="Bound">pid</a> <a id="1840" class="Symbol">=</a> <a id="1842" href="MJ.Classtable.Core.html#1438" class="Field">Class.parent</a> <a id="1855" class="Symbol">(</a><a id="1856" href="MJ.Classtable.Core.html#2464" class="Field">Σ</a> <a id="1858" href="MJ.Classtable.Code.html#1773" class="Bound">cid</a><a id="1861" class="Symbol">)</a>
                  <a id="1881" href="MJ.Classtable.Code.html#1881" class="Bound">pclass</a> <a id="1888" class="Symbol">=</a> <a id="1890" href="MJ.Classtable.Core.html#2464" class="Field">Σ</a> <a id="1892" href="MJ.Classtable.Code.html#1836" class="Bound">pid</a>
                  <a id="1914" href="MJ.Classtable.Code.html#1914" class="Bound">Γ</a>   <a id="1918" class="Symbol">=</a> <a id="1920" href="MJ.Classtable.Code.html#constrctx" class="Function">constrctx</a> <a id="1930" href="MJ.Classtable.Code.html#1773" class="Bound">cid</a>
                <a id="1950" class="Keyword">in</a>
                  <a id="1971" class="Comment">-- super call arguments</a>
                  <a id="2013" href="Data.List.All.html#All" class="Datatype">All</a> <a id="2017" class="Symbol">(</a><a id="2018" href="MJ.Syntax.Typed.html#1148" class="Datatype">Expr</a> <a id="2023" href="MJ.Classtable.Code.html#1914" class="Bound">Γ</a><a id="2024" class="Symbol">)</a> <a id="2026" class="Symbol">(</a><a id="2027" href="MJ.Classtable.Core.html#1458" class="Field">Class.constr</a> <a id="2040" href="MJ.Classtable.Code.html#1881" class="Bound">pclass</a><a id="2046" class="Symbol">)</a> <a id="2048" class="Symbol">→</a>
                  <a id="2068" class="Comment">-- body</a>
                  <a id="2094" href="MJ.Classtable.Code.html#Body" class="Datatype">Body</a> <a id="2099" href="MJ.Classtable.Code.html#1914" class="Bound">Γ</a> <a id="2101" href="MJ.Types.html#Ty.void" class="InductiveConstructor">void</a> <a id="2106" class="Symbol">→</a>
                  <a id="2126" href="MJ.Classtable.Code.html#Constructor" class="Datatype">Constructor</a> <a id="2138" href="MJ.Classtable.Code.html#1773" class="Bound">cid</a>
  <a id="Constructor.body" href="MJ.Classtable.Code.html#Constructor.body" class="InductiveConstructor">body</a>        <a id="2156" class="Symbol">:</a> <a id="2158" href="MJ.Classtable.Code.html#Body" class="Datatype">Body</a> <a id="2163" class="Symbol">(</a><a id="2164" href="MJ.Classtable.Code.html#constrctx" class="Function">constrctx</a> <a id="2174" href="MJ.Classtable.Code.html#1773" class="Bound">cid</a><a id="2177" class="Symbol">)</a> <a id="2179" href="MJ.Types.html#Ty.void" class="InductiveConstructor">void</a> <a id="2184" class="Symbol">→</a> <a id="2186" href="MJ.Classtable.Code.html#Constructor" class="Datatype">Constructor</a> <a id="2198" href="MJ.Classtable.Code.html#1773" class="Bound">cid</a>

<a id="2203" class="Comment">{-
A class implementation consists of a constructor and a body for every
METHOD declaration.
-}</a>
<a id="2299" class="Keyword">record</a> <a id="Implementation" href="MJ.Classtable.Code.html#Implementation" class="Record">Implementation</a> <a id="2321" class="Symbol">(</a><a id="2322" href="MJ.Classtable.Code.html#2322" class="Bound">cid</a> <a id="2326" class="Symbol">:</a> <a id="2328" href="MJ.Types.html#Cid" class="Datatype">Cid</a> <a id="2332" href="MJ.Classtable.Code.html#84" class="Bound">c</a><a id="2333" class="Symbol">)</a> <a id="2335" class="Symbol">:</a> <a id="2337" class="PrimitiveType">Set</a> <a id="2341" class="Keyword">where</a>
  <a id="2349" class="Keyword">constructor</a> <a id="Implementation.implementation" href="MJ.Classtable.Code.html#Implementation.implementation" class="InductiveConstructor">implementation</a>
  <a id="2378" class="Keyword">open</a> <a id="2383" href="MJ.Classtable.Core.html#Class" class="Module">Class</a> <a id="2389" class="Symbol">(</a><a id="2390" href="MJ.Classtable.Core.html#2464" class="Field">Σ</a> <a id="2392" href="MJ.Classtable.Code.html#2322" class="Bound">cid</a><a id="2395" class="Symbol">)</a> <a id="2397" class="Keyword">public</a>
  <a id="2406" class="Keyword">field</a>
    <a id="Implementation.construct" href="MJ.Classtable.Code.html#Implementation.construct" class="Field">construct</a> <a id="2426" class="Symbol">:</a> <a id="2428" href="MJ.Classtable.Code.html#Constructor" class="Datatype">Constructor</a> <a id="2440" href="MJ.Classtable.Code.html#2322" class="Bound">cid</a>
    <a id="Implementation.mbodies" href="MJ.Classtable.Code.html#Implementation.mbodies" class="Field">mbodies</a>   <a id="2458" class="Symbol">:</a> <a id="2460" href="Data.List.All.html#All" class="Datatype">All</a> <a id="2464" class="Symbol">(λ{</a> <a id="2468" class="Symbol">(</a><a id="2469" href="MJ.Classtable.Code.html#2469" class="Bound">name</a> <a id="2474" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2476" href="MJ.Classtable.Code.html#2476" class="Bound">sig</a><a id="2479" class="Symbol">)</a> <a id="2481" class="Symbol">→</a> <a id="2483" href="MJ.Classtable.Code.html#Method" class="Datatype">Method</a> <a id="2490" href="MJ.Classtable.Code.html#2322" class="Bound">cid</a> <a id="2494" href="MJ.Classtable.Code.html#2469" class="Bound">name</a> <a id="2499" href="MJ.Classtable.Code.html#2476" class="Bound">sig</a> <a id="2503" class="Symbol">})</a> <a id="2506" class="Symbol">(</a><a id="2507" href="MJ.Classtable.Core.html#1502" class="Function">decls</a> <a id="2513" href="MJ.Classtable.Core.html#643" class="InductiveConstructor">METHOD</a><a id="2519" class="Symbol">)</a>

<a id="2522" class="Comment">-- Code is a lookup table for class implementations for every class identifier</a>
<a id="Code" href="MJ.Classtable.Code.html#Code" class="Function">Code</a> <a id="2606" class="Symbol">=</a> <a id="2608" class="Symbol">∀</a> <a id="2610" href="MJ.Classtable.Code.html#2610" class="Bound">cid</a> <a id="2614" class="Symbol">→</a> <a id="2616" href="MJ.Classtable.Code.html#Implementation" class="Record">Implementation</a> <a id="2631" href="MJ.Classtable.Code.html#2610" class="Bound">cid</a>

<a id="2636" class="Comment">-- Mirroring `IsMember METHOD` we define the notion of an inherited method body.</a>
<a id="InheritedMethod" href="MJ.Classtable.Code.html#InheritedMethod" class="Function">InheritedMethod</a> <a id="2733" class="Symbol">:</a> <a id="2735" class="Symbol">∀</a> <a id="2737" class="Symbol">(</a><a id="2738" href="MJ.Classtable.Code.html#2738" class="Bound">cid</a> <a id="2742" class="Symbol">:</a> <a id="2744" href="MJ.Types.html#Cid" class="Datatype">Cid</a> <a id="2748" href="MJ.Classtable.Code.html#84" class="Bound">c</a><a id="2749" class="Symbol">)(</a><a id="2751" href="MJ.Classtable.Code.html#2751" class="Bound">m</a> <a id="2753" class="Symbol">:</a> <a id="2755" href="Agda.Builtin.String.html#String" class="Postulate">String</a><a id="2761" class="Symbol">)</a> <a id="2763" class="Symbol">→</a> <a id="2765" href="MJ.Types.html#Sig" class="Function">Sig</a> <a id="2769" href="MJ.Classtable.Code.html#84" class="Bound">c</a> <a id="2771" class="Symbol">→</a> <a id="2773" class="PrimitiveType">Set</a>
<a id="2777" href="MJ.Classtable.Code.html#InheritedMethod" class="Function">InheritedMethod</a> <a id="2793" href="MJ.Classtable.Code.html#2793" class="Bound">cid</a> <a id="2797" href="MJ.Classtable.Code.html#2797" class="Bound">m</a> <a id="2799" href="MJ.Classtable.Code.html#2799" class="Bound">s</a> <a id="2801" class="Symbol">=</a> <a id="2803" href="Data.Product.html#%E2%88%83" class="Function">∃</a> <a id="2805" class="Symbol">λ</a> <a id="2807" href="MJ.Classtable.Code.html#2807" class="Bound">pid</a> <a id="2811" class="Symbol">→</a> <a id="2813" href="MJ.Classtable.Core.html#2464" class="Field">Σ</a> <a id="2815" href="MJ.Classtable.Core.html#2074" class="Function Operator">⊢</a> <a id="2817" href="MJ.Classtable.Code.html#2793" class="Bound">cid</a> <a id="2821" href="MJ.Classtable.Core.html#2074" class="Function Operator">&lt;:</a> <a id="2824" href="MJ.Classtable.Code.html#2807" class="Bound">pid</a> <a id="2828" href="Data.Product.html#_%C3%97_" class="Function Operator">×</a> <a id="2830" href="MJ.Classtable.Code.html#Method" class="Datatype">Method</a> <a id="2837" href="MJ.Classtable.Code.html#2807" class="Bound">pid</a> <a id="2841" href="MJ.Classtable.Code.html#2797" class="Bound">m</a> <a id="2843" href="MJ.Classtable.Code.html#2799" class="Bound">s</a>
</pre></body></html>