<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>MJ.Classtable.Code</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="MJ.Types.html" class="Module">MJ.Types</a>
<a id="22" class="Keyword">import</a> <a id="29" href="MJ.Classtable.Core.html" class="Module">MJ.Classtable.Core</a> <a id="48" class="Symbol">as</a> <a id="51" class="Module">Core</a>

<a id="57" class="Keyword">module</a> <a id="64" href="MJ.Classtable.Code.html" class="Module">MJ.Classtable.Code</a> <a id="83" class="Symbol">{</a><a id="84" href="MJ.Classtable.Code.html#84" class="Bound">c</a><a id="85" class="Symbol">}(</a><a id="87" href="MJ.Classtable.Code.html#87" class="Bound">Ct</a> <a id="90" class="Symbol">:</a> <a id="92" href="MJ.Classtable.Core.html#Classtable" class="Record">Core.Classtable</a> <a id="108" href="MJ.Classtable.Code.html#84" class="Bound">c</a><a id="109" class="Symbol">)</a> <a id="111" class="Keyword">where</a>

<a id="118" class="Keyword">open</a> <a id="123" class="Keyword">import</a> <a id="130" href="Prelude.html" class="Module">Prelude</a> <a id="138" class="Keyword">hiding</a> <a id="145" class="Symbol">(</a><a id="146" href="Data.Nat.Base.html#erase" class="Function">erase</a><a id="151" class="Symbol">)</a>
<a id="153" class="Keyword">open</a> <a id="158" class="Keyword">import</a> <a id="165" href="Data.Maybe.html" class="Module">Data.Maybe</a> <a id="176" class="Symbol">as</a> <a id="179" class="Module">Maybe</a> <a id="185" class="Keyword">using</a> <a id="191" class="Symbol">(</a><a id="192" href="Data.Maybe.Base.html#Maybe" class="Datatype">Maybe</a><a id="197" class="Symbol">;</a> <a id="199" href="Data.Maybe.html#Eq.just" class="InductiveConstructor">just</a><a id="203" class="Symbol">;</a> <a id="205" href="Data.Maybe.html#Eq.nothing" class="InductiveConstructor">nothing</a><a id="212" class="Symbol">)</a>
<a id="214" class="Keyword">open</a> <a id="219" class="Keyword">import</a> <a id="226" href="Data.Maybe.All.html" class="Module">Data.Maybe.All</a> <a id="241" class="Symbol">as</a> <a id="244" class="Module">MayAll</a>
<a id="251" class="Keyword">open</a> <a id="256" class="Keyword">import</a> <a id="263" href="Data.Vec.html" class="Module">Data.Vec</a> <a id="272" class="Symbol">as</a> <a id="275" class="Module">Vec</a> <a id="279" class="Keyword">hiding</a> <a id="286" class="Symbol">(</a><a id="287" href="Data.Vec.html#_%E2%88%88_" class="Datatype Operator">_∈_</a><a id="290" class="Symbol">)</a>
<a id="292" class="Keyword">open</a> <a id="297" class="Keyword">import</a> <a id="304" href="Data.Star.html" class="Module">Data.Star</a> <a id="314" class="Symbol">as</a> <a id="317" class="Module">Star</a>
<a id="322" class="Keyword">open</a> <a id="327" class="Keyword">import</a> <a id="334" href="Data.List.Most.html" class="Module">Data.List.Most</a> <a id="349" class="Symbol">as</a> <a id="352" class="Module">List</a>
<a id="357" class="Keyword">open</a> <a id="362" class="Keyword">import</a> <a id="369" href="Data.List.Properties.Extra.html" class="Module">Data.List.Properties.Extra</a> <a id="396" class="Symbol">as</a> <a id="399" class="Module">List+</a>
<a id="405" class="Keyword">open</a> <a id="410" class="Keyword">import</a> <a id="417" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
<a id="455" class="Keyword">open</a> <a id="460" class="Keyword">import</a> <a id="467" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a>
<a id="494" class="Keyword">open</a> <a id="499" class="Keyword">import</a> <a id="506" href="Data.String.html" class="Module">Data.String</a>

<a id="519" class="Keyword">import</a> <a id="526" href="Data.Vec.All.html" class="Module">Data.Vec.All</a> <a id="539" class="Symbol">as</a> <a id="542" class="Module">Vec∀</a>

<a id="548" class="Keyword">open</a> <a id="553" href="MJ.Classtable.Core.html" class="Module">Core</a> <a id="558" href="MJ.Classtable.Code.html#84" class="Bound">c</a>
<a id="560" class="Keyword">open</a> <a id="565" href="MJ.Classtable.Core.html#Classtable" class="Module">Classtable</a> <a id="576" href="MJ.Classtable.Code.html#87" class="Bound">Ct</a>
<a id="579" class="Keyword">open</a> <a id="584" class="Keyword">import</a> <a id="591" href="MJ.Classtable.Membership.html" class="Module">MJ.Classtable.Membership</a> <a id="616" href="MJ.Classtable.Code.html#87" class="Bound">Ct</a>
<a id="619" class="Keyword">open</a> <a id="624" class="Keyword">import</a> <a id="631" href="MJ.LexicalScope.html" class="Module">MJ.LexicalScope</a> <a id="647" href="MJ.Classtable.Code.html#84" class="Bound">c</a>
<a id="649" class="Keyword">open</a> <a id="654" class="Keyword">import</a> <a id="661" href="MJ.Syntax.html" class="Module">MJ.Syntax</a> <a id="671" href="MJ.Classtable.Code.html#87" class="Bound">Ct</a>

<a id="675" class="Keyword">data</a> <a id="Body" href="MJ.Classtable.Code.html#Body" class="Datatype">Body</a> <a id="685" class="Symbol">(</a><a id="686" href="MJ.Classtable.Code.html#686" class="Bound">I</a> <a id="688" class="Symbol">:</a> <a id="690" href="MJ.LexicalScope.html#206" class="Function">Ctx</a><a id="693" class="Symbol">)</a> <a id="695" class="Symbol">:</a> <a id="697" href="MJ.Types.html#Ty" class="Datatype">Ty</a> <a id="700" href="MJ.Classtable.Code.html#84" class="Bound">c</a> <a id="702" class="Symbol">→</a> <a id="704" class="PrimitiveType">Set</a> <a id="708" class="Keyword">where</a>
  <a id="Body.body" href="MJ.Classtable.Code.html#Body.body" class="InductiveConstructor">body</a> <a id="721" class="Symbol">:</a> <a id="723" class="Symbol">∀</a> <a id="725" class="Symbol">{</a><a id="726" href="MJ.Classtable.Code.html#726" class="Bound">r</a><a id="727" class="Symbol">}{</a><a id="729" href="MJ.Classtable.Code.html#729" class="Bound">O</a> <a id="731" class="Symbol">:</a> <a id="733" href="MJ.LexicalScope.html#206" class="Function">Ctx</a><a id="736" class="Symbol">}</a> <a id="738" class="Symbol">→</a> <a id="740" href="MJ.Syntax.Typed.html#3007" class="Function">Stmts</a> <a id="746" href="MJ.Classtable.Code.html#686" class="Bound">I</a> <a id="748" href="MJ.Classtable.Code.html#726" class="Bound">r</a> <a id="750" href="MJ.Classtable.Code.html#729" class="Bound">O</a> <a id="752" class="Symbol">→</a> <a id="754" href="MJ.Syntax.Typed.html#1147" class="Datatype">Expr</a> <a id="759" href="MJ.Classtable.Code.html#729" class="Bound">O</a> <a id="761" href="MJ.Classtable.Code.html#726" class="Bound">r</a> <a id="763" class="Symbol">→</a> <a id="765" href="MJ.Classtable.Code.html#Body" class="Datatype">Body</a> <a id="770" href="MJ.Classtable.Code.html#686" class="Bound">I</a> <a id="772" href="MJ.Classtable.Code.html#726" class="Bound">r</a>

<a id="775" class="Comment">{-
A helper to generate the shape of the context for method bodies
-}</a>
<a id="methodctx" href="MJ.Classtable.Code.html#methodctx" class="Function">methodctx</a> <a id="855" class="Symbol">:</a> <a id="857" href="MJ.Types.html#Cid" class="Datatype">Cid</a> <a id="861" href="MJ.Classtable.Code.html#84" class="Bound">c</a> <a id="863" class="Symbol">→</a> <a id="865" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="870" class="Symbol">(</a><a id="871" href="MJ.Types.html#Ty" class="Datatype">Ty</a> <a id="874" href="MJ.Classtable.Code.html#84" class="Bound">c</a><a id="875" class="Symbol">)</a> <a id="877" class="Symbol">→</a> <a id="879" href="MJ.LexicalScope.html#206" class="Function">Ctx</a>
<a id="883" href="MJ.Classtable.Code.html#methodctx" class="Function">methodctx</a> <a id="893" href="MJ.Classtable.Code.html#893" class="Bound">cid</a> <a id="897" href="MJ.Classtable.Code.html#897" class="Bound">as</a> <a id="900" class="Symbol">=</a> <a id="902" class="Symbol">(</a><a id="903" href="MJ.Types.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="907" href="MJ.Classtable.Code.html#893" class="Bound">cid</a> <a id="911" href="Agda.Builtin.List.html#List._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="913" href="MJ.Classtable.Code.html#897" class="Bound">as</a><a id="915" class="Symbol">)</a>

<a id="918" class="Comment">{-
A helper to generate the shape of the context for constructors
-}</a>
<a id="constrctx" href="MJ.Classtable.Code.html#constrctx" class="Function">constrctx</a> <a id="997" class="Symbol">:</a> <a id="999" href="MJ.Types.html#Cid" class="Datatype">Cid</a> <a id="1003" href="MJ.Classtable.Code.html#84" class="Bound">c</a> <a id="1005" class="Symbol">→</a> <a id="1007" href="MJ.LexicalScope.html#206" class="Function">Ctx</a>
<a id="1011" href="MJ.Classtable.Code.html#constrctx" class="Function">constrctx</a> <a id="1021" href="MJ.Classtable.Code.html#1021" class="Bound">cid</a> <a id="1025" class="Symbol">=</a> <a id="1027" class="Keyword">let</a> <a id="1031" href="MJ.Classtable.Code.html#1031" class="Bound">cl</a> <a id="1034" class="Symbol">=</a> <a id="1036" href="MJ.Classtable.Core.html#2464" class="Field">Σ</a> <a id="1038" href="MJ.Classtable.Code.html#1021" class="Bound">cid</a> <a id="1042" class="Keyword">in</a> <a id="1045" class="Symbol">(</a><a id="1046" href="MJ.Types.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="1050" href="MJ.Classtable.Code.html#1021" class="Bound">cid</a> <a id="1054" href="Agda.Builtin.List.html#List._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="1056" href="MJ.Classtable.Core.html#1458" class="Field">Class.constr</a> <a id="1069" href="MJ.Classtable.Code.html#1031" class="Bound">cl</a><a id="1071" class="Symbol">)</a>

<a id="1074" class="Comment">-- A method is either just a body, or a body prefixed by a super call.</a>
<a id="1145" class="Keyword">data</a> <a id="Method" href="MJ.Classtable.Code.html#Method" class="Datatype">Method</a> <a id="1157" class="Symbol">(</a><a id="1158" href="MJ.Classtable.Code.html#1158" class="Bound">cid</a> <a id="1162" class="Symbol">:</a> <a id="1164" href="MJ.Types.html#Cid" class="Datatype">Cid</a> <a id="1168" href="MJ.Classtable.Code.html#84" class="Bound">c</a><a id="1169" class="Symbol">)(</a><a id="1171" href="MJ.Classtable.Code.html#1171" class="Bound">m</a> <a id="1173" class="Symbol">:</a> <a id="1175" href="Agda.Builtin.String.html#String" class="Postulate">String</a><a id="1181" class="Symbol">)</a> <a id="1183" class="Symbol">:</a> <a id="1185" href="MJ.Types.html#Sig" class="Function">Sig</a> <a id="1189" href="MJ.Classtable.Code.html#84" class="Bound">c</a> <a id="1191" class="Symbol">→</a> <a id="1193" class="PrimitiveType">Set</a> <a id="1197" class="Keyword">where</a>
  <a id="Method.super_⟨_⟩then_" href="MJ.Classtable.Code.html#Method.super_%E2%9F%A8_%E2%9F%A9then_" class="InductiveConstructor Operator">super_⟨_⟩then_</a> <a id="1220" class="Symbol">:</a> <a id="1222" class="Symbol">∀</a> <a id="1224" class="Symbol">{</a><a id="1225" href="MJ.Classtable.Code.html#1225" class="Bound">as</a> <a id="1228" href="MJ.Classtable.Code.html#1228" class="Bound">b</a><a id="1229" class="Symbol">}</a> <a id="1231" class="Symbol">→</a>
                <a id="1249" class="Keyword">let</a>
                  <a id="1271" href="MJ.Classtable.Code.html#1271" class="Bound">pid</a> <a id="1275" class="Symbol">=</a> <a id="1277" href="MJ.Classtable.Core.html#1438" class="Field">Class.parent</a> <a id="1290" class="Symbol">(</a><a id="1291" href="MJ.Classtable.Core.html#2464" class="Field">Σ</a> <a id="1293" href="MJ.Classtable.Code.html#1158" class="Bound">cid</a><a id="1296" class="Symbol">)</a>
                  <a id="1316" href="MJ.Classtable.Code.html#1316" class="Bound">Γ</a>   <a id="1320" class="Symbol">=</a> <a id="1322" href="MJ.Classtable.Code.html#methodctx" class="Function">methodctx</a> <a id="1332" href="MJ.Classtable.Code.html#1158" class="Bound">cid</a> <a id="1336" href="MJ.Classtable.Code.html#1225" class="Bound">as</a>
                <a id="1355" class="Keyword">in</a>
                  <a id="1376" class="Comment">-- must have a super to call, with the same signature</a>
                  <a id="1448" href="MJ.Classtable.Membership.html#2238" class="Function">AccMember</a> <a id="1458" href="MJ.Classtable.Code.html#1271" class="Bound">pid</a> <a id="1462" href="MJ.Classtable.Core.html#643" class="InductiveConstructor">METHOD</a> <a id="1469" href="MJ.Classtable.Code.html#1171" class="Bound">m</a> <a id="1471" class="Symbol">(</a><a id="1472" href="MJ.Classtable.Code.html#1225" class="Bound">as</a> <a id="1475" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1477" href="MJ.Classtable.Code.html#1228" class="Bound">b</a><a id="1478" class="Symbol">)</a> <a id="1480" class="Symbol">→</a>
                  <a id="1500" class="Comment">-- super call arguments</a>
                  <a id="1542" href="Data.List.All.html#All" class="Datatype">All</a> <a id="1546" class="Symbol">(</a><a id="1547" href="MJ.Syntax.Typed.html#1147" class="Datatype">Expr</a> <a id="1552" href="MJ.Classtable.Code.html#1316" class="Bound">Γ</a><a id="1553" class="Symbol">)</a> <a id="1555" href="MJ.Classtable.Code.html#1225" class="Bound">as</a> <a id="1558" class="Symbol">→</a>
                  <a id="1578" class="Comment">-- body</a>
                  <a id="1604" href="MJ.Classtable.Code.html#Body" class="Datatype">Body</a> <a id="1609" class="Symbol">(</a><a id="1610" href="MJ.Classtable.Code.html#1316" class="Bound">Γ</a> <a id="1612" href="MJ.LexicalScope.html#275" class="Function Operator">+local</a> <a id="1619" href="MJ.Classtable.Code.html#1228" class="Bound">b</a><a id="1620" class="Symbol">)</a> <a id="1622" href="MJ.Classtable.Code.html#1228" class="Bound">b</a> <a id="1624" class="Symbol">→</a> <a id="1626" href="MJ.Classtable.Code.html#Method" class="Datatype">Method</a> <a id="1633" href="MJ.Classtable.Code.html#1158" class="Bound">cid</a> <a id="1637" href="MJ.Classtable.Code.html#1171" class="Bound">m</a> <a id="1639" class="Symbol">(</a><a id="1640" href="MJ.Classtable.Code.html#1225" class="Bound">as</a> <a id="1643" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1645" href="MJ.Classtable.Code.html#1228" class="Bound">b</a><a id="1646" class="Symbol">)</a>
  <a id="Method.body" href="MJ.Classtable.Code.html#Method.body" class="InductiveConstructor">body</a>        <a id="1662" class="Symbol">:</a> <a id="1664" class="Symbol">∀</a> <a id="1666" class="Symbol">{</a><a id="1667" href="MJ.Classtable.Code.html#1667" class="Bound">as</a> <a id="1670" href="MJ.Classtable.Code.html#1670" class="Bound">b</a><a id="1671" class="Symbol">}</a> <a id="1673" class="Symbol">→</a> <a id="1675" href="MJ.Classtable.Code.html#Body" class="Datatype">Body</a> <a id="1680" class="Symbol">(</a><a id="1681" href="MJ.Classtable.Code.html#methodctx" class="Function">methodctx</a> <a id="1691" href="MJ.Classtable.Code.html#1158" class="Bound">cid</a> <a id="1695" href="MJ.Classtable.Code.html#1667" class="Bound">as</a><a id="1697" class="Symbol">)</a> <a id="1699" href="MJ.Classtable.Code.html#1670" class="Bound">b</a> <a id="1701" class="Symbol">→</a> <a id="1703" href="MJ.Classtable.Code.html#Method" class="Datatype">Method</a> <a id="1710" href="MJ.Classtable.Code.html#1158" class="Bound">cid</a> <a id="1714" href="MJ.Classtable.Code.html#1171" class="Bound">m</a> <a id="1716" class="Symbol">(</a><a id="1717" href="MJ.Classtable.Code.html#1667" class="Bound">as</a> <a id="1720" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1722" href="MJ.Classtable.Code.html#1670" class="Bound">b</a><a id="1723" class="Symbol">)</a>

<a id="1726" class="Comment">-- Constructors are similar</a>
<a id="1754" class="Keyword">data</a> <a id="Constructor" href="MJ.Classtable.Code.html#Constructor" class="Datatype">Constructor</a> <a id="1771" class="Symbol">(</a><a id="1772" href="MJ.Classtable.Code.html#1772" class="Bound">cid</a> <a id="1776" class="Symbol">:</a> <a id="1778" href="MJ.Types.html#Cid" class="Datatype">Cid</a> <a id="1782" href="MJ.Classtable.Code.html#84" class="Bound">c</a><a id="1783" class="Symbol">)</a> <a id="1785" class="Symbol">:</a> <a id="1787" class="PrimitiveType">Set</a> <a id="1791" class="Keyword">where</a>
  <a id="Constructor.super_then_" href="MJ.Classtable.Code.html#Constructor.super_then_" class="InductiveConstructor Operator">super_then_</a> <a id="1811" class="Symbol">:</a> <a id="1813" class="Keyword">let</a>
                  <a id="1835" href="MJ.Classtable.Code.html#1835" class="Bound">pid</a> <a id="1839" class="Symbol">=</a> <a id="1841" href="MJ.Classtable.Core.html#1438" class="Field">Class.parent</a> <a id="1854" class="Symbol">(</a><a id="1855" href="MJ.Classtable.Core.html#2464" class="Field">Σ</a> <a id="1857" href="MJ.Classtable.Code.html#1772" class="Bound">cid</a><a id="1860" class="Symbol">)</a>
                  <a id="1880" href="MJ.Classtable.Code.html#1880" class="Bound">pclass</a> <a id="1887" class="Symbol">=</a> <a id="1889" href="MJ.Classtable.Core.html#2464" class="Field">Σ</a> <a id="1891" href="MJ.Classtable.Code.html#1835" class="Bound">pid</a>
                  <a id="1913" href="MJ.Classtable.Code.html#1913" class="Bound">Γ</a>   <a id="1917" class="Symbol">=</a> <a id="1919" href="MJ.Classtable.Code.html#constrctx" class="Function">constrctx</a> <a id="1929" href="MJ.Classtable.Code.html#1772" class="Bound">cid</a>
                <a id="1949" class="Keyword">in</a>
                  <a id="1970" class="Comment">-- super call arguments</a>
                  <a id="2012" href="Data.List.All.html#All" class="Datatype">All</a> <a id="2016" class="Symbol">(</a><a id="2017" href="MJ.Syntax.Typed.html#1147" class="Datatype">Expr</a> <a id="2022" href="MJ.Classtable.Code.html#1913" class="Bound">Γ</a><a id="2023" class="Symbol">)</a> <a id="2025" class="Symbol">(</a><a id="2026" href="MJ.Classtable.Core.html#1458" class="Field">Class.constr</a> <a id="2039" href="MJ.Classtable.Code.html#1880" class="Bound">pclass</a><a id="2045" class="Symbol">)</a> <a id="2047" class="Symbol">→</a>
                  <a id="2067" class="Comment">-- body</a>
                  <a id="2093" href="MJ.Classtable.Code.html#Body" class="Datatype">Body</a> <a id="2098" href="MJ.Classtable.Code.html#1913" class="Bound">Γ</a> <a id="2100" href="MJ.Types.html#Ty.void" class="InductiveConstructor">void</a> <a id="2105" class="Symbol">→</a>
                  <a id="2125" href="MJ.Classtable.Code.html#Constructor" class="Datatype">Constructor</a> <a id="2137" href="MJ.Classtable.Code.html#1772" class="Bound">cid</a>
  <a id="Constructor.body" href="MJ.Classtable.Code.html#Constructor.body" class="InductiveConstructor">body</a>        <a id="2155" class="Symbol">:</a> <a id="2157" href="MJ.Classtable.Code.html#Body" class="Datatype">Body</a> <a id="2162" class="Symbol">(</a><a id="2163" href="MJ.Classtable.Code.html#constrctx" class="Function">constrctx</a> <a id="2173" href="MJ.Classtable.Code.html#1772" class="Bound">cid</a><a id="2176" class="Symbol">)</a> <a id="2178" href="MJ.Types.html#Ty.void" class="InductiveConstructor">void</a> <a id="2183" class="Symbol">→</a> <a id="2185" href="MJ.Classtable.Code.html#Constructor" class="Datatype">Constructor</a> <a id="2197" href="MJ.Classtable.Code.html#1772" class="Bound">cid</a>

<a id="2202" class="Comment">{-
A class implementation consists of a constructor and a body for every
METHOD declaration.
-}</a>
<a id="2298" class="Keyword">record</a> <a id="Implementation" href="MJ.Classtable.Code.html#Implementation" class="Record">Implementation</a> <a id="2320" class="Symbol">(</a><a id="2321" href="MJ.Classtable.Code.html#2321" class="Bound">cid</a> <a id="2325" class="Symbol">:</a> <a id="2327" href="MJ.Types.html#Cid" class="Datatype">Cid</a> <a id="2331" href="MJ.Classtable.Code.html#84" class="Bound">c</a><a id="2332" class="Symbol">)</a> <a id="2334" class="Symbol">:</a> <a id="2336" class="PrimitiveType">Set</a> <a id="2340" class="Keyword">where</a>
  <a id="2348" class="Keyword">constructor</a> <a id="Implementation.implementation" href="MJ.Classtable.Code.html#Implementation.implementation" class="InductiveConstructor">implementation</a>
  <a id="2377" class="Keyword">open</a> <a id="2382" href="MJ.Classtable.Core.html#Class" class="Module">Class</a> <a id="2388" class="Symbol">(</a><a id="2389" href="MJ.Classtable.Core.html#2464" class="Field">Σ</a> <a id="2391" href="MJ.Classtable.Code.html#2321" class="Bound">cid</a><a id="2394" class="Symbol">)</a> <a id="2396" class="Keyword">public</a>
  <a id="2405" class="Keyword">field</a>
    <a id="Implementation.construct" href="MJ.Classtable.Code.html#Implementation.construct" class="Field">construct</a> <a id="2425" class="Symbol">:</a> <a id="2427" href="MJ.Classtable.Code.html#Constructor" class="Datatype">Constructor</a> <a id="2439" href="MJ.Classtable.Code.html#2321" class="Bound">cid</a>
    <a id="Implementation.mbodies" href="MJ.Classtable.Code.html#Implementation.mbodies" class="Field">mbodies</a>   <a id="2457" class="Symbol">:</a> <a id="2459" href="Data.List.All.html#All" class="Datatype">All</a> <a id="2463" class="Symbol">(λ{</a> <a id="2467" class="Symbol">(</a><a id="2468" href="MJ.Classtable.Code.html#2468" class="Bound">name</a> <a id="2473" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2475" href="MJ.Classtable.Code.html#2475" class="Bound">sig</a><a id="2478" class="Symbol">)</a> <a id="2480" class="Symbol">→</a> <a id="2482" href="MJ.Classtable.Code.html#Method" class="Datatype">Method</a> <a id="2489" href="MJ.Classtable.Code.html#2321" class="Bound">cid</a> <a id="2493" href="MJ.Classtable.Code.html#2468" class="Bound">name</a> <a id="2498" href="MJ.Classtable.Code.html#2475" class="Bound">sig</a> <a id="2502" class="Symbol">})</a> <a id="2505" class="Symbol">(</a><a id="2506" href="MJ.Classtable.Core.html#1502" class="Function">decls</a> <a id="2512" href="MJ.Classtable.Core.html#643" class="InductiveConstructor">METHOD</a><a id="2518" class="Symbol">)</a>

<a id="2521" class="Comment">-- Code is a lookup table for class implementations for every class identifier</a>
<a id="Code" href="MJ.Classtable.Code.html#Code" class="Function">Code</a> <a id="2605" class="Symbol">=</a> <a id="2607" class="Symbol">∀</a> <a id="2609" href="MJ.Classtable.Code.html#2609" class="Bound">cid</a> <a id="2613" class="Symbol">→</a> <a id="2615" href="MJ.Classtable.Code.html#Implementation" class="Record">Implementation</a> <a id="2630" href="MJ.Classtable.Code.html#2609" class="Bound">cid</a>

<a id="2635" class="Comment">-- Mirroring `IsMember METHOD` we define the notion of an inherited method body.</a>
<a id="InheritedMethod" href="MJ.Classtable.Code.html#InheritedMethod" class="Function">InheritedMethod</a> <a id="2732" class="Symbol">:</a> <a id="2734" class="Symbol">∀</a> <a id="2736" class="Symbol">(</a><a id="2737" href="MJ.Classtable.Code.html#2737" class="Bound">cid</a> <a id="2741" class="Symbol">:</a> <a id="2743" href="MJ.Types.html#Cid" class="Datatype">Cid</a> <a id="2747" href="MJ.Classtable.Code.html#84" class="Bound">c</a><a id="2748" class="Symbol">)(</a><a id="2750" href="MJ.Classtable.Code.html#2750" class="Bound">m</a> <a id="2752" class="Symbol">:</a> <a id="2754" href="Agda.Builtin.String.html#String" class="Postulate">String</a><a id="2760" class="Symbol">)</a> <a id="2762" class="Symbol">→</a> <a id="2764" href="MJ.Types.html#Sig" class="Function">Sig</a> <a id="2768" href="MJ.Classtable.Code.html#84" class="Bound">c</a> <a id="2770" class="Symbol">→</a> <a id="2772" class="PrimitiveType">Set</a>
<a id="2776" href="MJ.Classtable.Code.html#InheritedMethod" class="Function">InheritedMethod</a> <a id="2792" href="MJ.Classtable.Code.html#2792" class="Bound">cid</a> <a id="2796" href="MJ.Classtable.Code.html#2796" class="Bound">m</a> <a id="2798" href="MJ.Classtable.Code.html#2798" class="Bound">s</a> <a id="2800" class="Symbol">=</a> <a id="2802" href="Data.Product.html#%E2%88%83" class="Function">∃</a> <a id="2804" class="Symbol">λ</a> <a id="2806" href="MJ.Classtable.Code.html#2806" class="Bound">pid</a> <a id="2810" class="Symbol">→</a> <a id="2812" href="MJ.Classtable.Core.html#2464" class="Field">Σ</a> <a id="2814" href="MJ.Classtable.Core.html#2074" class="Function Operator">⊢</a> <a id="2816" href="MJ.Classtable.Code.html#2792" class="Bound">cid</a> <a id="2820" href="MJ.Classtable.Core.html#2074" class="Function Operator">&lt;:</a> <a id="2823" href="MJ.Classtable.Code.html#2806" class="Bound">pid</a> <a id="2827" href="Data.Product.html#_%C3%97_" class="Function Operator">×</a> <a id="2829" href="MJ.Classtable.Code.html#Method" class="Datatype">Method</a> <a id="2836" href="MJ.Classtable.Code.html#2806" class="Bound">pid</a> <a id="2840" href="MJ.Classtable.Code.html#2796" class="Bound">m</a> <a id="2842" href="MJ.Classtable.Code.html#2798" class="Bound">s</a>
</pre></body></html>