<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>MJ.Semantics.Monadic</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Keyword">import</a> <a id="8" href="MJ.Classtable.html" class="Module">MJ.Classtable</a>

<a id="23" class="Keyword">import</a> <a id="30" href="MJ.Syntax.html" class="Module">MJ.Syntax</a> <a id="40" class="Symbol">as</a> <a id="43" class="Module">Syntax</a>
<a id="50" class="Keyword">import</a> <a id="57" href="MJ.Semantics.Values.html" class="Module">MJ.Semantics.Values</a> <a id="77" class="Symbol">as</a> <a id="80" class="Module">Values</a>
<a id="87" class="Keyword">import</a> <a id="94" href="MJ.Classtable.Core.html" class="Module">MJ.Classtable.Core</a> <a id="113" class="Symbol">as</a> <a id="116" class="Module">Core</a>
<a id="121" class="Keyword">import</a> <a id="128" href="MJ.Classtable.Code.html" class="Module">MJ.Classtable.Code</a> <a id="147" class="Symbol">as</a> <a id="150" class="Module">Code</a>

<a id="156" class="Comment">--</a>
<a id="159" class="Comment">-- Substitution-free interpretation of welltyped MJ</a>
<a id="211" class="Comment">--</a>

<a id="215" class="Keyword">module</a> <a id="222" href="MJ.Semantics.Monadic.html" class="Module">MJ.Semantics.Monadic</a> <a id="243" class="Symbol">{</a><a id="244" href="MJ.Semantics.Monadic.html#244" class="Bound">c</a><a id="245" class="Symbol">}</a> <a id="247" class="Symbol">(</a><a id="248" href="MJ.Semantics.Monadic.html#248" class="Bound">Ct</a> <a id="251" class="Symbol">:</a> <a id="253" href="MJ.Classtable.Core.html#Classtable" class="Record">Core.Classtable</a> <a id="269" href="MJ.Semantics.Monadic.html#244" class="Bound">c</a><a id="270" class="Symbol">)(</a><a id="272" href="MJ.Semantics.Monadic.html#272" class="Bound">ℂ</a> <a id="274" class="Symbol">:</a> <a id="276" href="MJ.Classtable.Code.html#Code" class="Function">Code.Code</a> <a id="286" href="MJ.Semantics.Monadic.html#248" class="Bound">Ct</a><a id="288" class="Symbol">)</a> <a id="290" class="Keyword">where</a>

<a id="297" class="Keyword">open</a> <a id="302" class="Keyword">import</a> <a id="309" href="Prelude.html" class="Module">Prelude</a> <a id="317" class="Keyword">hiding</a> <a id="324" class="Symbol">(</a><a id="325" href="Data.Nat.Base.html#_%5E_" class="Function Operator">_^_</a><a id="328" class="Symbol">)</a>
<a id="330" class="Keyword">open</a> <a id="335" class="Keyword">import</a> <a id="342" href="Data.Vec.html" class="Module">Data.Vec</a> <a id="351" class="Keyword">hiding</a> <a id="358" class="Symbol">(</a><a id="359" href="Data.Vec.html#init" class="Function">init</a><a id="363" class="Symbol">;</a> <a id="365" href="Data.Vec.html#_%3E%3E%3D_" class="Function Operator">_&gt;&gt;=_</a><a id="370" class="Symbol">;</a> <a id="372" href="Data.Vec.html#_%E2%88%88_" class="Datatype Operator">_∈_</a><a id="375" class="Symbol">)</a>
<a id="377" class="Keyword">open</a> <a id="382" class="Keyword">import</a> <a id="389" href="Data.Vec.All.Properties.Extra.html" class="Module">Data.Vec.All.Properties.Extra</a> <a id="419" class="Symbol">as</a> <a id="422" class="Module">Vec∀++</a>
<a id="429" class="Keyword">open</a> <a id="434" class="Keyword">import</a> <a id="441" href="Data.List.Most.html" class="Module">Data.List.Most</a>
<a id="456" class="Keyword">open</a> <a id="461" class="Keyword">import</a> <a id="468" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a>
<a id="495" class="Keyword">open</a> <a id="500" class="Keyword">import</a> <a id="507" href="Data.Star.html" class="Module">Data.Star</a> <a id="517" class="Keyword">hiding</a> <a id="524" class="Symbol">(</a><a id="525" href="Data.Star.html#return" class="Function">return</a><a id="531" class="Symbol">;</a> <a id="533" href="Data.Star.html#_%3E%3E%3D_" class="Function Operator">_&gt;&gt;=_</a><a id="538" class="Symbol">)</a>
<a id="540" class="Keyword">open</a> <a id="545" class="Keyword">import</a> <a id="552" href="Data.Sum.html" class="Module">Data.Sum</a> <a id="561" class="Keyword">using</a> <a id="567" class="Symbol">(</a><a id="568" href="Data.Sum.html#_%E2%8A%8E_" class="Datatype Operator">_⊎_</a><a id="571" class="Symbol">;</a> <a id="573" href="Data.Sum.html#_%E2%8A%8E_.inj%E2%82%81" class="InductiveConstructor">inj₁</a><a id="577" class="Symbol">;</a> <a id="579" href="Data.Sum.html#_%E2%8A%8E_.inj%E2%82%82" class="InductiveConstructor">inj₂</a><a id="583" class="Symbol">)</a>

<a id="586" class="Keyword">open</a> <a id="591" href="MJ.Semantics.Values.html" class="Module">Values</a> <a id="598" href="MJ.Semantics.Monadic.html#248" class="Bound">Ct</a>
<a id="601" class="Keyword">open</a> <a id="606" href="MJ.Syntax.html" class="Module">Syntax</a> <a id="613" href="MJ.Semantics.Monadic.html#248" class="Bound">Ct</a>
<a id="616" class="Keyword">open</a> <a id="621" href="MJ.Classtable.Code.html" class="Module">Code</a> <a id="626" href="MJ.Semantics.Monadic.html#248" class="Bound">Ct</a>
<a id="629" class="Keyword">open</a> <a id="634" href="MJ.Classtable.Core.html" class="Module">Core</a> <a id="639" href="MJ.Semantics.Monadic.html#244" class="Bound">c</a>
<a id="641" class="Keyword">open</a> <a id="646" href="MJ.Classtable.Core.html#Classtable" class="Module">Classtable</a> <a id="657" href="MJ.Semantics.Monadic.html#248" class="Bound">Ct</a>

<a id="661" class="Keyword">open</a> <a id="666" class="Keyword">import</a> <a id="673" href="MJ.Syntax.Program.html" class="Module">MJ.Syntax.Program</a> <a id="691" href="MJ.Semantics.Monadic.html#248" class="Bound">Ct</a>
<a id="694" class="Keyword">open</a> <a id="699" class="Keyword">import</a> <a id="706" href="MJ.Classtable.Membership.html" class="Module">MJ.Classtable.Membership</a> <a id="731" href="MJ.Semantics.Monadic.html#248" class="Bound">Ct</a>
<a id="734" class="Keyword">open</a> <a id="739" class="Keyword">import</a> <a id="746" href="MJ.Types.html" class="Module">MJ.Types</a>
<a id="755" class="Keyword">open</a> <a id="760" class="Keyword">import</a> <a id="767" href="MJ.LexicalScope.html" class="Module">MJ.LexicalScope</a> <a id="783" href="MJ.Semantics.Monadic.html#248" class="Bound">Ct</a>
<a id="786" class="Keyword">open</a> <a id="791" class="Keyword">import</a> <a id="798" href="MJ.Semantics.Objects.Flat.html" class="Module">MJ.Semantics.Objects.Flat</a> <a id="824" href="MJ.Semantics.Monadic.html#248" class="Bound">Ct</a> <a id="827" href="MJ.Semantics.Monadic.html#272" class="Bound">ℂ</a> <a id="829" class="Keyword">using</a> <a id="835" class="Symbol">(</a>encoding<a id="844" class="Symbol">)</a>
<a id="846" class="Keyword">open</a> <a id="851" class="Keyword">import</a> <a id="858" href="Common.Weakening.html" class="Module">Common.Weakening</a>

<a id="876" class="Comment">{-
Make the object encoding API available;
-}</a>
<a id="922" class="Keyword">open</a> <a id="927" href="MJ.Semantics.Values.html#ObjEncoding" class="Module">ObjEncoding</a> <a id="939" href="MJ.Semantics.Objects.Flat.html#encoding" class="Function">encoding</a>

<a id="949" class="Comment">{-
The monad in which we define evaluation.
This encapsulates state, lexical environments, timeouts and exceptions.
-}</a>
<a id="WSet" href="MJ.Semantics.Monadic.html#WSet" class="Function">WSet</a> <a id="1073" class="Symbol">=</a> <a id="1075" href="MJ.Types.html#World" class="Function">World</a> <a id="1081" href="MJ.Semantics.Monadic.html#244" class="Bound">c</a> <a id="1083" class="Symbol">→</a> <a id="1085" class="PrimitiveType">Set</a>

<a id="1090" class="Keyword">data</a> <a id="Exception" href="MJ.Semantics.Monadic.html#Exception" class="Datatype">Exception</a> <a id="1105" class="Symbol">:</a> <a id="1107" class="PrimitiveType">Set</a> <a id="1111" class="Keyword">where</a>
  <a id="Exception.nullderef" href="MJ.Semantics.Monadic.html#Exception.nullderef" class="InductiveConstructor">nullderef</a> <a id="1129" class="Symbol">:</a> <a id="1131" href="MJ.Semantics.Monadic.html#Exception" class="Datatype">Exception</a>
  <a id="Exception.other" href="MJ.Semantics.Monadic.html#Exception.other" class="InductiveConstructor">other</a>     <a id="1153" class="Symbol">:</a> <a id="1155" href="MJ.Semantics.Monadic.html#Exception" class="Datatype">Exception</a>

<a id="1166" class="Keyword">data</a> <a id="Result" href="MJ.Semantics.Monadic.html#Result" class="Datatype">Result</a> <a id="1178" class="Symbol">(</a><a id="1179" href="MJ.Semantics.Monadic.html#1179" class="Bound">W</a> <a id="1181" class="Symbol">:</a> <a id="1183" href="MJ.Types.html#World" class="Function">World</a> <a id="1189" href="MJ.Semantics.Monadic.html#244" class="Bound">c</a><a id="1190" class="Symbol">)(</a><a id="1192" href="MJ.Semantics.Monadic.html#1192" class="Bound">A</a> <a id="1194" class="Symbol">:</a> <a id="1196" href="MJ.Semantics.Monadic.html#WSet" class="Function">WSet</a><a id="1200" class="Symbol">)</a> <a id="1202" class="Symbol">:</a> <a id="1204" class="PrimitiveType">Set</a> <a id="1208" class="Keyword">where</a>
  <a id="Result.exception" href="MJ.Semantics.Monadic.html#Result.exception" class="InductiveConstructor">exception</a> <a id="1226" class="Symbol">:</a> <a id="1228" class="Symbol">∀</a> <a id="1230" class="Symbol">{</a><a id="1231" href="MJ.Semantics.Monadic.html#1231" class="Bound">W&#39;</a><a id="1233" class="Symbol">}</a> <a id="1235" class="Symbol">→</a> <a id="1237" href="MJ.Semantics.Monadic.html#1231" class="Bound">W&#39;</a> <a id="1240" href="Data.List.Prefix.html#_%E2%8A%92_" class="Function Operator">⊒</a> <a id="1242" href="MJ.Semantics.Monadic.html#1179" class="Bound">W</a> <a id="1244" class="Symbol">→</a> <a id="1246" href="MJ.Semantics.Values.html#2503" class="Function">Store</a> <a id="1252" href="MJ.Semantics.Monadic.html#1231" class="Bound">W&#39;</a> <a id="1255" class="Symbol">→</a> <a id="1257" href="MJ.Semantics.Monadic.html#Exception" class="Datatype">Exception</a> <a id="1267" class="Symbol">→</a> <a id="1269" href="MJ.Semantics.Monadic.html#Result" class="Datatype">Result</a> <a id="1276" href="MJ.Semantics.Monadic.html#1179" class="Bound">W</a> <a id="1278" href="MJ.Semantics.Monadic.html#1192" class="Bound">A</a>
  <a id="Result.timeout" href="MJ.Semantics.Monadic.html#Result.timeout" class="InductiveConstructor">timeout</a>   <a id="1292" class="Symbol">:</a> <a id="1294" href="MJ.Semantics.Monadic.html#Result" class="Datatype">Result</a> <a id="1301" href="MJ.Semantics.Monadic.html#1179" class="Bound">W</a> <a id="1303" href="MJ.Semantics.Monadic.html#1192" class="Bound">A</a>
  <a id="Result.returns" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a>   <a id="1317" class="Symbol">:</a> <a id="1319" class="Symbol">∀</a> <a id="1321" class="Symbol">{</a><a id="1322" href="MJ.Semantics.Monadic.html#1322" class="Bound">W&#39;</a><a id="1324" class="Symbol">}</a> <a id="1326" class="Symbol">→</a> <a id="1328" href="MJ.Semantics.Monadic.html#1322" class="Bound">W&#39;</a> <a id="1331" href="Data.List.Prefix.html#_%E2%8A%92_" class="Function Operator">⊒</a> <a id="1333" href="MJ.Semantics.Monadic.html#1179" class="Bound">W</a> <a id="1335" class="Symbol">→</a> <a id="1337" href="MJ.Semantics.Values.html#2503" class="Function">Store</a> <a id="1343" href="MJ.Semantics.Monadic.html#1322" class="Bound">W&#39;</a> <a id="1346" class="Symbol">→</a> <a id="1348" href="MJ.Semantics.Monadic.html#1192" class="Bound">A</a> <a id="1350" href="MJ.Semantics.Monadic.html#1322" class="Bound">W&#39;</a> <a id="1353" class="Symbol">→</a> <a id="1355" href="MJ.Semantics.Monadic.html#Result" class="Datatype">Result</a> <a id="1362" href="MJ.Semantics.Monadic.html#1179" class="Bound">W</a> <a id="1364" href="MJ.Semantics.Monadic.html#1192" class="Bound">A</a>

<a id="result-strengthen" href="MJ.Semantics.Monadic.html#result-strengthen" class="Function">result-strengthen</a> <a id="1385" class="Symbol">:</a> <a id="1387" class="Symbol">∀</a> <a id="1389" class="Symbol">{</a><a id="1390" href="MJ.Semantics.Monadic.html#1390" class="Bound">W</a> <a id="1392" href="MJ.Semantics.Monadic.html#1392" class="Bound">W&#39;</a><a id="1394" class="Symbol">}{</a><a id="1396" href="MJ.Semantics.Monadic.html#1396" class="Bound">A</a> <a id="1398" class="Symbol">:</a> <a id="1400" href="MJ.Semantics.Monadic.html#WSet" class="Function">WSet</a><a id="1404" class="Symbol">}</a> <a id="1406" class="Symbol">→</a> <a id="1408" href="MJ.Semantics.Monadic.html#1390" class="Bound">W</a> <a id="1410" href="Data.List.Prefix.html#_%E2%8A%92_" class="Function Operator">⊒</a> <a id="1412" href="MJ.Semantics.Monadic.html#1392" class="Bound">W&#39;</a> <a id="1415" class="Symbol">→</a> <a id="1417" href="MJ.Semantics.Monadic.html#Result" class="Datatype">Result</a> <a id="1424" href="MJ.Semantics.Monadic.html#1390" class="Bound">W</a> <a id="1426" href="MJ.Semantics.Monadic.html#1396" class="Bound">A</a> <a id="1428" class="Symbol">→</a> <a id="1430" href="MJ.Semantics.Monadic.html#Result" class="Datatype">Result</a> <a id="1437" href="MJ.Semantics.Monadic.html#1392" class="Bound">W&#39;</a> <a id="1440" href="MJ.Semantics.Monadic.html#1396" class="Bound">A</a>
<a id="1442" href="MJ.Semantics.Monadic.html#result-strengthen" class="Function">result-strengthen</a> <a id="1460" href="MJ.Semantics.Monadic.html#1460" class="Bound">ext</a> <a id="1464" class="Symbol">(</a><a id="1465" href="MJ.Semantics.Monadic.html#Result.exception" class="InductiveConstructor">exception</a> <a id="1475" href="MJ.Semantics.Monadic.html#1475" class="Bound">ext&#39;</a> <a id="1480" href="MJ.Semantics.Monadic.html#1480" class="Bound">μ</a> <a id="1482" href="MJ.Semantics.Monadic.html#1482" class="Bound">e</a><a id="1483" class="Symbol">)</a> <a id="1485" class="Symbol">=</a> <a id="1487" href="MJ.Semantics.Monadic.html#Result.exception" class="InductiveConstructor">exception</a> <a id="1497" class="Symbol">(</a><a id="1498" href="MJ.Semantics.Monadic.html#1460" class="Bound">ext</a> <a id="1502" href="Common.Weakening.html#_%E2%8A%9A_" class="Function Operator">⊚</a> <a id="1504" href="MJ.Semantics.Monadic.html#1475" class="Bound">ext&#39;</a><a id="1508" class="Symbol">)</a> <a id="1510" href="MJ.Semantics.Monadic.html#1480" class="Bound">μ</a> <a id="1512" href="MJ.Semantics.Monadic.html#1482" class="Bound">e</a>
<a id="1514" href="MJ.Semantics.Monadic.html#result-strengthen" class="Function">result-strengthen</a> <a id="1532" href="MJ.Semantics.Monadic.html#1532" class="Bound">ext</a> <a id="1536" href="MJ.Semantics.Monadic.html#Result.timeout" class="InductiveConstructor">timeout</a> <a id="1544" class="Symbol">=</a> <a id="1546" href="MJ.Semantics.Monadic.html#Result.timeout" class="InductiveConstructor">timeout</a>
<a id="1554" href="MJ.Semantics.Monadic.html#result-strengthen" class="Function">result-strengthen</a> <a id="1572" href="MJ.Semantics.Monadic.html#1572" class="Bound">ext</a> <a id="1576" class="Symbol">(</a><a id="1577" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a> <a id="1585" href="MJ.Semantics.Monadic.html#1585" class="Bound">ext&#39;</a> <a id="1590" href="MJ.Semantics.Monadic.html#1590" class="Bound">μ</a> <a id="1592" href="MJ.Semantics.Monadic.html#1592" class="Bound">v</a><a id="1593" class="Symbol">)</a> <a id="1595" class="Symbol">=</a> <a id="1597" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a> <a id="1605" class="Symbol">(</a><a id="1606" href="MJ.Semantics.Monadic.html#1572" class="Bound">ext</a> <a id="1610" href="Common.Weakening.html#_%E2%8A%9A_" class="Function Operator">⊚</a> <a id="1612" href="MJ.Semantics.Monadic.html#1585" class="Bound">ext&#39;</a><a id="1616" class="Symbol">)</a> <a id="1618" href="MJ.Semantics.Monadic.html#1590" class="Bound">μ</a> <a id="1620" href="MJ.Semantics.Monadic.html#1592" class="Bound">v</a>

<a id="1623" class="Comment">-- monad that threads a readonly environment, store and propagates</a>
<a id="1690" class="Comment">-- semantic errors</a>
<a id="M" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="1711" class="Symbol">:</a> <a id="1713" href="MJ.LexicalScope.html#226" class="Function">Ctx</a> <a id="1717" class="Symbol">→</a> <a id="1719" href="MJ.Types.html#World" class="Function">World</a> <a id="1725" href="MJ.Semantics.Monadic.html#244" class="Bound">c</a> <a id="1727" class="Symbol">→</a> <a id="1729" href="MJ.Semantics.Monadic.html#WSet" class="Function">WSet</a> <a id="1734" class="Symbol">→</a> <a id="1736" class="PrimitiveType">Set</a>
<a id="1740" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="1742" href="MJ.Semantics.Monadic.html#1742" class="Bound">Γ</a> <a id="1744" href="MJ.Semantics.Monadic.html#1744" class="Bound">W</a> <a id="1746" href="MJ.Semantics.Monadic.html#1746" class="Bound">A</a> <a id="1748" class="Symbol">=</a> <a id="1750" href="MJ.Semantics.Values.html#1716" class="Function">Env</a> <a id="1754" href="MJ.Semantics.Monadic.html#1742" class="Bound">Γ</a> <a id="1756" href="MJ.Semantics.Monadic.html#1744" class="Bound">W</a> <a id="1758" class="Symbol">→</a> <a id="1760" href="MJ.Semantics.Values.html#2503" class="Function">Store</a> <a id="1766" href="MJ.Semantics.Monadic.html#1744" class="Bound">W</a> <a id="1768" class="Symbol">→</a> <a id="1770" href="MJ.Semantics.Monadic.html#Result" class="Datatype">Result</a> <a id="1777" href="MJ.Semantics.Monadic.html#1744" class="Bound">W</a> <a id="1779" href="MJ.Semantics.Monadic.html#1746" class="Bound">A</a>

<a id="return" href="MJ.Semantics.Monadic.html#return" class="Function">return</a>  <a id="1790" class="Symbol">:</a> <a id="1792" class="Symbol">∀</a> <a id="1794" class="Symbol">{</a><a id="1795" href="MJ.Semantics.Monadic.html#1795" class="Bound">Γ</a> <a id="1797" href="MJ.Semantics.Monadic.html#1797" class="Bound">W</a><a id="1798" class="Symbol">}{</a><a id="1800" href="MJ.Semantics.Monadic.html#1800" class="Bound">A</a> <a id="1802" class="Symbol">:</a> <a id="1804" href="MJ.Semantics.Monadic.html#WSet" class="Function">WSet</a><a id="1808" class="Symbol">}</a> <a id="1810" class="Symbol">→</a> <a id="1812" href="MJ.Semantics.Monadic.html#1800" class="Bound">A</a> <a id="1814" href="MJ.Semantics.Monadic.html#1797" class="Bound">W</a> <a id="1816" class="Symbol">→</a> <a id="1818" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="1820" href="MJ.Semantics.Monadic.html#1795" class="Bound">Γ</a> <a id="1822" href="MJ.Semantics.Monadic.html#1797" class="Bound">W</a> <a id="1824" href="MJ.Semantics.Monadic.html#1800" class="Bound">A</a>
<a id="1826" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="1833" href="MJ.Semantics.Monadic.html#1833" class="Bound">v</a> <a id="1835" class="Symbol">_</a> <a id="1837" href="MJ.Semantics.Monadic.html#1837" class="Bound">μ</a> <a id="1839" class="Symbol">=</a> <a id="1841" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a> <a id="1849" href="Data.List.Prefix.html#%E2%8A%91-refl" class="Function">⊑-refl</a> <a id="1856" href="MJ.Semantics.Monadic.html#1837" class="Bound">μ</a> <a id="1858" href="MJ.Semantics.Monadic.html#1833" class="Bound">v</a>

<a id="doTimeout" href="MJ.Semantics.Monadic.html#doTimeout" class="Function">doTimeout</a> <a id="1871" class="Symbol">:</a> <a id="1873" class="Symbol">∀</a> <a id="1875" class="Symbol">{</a><a id="1876" href="MJ.Semantics.Monadic.html#1876" class="Bound">Γ</a> <a id="1878" href="MJ.Semantics.Monadic.html#1878" class="Bound">W</a><a id="1879" class="Symbol">}{</a><a id="1881" href="MJ.Semantics.Monadic.html#1881" class="Bound">A</a> <a id="1883" class="Symbol">:</a> <a id="1885" href="MJ.Semantics.Monadic.html#WSet" class="Function">WSet</a><a id="1889" class="Symbol">}</a> <a id="1891" class="Symbol">→</a> <a id="1893" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="1895" href="MJ.Semantics.Monadic.html#1876" class="Bound">Γ</a> <a id="1897" href="MJ.Semantics.Monadic.html#1878" class="Bound">W</a> <a id="1899" href="MJ.Semantics.Monadic.html#1881" class="Bound">A</a>
<a id="1901" href="MJ.Semantics.Monadic.html#doTimeout" class="Function">doTimeout</a> <a id="1911" class="Symbol">_</a> <a id="1913" class="Symbol">_</a> <a id="1915" class="Symbol">=</a> <a id="1917" href="MJ.Semantics.Monadic.html#Result.timeout" class="InductiveConstructor">timeout</a>

<a id="raiseM" href="MJ.Semantics.Monadic.html#raiseM" class="Function">raiseM</a> <a id="1933" class="Symbol">:</a> <a id="1935" class="Symbol">∀</a> <a id="1937" class="Symbol">{</a><a id="1938" href="MJ.Semantics.Monadic.html#1938" class="Bound">Γ</a> <a id="1940" href="MJ.Semantics.Monadic.html#1940" class="Bound">W</a><a id="1941" class="Symbol">}{</a><a id="1943" href="MJ.Semantics.Monadic.html#1943" class="Bound">A</a> <a id="1945" class="Symbol">:</a> <a id="1947" href="MJ.Semantics.Monadic.html#WSet" class="Function">WSet</a><a id="1951" class="Symbol">}</a> <a id="1953" class="Symbol">→</a> <a id="1955" href="MJ.Semantics.Monadic.html#Exception" class="Datatype">Exception</a> <a id="1965" class="Symbol">→</a> <a id="1967" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="1969" href="MJ.Semantics.Monadic.html#1938" class="Bound">Γ</a> <a id="1971" href="MJ.Semantics.Monadic.html#1940" class="Bound">W</a> <a id="1973" href="MJ.Semantics.Monadic.html#1943" class="Bound">A</a>
<a id="1975" href="MJ.Semantics.Monadic.html#raiseM" class="Function">raiseM</a> <a id="1982" href="MJ.Semantics.Monadic.html#1982" class="Bound">exc</a> <a id="1986" href="MJ.Semantics.Monadic.html#1986" class="Bound">E</a> <a id="1988" href="MJ.Semantics.Monadic.html#1988" class="Bound">μ</a> <a id="1990" class="Symbol">=</a> <a id="1992" href="MJ.Semantics.Monadic.html#Result.exception" class="InductiveConstructor">exception</a> <a id="2002" href="Data.List.Prefix.html#%E2%8A%91-refl" class="Function">⊑-refl</a> <a id="2009" href="MJ.Semantics.Monadic.html#1988" class="Bound">μ</a> <a id="2011" href="MJ.Semantics.Monadic.html#1982" class="Bound">exc</a>

<a id="sval-weaken" href="MJ.Semantics.Monadic.html#sval-weaken" class="Function">sval-weaken</a> <a id="2028" class="Symbol">:</a> <a id="2030" class="Symbol">∀</a> <a id="2032" class="Symbol">{</a><a id="2033" href="MJ.Semantics.Monadic.html#2033" class="Bound">W</a> <a id="2035" href="MJ.Semantics.Monadic.html#2035" class="Bound">W&#39;</a> <a id="2038" href="MJ.Semantics.Monadic.html#2038" class="Bound">a</a><a id="2039" class="Symbol">}</a> <a id="2041" class="Symbol">→</a> <a id="2043" href="MJ.Semantics.Monadic.html#2035" class="Bound">W&#39;</a> <a id="2046" href="Data.List.Prefix.html#_%E2%8A%92_" class="Function Operator">⊒</a> <a id="2048" href="MJ.Semantics.Monadic.html#2033" class="Bound">W</a> <a id="2050" class="Symbol">→</a> <a id="2052" href="MJ.Semantics.Values.html#2356" class="Datatype">StoreVal</a> <a id="2061" href="MJ.Semantics.Monadic.html#2033" class="Bound">W</a> <a id="2063" href="MJ.Semantics.Monadic.html#2038" class="Bound">a</a> <a id="2065" class="Symbol">→</a> <a id="2067" href="MJ.Semantics.Values.html#2356" class="Datatype">StoreVal</a> <a id="2076" href="MJ.Semantics.Monadic.html#2035" class="Bound">W&#39;</a> <a id="2079" href="MJ.Semantics.Monadic.html#2038" class="Bound">a</a>
<a id="2081" href="MJ.Semantics.Monadic.html#sval-weaken" class="Function">sval-weaken</a> <a id="2093" href="MJ.Semantics.Monadic.html#2093" class="Bound">ext</a> <a id="2097" class="Symbol">(</a><a id="2098" href="MJ.Semantics.Values.html#2403" class="InductiveConstructor">val</a> <a id="2102" href="MJ.Semantics.Monadic.html#2102" class="Bound">x</a><a id="2103" class="Symbol">)</a> <a id="2105" class="Symbol">=</a> <a id="2107" href="MJ.Semantics.Values.html#2403" class="InductiveConstructor">val</a> <a id="2111" href="Function.html#_%24_" class="Function Operator">$</a> <a id="2113" href="MJ.Semantics.Values.html#2579" class="Function">weaken-val</a> <a id="2124" href="MJ.Semantics.Monadic.html#2093" class="Bound">ext</a> <a id="2128" href="MJ.Semantics.Monadic.html#2102" class="Bound">x</a>
<a id="2130" href="MJ.Semantics.Monadic.html#sval-weaken" class="Function">sval-weaken</a> <a id="2142" href="MJ.Semantics.Monadic.html#2142" class="Bound">ext</a> <a id="2146" class="Symbol">(</a><a id="2147" href="MJ.Semantics.Values.html#2453" class="InductiveConstructor">obj</a> <a id="2151" href="MJ.Semantics.Monadic.html#2151" class="Bound">cid</a> <a id="2155" href="MJ.Semantics.Monadic.html#2155" class="Bound">x</a><a id="2156" class="Symbol">)</a> <a id="2158" class="Symbol">=</a> <a id="2160" href="MJ.Semantics.Values.html#2453" class="InductiveConstructor">obj</a> <a id="2164" href="MJ.Semantics.Monadic.html#2151" class="Bound">cid</a> <a id="2168" class="Symbol">(</a><a id="2169" href="MJ.Semantics.Values.html#2104" class="Function">weaken-obj</a> <a id="2180" href="MJ.Semantics.Monadic.html#2151" class="Bound">cid</a> <a id="2184" href="MJ.Semantics.Monadic.html#2142" class="Bound">ext</a> <a id="2188" href="MJ.Semantics.Monadic.html#2155" class="Bound">x</a><a id="2189" class="Symbol">)</a>

<a id="2192" class="Keyword">instance</a>
  <a id="storeval-weakenable" href="MJ.Semantics.Monadic.html#storeval-weakenable" class="Function">storeval-weakenable</a> <a id="2223" class="Symbol">:</a> <a id="2225" class="Symbol">∀</a> <a id="2227" class="Symbol">{</a><a id="2228" href="MJ.Semantics.Monadic.html#2228" class="Bound">a</a><a id="2229" class="Symbol">}</a> <a id="2231" class="Symbol">→</a> <a id="2233" href="Common.Weakening.html#Weakenable" class="Record">Weakenable</a> <a id="2244" class="Symbol">(λ</a> <a id="2247" href="MJ.Semantics.Monadic.html#2247" class="Bound">W</a> <a id="2249" class="Symbol">→</a> <a id="2251" href="MJ.Semantics.Values.html#2356" class="Datatype">StoreVal</a> <a id="2260" href="MJ.Semantics.Monadic.html#2247" class="Bound">W</a> <a id="2262" href="MJ.Semantics.Monadic.html#2228" class="Bound">a</a><a id="2263" class="Symbol">)</a>
  <a id="2267" href="MJ.Semantics.Monadic.html#storeval-weakenable" class="Function">storeval-weakenable</a> <a id="2287" class="Symbol">=</a> <a id="2289" class="Keyword">record</a> <a id="2296" class="Symbol">{</a><a id="2297" class="Field">wk</a> <a id="2300" class="Symbol">=</a> <a id="2302" href="MJ.Semantics.Monadic.html#sval-weaken" class="Function">sval-weaken</a> <a id="2314" class="Symbol">}</a>

<a id="2317" class="Keyword">infixl</a> <a id="2324" class="Number">10</a> <a id="2327" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">_&gt;&gt;=_</a>
<a id="_&gt;&gt;=_" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">_&gt;&gt;=_</a>   <a id="2341" class="Symbol">:</a> <a id="2343" class="Symbol">∀</a> <a id="2345" class="Symbol">{</a><a id="2346" href="MJ.Semantics.Monadic.html#2346" class="Bound">Γ</a> <a id="2348" href="MJ.Semantics.Monadic.html#2348" class="Bound">W</a><a id="2349" class="Symbol">}{</a><a id="2351" href="MJ.Semantics.Monadic.html#2351" class="Bound">A</a> <a id="2353" href="MJ.Semantics.Monadic.html#2353" class="Bound">B</a> <a id="2355" class="Symbol">:</a> <a id="2357" href="MJ.Semantics.Monadic.html#WSet" class="Function">WSet</a><a id="2361" class="Symbol">}</a> <a id="2363" class="Symbol">→</a> <a id="2365" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="2367" href="MJ.Semantics.Monadic.html#2346" class="Bound">Γ</a> <a id="2369" href="MJ.Semantics.Monadic.html#2348" class="Bound">W</a> <a id="2371" href="MJ.Semantics.Monadic.html#2351" class="Bound">A</a> <a id="2373" class="Symbol">→</a> <a id="2375" class="Symbol">(∀</a> <a id="2378" class="Symbol">{</a><a id="2379" href="MJ.Semantics.Monadic.html#2379" class="Bound">W&#39;</a><a id="2381" class="Symbol">}</a> <a id="2383" class="Symbol">→</a> <a id="2385" href="MJ.Semantics.Monadic.html#2351" class="Bound">A</a> <a id="2387" href="MJ.Semantics.Monadic.html#2379" class="Bound">W&#39;</a> <a id="2390" class="Symbol">→</a> <a id="2392" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="2394" href="MJ.Semantics.Monadic.html#2346" class="Bound">Γ</a> <a id="2396" href="MJ.Semantics.Monadic.html#2379" class="Bound">W&#39;</a> <a id="2399" href="MJ.Semantics.Monadic.html#2353" class="Bound">B</a><a id="2400" class="Symbol">)</a> <a id="2402" class="Symbol">→</a>
          <a id="2414" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="2416" href="MJ.Semantics.Monadic.html#2346" class="Bound">Γ</a> <a id="2418" href="MJ.Semantics.Monadic.html#2348" class="Bound">W</a> <a id="2420" href="MJ.Semantics.Monadic.html#2353" class="Bound">B</a>
<a id="2422" class="Symbol">(</a><a id="2423" href="MJ.Semantics.Monadic.html#2423" class="Bound">k</a> <a id="2425" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="2429" href="MJ.Semantics.Monadic.html#2429" class="Bound">f</a><a id="2430" class="Symbol">)</a> <a id="2432" href="MJ.Semantics.Monadic.html#2432" class="Bound">E</a> <a id="2434" href="MJ.Semantics.Monadic.html#2434" class="Bound">μ</a> <a id="2436" class="Keyword">with</a> <a id="2441" href="MJ.Semantics.Monadic.html#2423" class="Bound">k</a> <a id="2443" href="MJ.Semantics.Monadic.html#2432" class="Bound">E</a> <a id="2445" href="MJ.Semantics.Monadic.html#2434" class="Bound">μ</a>
<a id="2447" class="Symbol">...</a> <a id="2451" class="Symbol">|</a> <a id="2453" href="MJ.Semantics.Monadic.html#Result.exception" class="InductiveConstructor">exception</a> <a id="2463" href="MJ.Semantics.Monadic.html#2463" class="Bound">ext</a> <a id="2467" href="MJ.Semantics.Monadic.html#2467" class="Bound">μ&#39;</a> <a id="2470" href="MJ.Semantics.Monadic.html#2470" class="Bound">e</a> <a id="2472" class="Symbol">=</a> <a id="2474" href="MJ.Semantics.Monadic.html#Result.exception" class="InductiveConstructor">exception</a> <a id="2484" href="MJ.Semantics.Monadic.html#2463" class="Bound">ext</a> <a id="2488" href="MJ.Semantics.Monadic.html#2467" class="Bound">μ&#39;</a> <a id="2491" href="MJ.Semantics.Monadic.html#2470" class="Bound">e</a>
<a id="2493" class="Symbol">...</a> <a id="2497" class="Symbol">|</a> <a id="2499" href="MJ.Semantics.Monadic.html#Result.timeout" class="InductiveConstructor">timeout</a> <a id="2507" class="Symbol">=</a> <a id="2509" href="MJ.Semantics.Monadic.html#Result.timeout" class="InductiveConstructor">timeout</a>
<a id="2517" class="Symbol">...</a> <a id="2521" class="Symbol">|</a> <a id="2523" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a> <a id="2531" href="MJ.Semantics.Monadic.html#2531" class="Bound">ext</a> <a id="2535" href="MJ.Semantics.Monadic.html#2535" class="Bound">μ&#39;</a> <a id="2538" href="MJ.Semantics.Monadic.html#2538" class="Bound">v</a> <a id="2540" class="Symbol">=</a> <a id="2542" href="MJ.Semantics.Monadic.html#result-strengthen" class="Function">result-strengthen</a> <a id="2560" href="MJ.Semantics.Monadic.html#2531" class="Bound">ext</a> <a id="2564" href="Function.html#_%24_" class="Function Operator">$</a> <a id="2566" class="Bound">f</a> <a id="2568" href="MJ.Semantics.Monadic.html#2538" class="Bound">v</a> <a id="2570" class="Symbol">(</a><a id="2571" href="Data.List.All.html#map-all" class="Function">map-all</a> <a id="2579" class="Symbol">(</a><a id="2580" href="Common.Weakening.html#721" class="Field">wk</a> <a id="2583" href="MJ.Semantics.Monadic.html#2531" class="Bound">ext</a><a id="2586" class="Symbol">)</a> <a id="2588" class="Bound">E</a><a id="2589" class="Symbol">)</a> <a id="2591" href="MJ.Semantics.Monadic.html#2535" class="Bound">μ&#39;</a>

<a id="2595" class="Keyword">infixl</a> <a id="2602" class="Number">10</a> <a id="2605" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">_^_</a>
<a id="_^_" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">_^_</a>  <a id="2614" class="Symbol">:</a>  <a id="2617" class="Symbol">∀</a> <a id="2619" class="Symbol">{</a><a id="2620" href="MJ.Semantics.Monadic.html#2620" class="Bound">Σ</a> <a id="2622" href="MJ.Semantics.Monadic.html#2622" class="Bound">Γ</a><a id="2623" class="Symbol">}{</a><a id="2625" href="MJ.Semantics.Monadic.html#2625" class="Bound">A</a> <a id="2627" href="MJ.Semantics.Monadic.html#2627" class="Bound">B</a> <a id="2629" class="Symbol">:</a> <a id="2631" href="MJ.Semantics.Monadic.html#WSet" class="Function">WSet</a><a id="2635" class="Symbol">}</a> <a id="2637" class="Symbol">⦃</a> <a id="2639" href="MJ.Semantics.Monadic.html#2639" class="Bound">w</a> <a id="2641" class="Symbol">:</a> <a id="2643" href="Common.Weakening.html#Weakenable" class="Record">Weakenable</a> <a id="2654" href="MJ.Semantics.Monadic.html#2627" class="Bound">B</a> <a id="2656" class="Symbol">⦄</a> <a id="2658" class="Symbol">→</a> <a id="2660" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="2662" href="MJ.Semantics.Monadic.html#2622" class="Bound">Γ</a> <a id="2664" href="MJ.Semantics.Monadic.html#2620" class="Bound">Σ</a> <a id="2666" href="MJ.Semantics.Monadic.html#2625" class="Bound">A</a> <a id="2668" class="Symbol">→</a> <a id="2670" href="MJ.Semantics.Monadic.html#2627" class="Bound">B</a> <a id="2672" href="MJ.Semantics.Monadic.html#2620" class="Bound">Σ</a> <a id="2674" class="Symbol">→</a> <a id="2676" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="2678" href="MJ.Semantics.Monadic.html#2622" class="Bound">Γ</a> <a id="2680" href="MJ.Semantics.Monadic.html#2620" class="Bound">Σ</a> <a id="2682" class="Symbol">(</a><a id="2683" href="MJ.Semantics.Monadic.html#2625" class="Bound">A</a> <a id="2685" href="Common.Weakening.html#_%E2%8A%97_" class="Function Operator">⊗</a> <a id="2687" href="MJ.Semantics.Monadic.html#2627" class="Bound">B</a><a id="2688" class="Symbol">)</a>
<a id="2690" class="Symbol">(</a><a id="2691" href="MJ.Semantics.Monadic.html#2691" class="Bound">f</a> <a id="2693" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="2695" href="MJ.Semantics.Monadic.html#2695" class="Bound">x</a><a id="2696" class="Symbol">)</a> <a id="2698" href="MJ.Semantics.Monadic.html#2698" class="Bound">E</a> <a id="2700" href="MJ.Semantics.Monadic.html#2700" class="Bound">μ</a> <a id="2702" class="Keyword">with</a> <a id="2707" class="Symbol">(</a><a id="2708" href="MJ.Semantics.Monadic.html#2691" class="Bound">f</a> <a id="2710" href="MJ.Semantics.Monadic.html#2698" class="Bound">E</a> <a id="2712" href="MJ.Semantics.Monadic.html#2700" class="Bound">μ</a><a id="2713" class="Symbol">)</a>
<a id="2715" class="Symbol">...</a>  <a id="2720" class="Symbol">|</a> <a id="2722" href="MJ.Semantics.Monadic.html#Result.timeout" class="InductiveConstructor">timeout</a> <a id="2730" class="Symbol">=</a> <a id="2732" href="MJ.Semantics.Monadic.html#Result.timeout" class="InductiveConstructor">timeout</a>
<a id="2740" class="Symbol">...</a>  <a id="2745" class="Symbol">|</a> <a id="2747" href="MJ.Semantics.Monadic.html#Result.exception" class="InductiveConstructor">exception</a> <a id="2757" href="MJ.Semantics.Monadic.html#2757" class="Bound">ext</a> <a id="2761" href="MJ.Semantics.Monadic.html#2761" class="Bound">μ&#39;</a> <a id="2764" href="MJ.Semantics.Monadic.html#2764" class="Bound">e</a> <a id="2766" class="Symbol">=</a> <a id="2768" href="MJ.Semantics.Monadic.html#Result.exception" class="InductiveConstructor">exception</a> <a id="2778" href="MJ.Semantics.Monadic.html#2757" class="Bound">ext</a> <a id="2782" href="MJ.Semantics.Monadic.html#2761" class="Bound">μ&#39;</a> <a id="2785" href="MJ.Semantics.Monadic.html#2764" class="Bound">e</a>
<a id="2787" class="Symbol">...</a>  <a id="2792" class="Symbol">|</a> <a id="2794" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a> <a id="2802" href="MJ.Semantics.Monadic.html#2802" class="Bound">ext</a> <a id="2806" href="MJ.Semantics.Monadic.html#2806" class="Bound">μ&#39;</a> <a id="2809" href="MJ.Semantics.Monadic.html#2809" class="Bound">v</a> <a id="2811" class="Symbol">=</a> <a id="2813" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a> <a id="2821" href="MJ.Semantics.Monadic.html#2802" class="Bound">ext</a> <a id="2825" href="MJ.Semantics.Monadic.html#2806" class="Bound">μ&#39;</a> <a id="2828" class="Symbol">(</a><a id="2829" href="MJ.Semantics.Monadic.html#2809" class="Bound">v</a> <a id="2831" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2833" href="Common.Weakening.html#721" class="Field">wk</a> <a id="2836" href="MJ.Semantics.Monadic.html#2802" class="Bound">ext</a> <a id="2840" class="Bound">x</a><a id="2841" class="Symbol">)</a>

<a id="_recoverWith_" href="MJ.Semantics.Monadic.html#_recoverWith_" class="Function Operator">_recoverWith_</a> <a id="2858" class="Symbol">:</a> <a id="2860" class="Symbol">∀</a> <a id="2862" class="Symbol">{</a><a id="2863" href="MJ.Semantics.Monadic.html#2863" class="Bound">Γ</a> <a id="2865" href="MJ.Semantics.Monadic.html#2865" class="Bound">W</a><a id="2866" class="Symbol">}{</a><a id="2868" href="MJ.Semantics.Monadic.html#2868" class="Bound">A</a> <a id="2870" class="Symbol">:</a> <a id="2872" href="MJ.Semantics.Monadic.html#WSet" class="Function">WSet</a><a id="2876" class="Symbol">}</a> <a id="2878" class="Symbol">→</a> <a id="2880" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="2882" href="MJ.Semantics.Monadic.html#2863" class="Bound">Γ</a> <a id="2884" href="MJ.Semantics.Monadic.html#2865" class="Bound">W</a> <a id="2886" href="MJ.Semantics.Monadic.html#2868" class="Bound">A</a> <a id="2888" class="Symbol">→</a>
                <a id="2906" class="Symbol">(∀</a> <a id="2909" class="Symbol">{</a><a id="2910" href="MJ.Semantics.Monadic.html#2910" class="Bound">W&#39;</a><a id="2912" class="Symbol">}</a> <a id="2914" class="Symbol">→</a> <a id="2916" href="MJ.Semantics.Monadic.html#Exception" class="Datatype">Exception</a> <a id="2926" class="Symbol">→</a> <a id="2928" href="MJ.Semantics.Monadic.html#2910" class="Bound">W&#39;</a> <a id="2931" href="Data.List.Prefix.html#_%E2%8A%92_" class="Function Operator">⊒</a> <a id="2933" href="MJ.Semantics.Monadic.html#2865" class="Bound">W</a> <a id="2935" class="Symbol">→</a> <a id="2937" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="2939" href="MJ.Semantics.Monadic.html#2863" class="Bound">Γ</a> <a id="2941" href="MJ.Semantics.Monadic.html#2910" class="Bound">W&#39;</a> <a id="2944" href="MJ.Semantics.Monadic.html#2868" class="Bound">A</a><a id="2945" class="Symbol">)</a> <a id="2947" class="Symbol">→</a>
                <a id="2965" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="2967" href="MJ.Semantics.Monadic.html#2863" class="Bound">Γ</a> <a id="2969" href="MJ.Semantics.Monadic.html#2865" class="Bound">W</a> <a id="2971" href="MJ.Semantics.Monadic.html#2868" class="Bound">A</a>
<a id="2973" class="Symbol">(</a><a id="2974" href="MJ.Semantics.Monadic.html#2974" class="Bound">k</a> <a id="2976" href="MJ.Semantics.Monadic.html#_recoverWith_" class="Function Operator">recoverWith</a> <a id="2988" href="MJ.Semantics.Monadic.html#2988" class="Bound">f</a><a id="2989" class="Symbol">)</a> <a id="2991" href="MJ.Semantics.Monadic.html#2991" class="Bound">E</a> <a id="2993" href="MJ.Semantics.Monadic.html#2993" class="Bound">μ</a> <a id="2995" class="Keyword">with</a> <a id="3000" href="MJ.Semantics.Monadic.html#2974" class="Bound">k</a> <a id="3002" href="MJ.Semantics.Monadic.html#2991" class="Bound">E</a> <a id="3004" href="MJ.Semantics.Monadic.html#2993" class="Bound">μ</a>
<a id="3006" class="Symbol">...</a> <a id="3010" class="Symbol">|</a> <a id="3012" href="MJ.Semantics.Monadic.html#Result.timeout" class="InductiveConstructor">timeout</a> <a id="3020" class="Symbol">=</a> <a id="3022" href="MJ.Semantics.Monadic.html#Result.timeout" class="InductiveConstructor">timeout</a>
<a id="3030" class="Symbol">...</a> <a id="3034" class="Symbol">|</a> <a id="3036" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a> <a id="3044" href="MJ.Semantics.Monadic.html#3044" class="Bound">ext</a> <a id="3048" href="MJ.Semantics.Monadic.html#3048" class="Bound">μ&#39;</a> <a id="3051" href="MJ.Semantics.Monadic.html#3051" class="Bound">x</a> <a id="3053" class="Symbol">=</a> <a id="3055" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a> <a id="3063" href="MJ.Semantics.Monadic.html#3044" class="Bound">ext</a> <a id="3067" href="MJ.Semantics.Monadic.html#3048" class="Bound">μ&#39;</a> <a id="3070" href="MJ.Semantics.Monadic.html#3051" class="Bound">x</a>
<a id="3072" class="Symbol">...</a> <a id="3076" class="Symbol">|</a> <a id="3078" href="MJ.Semantics.Monadic.html#Result.exception" class="InductiveConstructor">exception</a> <a id="3088" href="MJ.Semantics.Monadic.html#3088" class="Bound">ext</a> <a id="3092" href="MJ.Semantics.Monadic.html#3092" class="Bound">μ&#39;</a> <a id="3095" href="MJ.Semantics.Monadic.html#3095" class="Bound">e</a> <a id="3097" class="Symbol">=</a> <a id="3099" href="MJ.Semantics.Monadic.html#result-strengthen" class="Function">result-strengthen</a> <a id="3117" href="MJ.Semantics.Monadic.html#3088" class="Bound">ext</a> <a id="3121" href="Function.html#_%24_" class="Function Operator">$</a> <a id="3123" class="Bound">f</a> <a id="3125" href="MJ.Semantics.Monadic.html#3095" class="Bound">e</a> <a id="3127" href="MJ.Semantics.Monadic.html#3088" class="Bound">ext</a> <a id="3131" class="Symbol">(</a><a id="3132" href="Common.Weakening.html#721" class="Field">wk</a> <a id="3135" href="MJ.Semantics.Monadic.html#3088" class="Bound">ext</a> <a id="3139" class="Bound">E</a><a id="3140" class="Symbol">)</a> <a id="3142" href="MJ.Semantics.Monadic.html#3092" class="Bound">μ&#39;</a>

<a id="store" href="MJ.Semantics.Monadic.html#store" class="Function">store</a>   <a id="3154" class="Symbol">:</a> <a id="3156" class="Symbol">∀</a> <a id="3158" class="Symbol">{</a><a id="3159" href="MJ.Semantics.Monadic.html#3159" class="Bound">Γ</a> <a id="3161" href="MJ.Semantics.Monadic.html#3161" class="Bound">W</a> <a id="3163" href="MJ.Semantics.Monadic.html#3163" class="Bound">a</a><a id="3164" class="Symbol">}</a> <a id="3166" class="Symbol">→</a> <a id="3168" href="MJ.Semantics.Values.html#2356" class="Datatype">StoreVal</a> <a id="3177" href="MJ.Semantics.Monadic.html#3161" class="Bound">W</a> <a id="3179" href="MJ.Semantics.Monadic.html#3163" class="Bound">a</a> <a id="3181" class="Symbol">→</a> <a id="3183" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="3185" href="MJ.Semantics.Monadic.html#3159" class="Bound">Γ</a> <a id="3187" href="MJ.Semantics.Monadic.html#3161" class="Bound">W</a> <a id="3189" class="Symbol">(λ</a> <a id="3192" href="MJ.Semantics.Monadic.html#3192" class="Bound">W&#39;</a> <a id="3195" class="Symbol">→</a> <a id="3197" href="MJ.Semantics.Monadic.html#3163" class="Bound">a</a> <a id="3199" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="3201" href="MJ.Semantics.Monadic.html#3192" class="Bound">W&#39;</a><a id="3203" class="Symbol">)</a>
<a id="3205" href="MJ.Semantics.Monadic.html#store" class="Function">store</a> <a id="3211" class="Symbol">{</a><a id="3212" href="MJ.Semantics.Monadic.html#3212" class="Bound">Γ</a><a id="3213" class="Symbol">}{</a><a id="3215" href="MJ.Semantics.Monadic.html#3215" class="Bound">W</a><a id="3216" class="Symbol">}{</a><a id="3218" href="MJ.Semantics.Monadic.html#3218" class="Bound">a</a><a id="3219" class="Symbol">}</a> <a id="3221" href="MJ.Semantics.Monadic.html#3221" class="Bound">sv</a> <a id="3224" href="MJ.Semantics.Monadic.html#3224" class="Bound">E</a> <a id="3226" href="MJ.Semantics.Monadic.html#3226" class="Bound">μ</a> <a id="3228" class="Symbol">=</a>
  <a id="3232" class="Keyword">let</a>
    <a id="3240" href="MJ.Semantics.Monadic.html#3240" class="Bound">ext</a> <a id="3244" class="Symbol">=</a> <a id="3246" href="Data.List.Prefix.html#%E2%88%B7%CA%B3-%E2%8A%92" class="Function">∷ʳ-⊒</a> <a id="3251" href="MJ.Semantics.Monadic.html#3218" class="Bound">a</a> <a id="3253" href="MJ.Semantics.Monadic.html#3215" class="Bound">W</a>
    <a id="3259" href="MJ.Semantics.Monadic.html#3259" class="Bound">μ&#39;</a>  <a id="3263" class="Symbol">=</a> <a id="3265" class="Symbol">(</a><a id="3266" href="Data.List.All.html#map-all" class="Function">map-all</a> <a id="3274" class="Symbol">(</a><a id="3275" href="Common.Weakening.html#721" class="Field">wk</a> <a id="3278" href="MJ.Semantics.Monadic.html#3240" class="Bound">ext</a><a id="3281" class="Symbol">)</a> <a id="3283" href="MJ.Semantics.Monadic.html#3226" class="Bound">μ</a><a id="3284" class="Symbol">)</a> <a id="3286" href="Data.List.All.Properties.Extra.html#_all-%E2%88%B7%CA%B3_" class="Function Operator">all-∷ʳ</a> <a id="3293" class="Symbol">(</a><a id="3294" href="Common.Weakening.html#721" class="Field">wk</a> <a id="3297" href="MJ.Semantics.Monadic.html#3240" class="Bound">ext</a> <a id="3301" href="MJ.Semantics.Monadic.html#3221" class="Bound">sv</a><a id="3303" class="Symbol">)</a>
  <a id="3307" class="Keyword">in</a> <a id="3310" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a> <a id="3318" href="MJ.Semantics.Monadic.html#3240" class="Bound">ext</a> <a id="3322" href="MJ.Semantics.Monadic.html#3259" class="Bound">μ&#39;</a> <a id="3325" class="Symbol">(</a><a id="3326" href="Data.List.Properties.Extra.html#%E2%88%88-%E2%88%B7%CA%B3" class="Function">∈-∷ʳ</a> <a id="3331" href="MJ.Semantics.Monadic.html#3215" class="Bound">W</a> <a id="3333" href="MJ.Semantics.Monadic.html#3218" class="Bound">a</a><a id="3334" class="Symbol">)</a>

<a id="update" href="MJ.Semantics.Monadic.html#update" class="Function">update</a>   <a id="3346" class="Symbol">:</a> <a id="3348" class="Symbol">∀</a> <a id="3350" class="Symbol">{</a><a id="3351" href="MJ.Semantics.Monadic.html#3351" class="Bound">Γ</a> <a id="3353" href="MJ.Semantics.Monadic.html#3353" class="Bound">W</a> <a id="3355" href="MJ.Semantics.Monadic.html#3355" class="Bound">a</a><a id="3356" class="Symbol">}</a> <a id="3358" class="Symbol">→</a> <a id="3360" href="MJ.Semantics.Monadic.html#3355" class="Bound">a</a> <a id="3362" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="3364" href="MJ.Semantics.Monadic.html#3353" class="Bound">W</a> <a id="3366" class="Symbol">→</a> <a id="3368" href="MJ.Semantics.Values.html#2356" class="Datatype">StoreVal</a> <a id="3377" href="MJ.Semantics.Monadic.html#3353" class="Bound">W</a> <a id="3379" href="MJ.Semantics.Monadic.html#3355" class="Bound">a</a> <a id="3381" class="Symbol">→</a> <a id="3383" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="3385" href="MJ.Semantics.Monadic.html#3351" class="Bound">Γ</a> <a id="3387" href="MJ.Semantics.Monadic.html#3353" class="Bound">W</a> <a id="3389" class="Symbol">(λ</a> <a id="3392" href="MJ.Semantics.Monadic.html#3392" class="Bound">W&#39;</a> <a id="3395" class="Symbol">→</a> <a id="3397" href="Agda.Builtin.Unit.html#%E2%8A%A4" class="Record">⊤</a><a id="3398" class="Symbol">)</a>
<a id="3400" href="MJ.Semantics.Monadic.html#update" class="Function">update</a> <a id="3407" href="MJ.Semantics.Monadic.html#3407" class="Bound">ptr</a> <a id="3411" href="MJ.Semantics.Monadic.html#3411" class="Bound">v</a> <a id="3413" href="MJ.Semantics.Monadic.html#3413" class="Bound">E</a> <a id="3415" href="MJ.Semantics.Monadic.html#3415" class="Bound">μ</a> <a id="3417" class="Symbol">=</a> <a id="3419" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a> <a id="3427" href="Data.List.Prefix.html#%E2%8A%91-refl" class="Function">⊑-refl</a> <a id="3434" class="Symbol">(</a><a id="3435" href="MJ.Semantics.Monadic.html#3415" class="Bound">μ</a> <a id="3437" href="Data.List.All.Properties.Extra.html#_All%5B_%5D%E2%89%94%27_" class="Function Operator">All[</a> <a id="3442" href="MJ.Semantics.Monadic.html#3407" class="Bound">ptr</a> <a id="3446" href="Data.List.All.Properties.Extra.html#_All%5B_%5D%E2%89%94%27_" class="Function Operator">]≔&#39;</a> <a id="3450" href="MJ.Semantics.Monadic.html#3411" class="Bound">v</a><a id="3451" class="Symbol">)</a> <a id="3453" href="Agda.Builtin.Unit.html#%E2%8A%A4.tt" class="InductiveConstructor">tt</a>

<a id="deref" href="MJ.Semantics.Monadic.html#deref" class="Function">deref</a> <a id="3463" class="Symbol">:</a> <a id="3465" class="Symbol">∀</a> <a id="3467" class="Symbol">{</a><a id="3468" href="MJ.Semantics.Monadic.html#3468" class="Bound">Γ</a> <a id="3470" href="MJ.Semantics.Monadic.html#3470" class="Bound">W</a> <a id="3472" href="MJ.Semantics.Monadic.html#3472" class="Bound">a</a><a id="3473" class="Symbol">}</a> <a id="3475" class="Symbol">→</a> <a id="3477" href="MJ.Semantics.Monadic.html#3472" class="Bound">a</a> <a id="3479" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="3481" href="MJ.Semantics.Monadic.html#3470" class="Bound">W</a> <a id="3483" class="Symbol">→</a> <a id="3485" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="3487" href="MJ.Semantics.Monadic.html#3468" class="Bound">Γ</a> <a id="3489" href="MJ.Semantics.Monadic.html#3470" class="Bound">W</a> <a id="3491" class="Symbol">(</a><a id="3492" href="Function.html#flip" class="Function">flip</a> <a id="3497" href="MJ.Semantics.Values.html#2356" class="Datatype">StoreVal</a> <a id="3506" href="MJ.Semantics.Monadic.html#3472" class="Bound">a</a><a id="3507" class="Symbol">)</a>
<a id="3509" href="MJ.Semantics.Monadic.html#deref" class="Function">deref</a> <a id="3515" href="MJ.Semantics.Monadic.html#3515" class="Bound">ptr</a> <a id="3519" href="MJ.Semantics.Monadic.html#3519" class="Bound">E</a> <a id="3521" href="MJ.Semantics.Monadic.html#3521" class="Bound">μ</a> <a id="3523" class="Symbol">=</a> <a id="3525" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a> <a id="3533" href="Data.List.Prefix.html#%E2%8A%91-refl" class="Function">⊑-refl</a> <a id="3540" href="MJ.Semantics.Monadic.html#3521" class="Bound">μ</a> <a id="3542" class="Symbol">(</a><a id="3543" href="Data.List.All.Properties.Extra.html#%E2%88%88-all" class="Function">∈-all</a> <a id="3549" href="MJ.Semantics.Monadic.html#3515" class="Bound">ptr</a> <a id="3553" href="MJ.Semantics.Monadic.html#3521" class="Bound">μ</a><a id="3554" class="Symbol">)</a>

<a id="getEnv" href="MJ.Semantics.Monadic.html#getEnv" class="Function">getEnv</a> <a id="3564" class="Symbol">:</a> <a id="3566" class="Symbol">∀</a> <a id="3568" class="Symbol">{</a><a id="3569" href="MJ.Semantics.Monadic.html#3569" class="Bound">Γ</a> <a id="3571" href="MJ.Semantics.Monadic.html#3571" class="Bound">W</a><a id="3572" class="Symbol">}{</a><a id="3574" href="MJ.Semantics.Monadic.html#3574" class="Bound">A</a> <a id="3576" class="Symbol">:</a> <a id="3578" href="MJ.Semantics.Monadic.html#WSet" class="Function">WSet</a><a id="3582" class="Symbol">}</a> <a id="3584" class="Symbol">→</a> <a id="3586" class="Symbol">(</a><a id="3587" href="MJ.Semantics.Values.html#1716" class="Function">Env</a> <a id="3591" href="MJ.Semantics.Monadic.html#3569" class="Bound">Γ</a> <a id="3593" href="MJ.Semantics.Monadic.html#3571" class="Bound">W</a> <a id="3595" class="Symbol">→</a> <a id="3597" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="3599" href="MJ.Semantics.Monadic.html#3569" class="Bound">Γ</a> <a id="3601" href="MJ.Semantics.Monadic.html#3571" class="Bound">W</a> <a id="3603" href="MJ.Semantics.Monadic.html#3574" class="Bound">A</a><a id="3604" class="Symbol">)</a> <a id="3606" class="Symbol">→</a> <a id="3608" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="3610" href="MJ.Semantics.Monadic.html#3569" class="Bound">Γ</a> <a id="3612" href="MJ.Semantics.Monadic.html#3571" class="Bound">W</a> <a id="3614" href="MJ.Semantics.Monadic.html#3574" class="Bound">A</a>
<a id="3616" href="MJ.Semantics.Monadic.html#getEnv" class="Function">getEnv</a> <a id="3623" href="MJ.Semantics.Monadic.html#3623" class="Bound">f</a> <a id="3625" href="MJ.Semantics.Monadic.html#3625" class="Bound">E</a> <a id="3627" href="MJ.Semantics.Monadic.html#3627" class="Bound">μ</a> <a id="3629" class="Symbol">=</a> <a id="3631" href="MJ.Semantics.Monadic.html#3623" class="Bound">f</a> <a id="3633" href="MJ.Semantics.Monadic.html#3625" class="Bound">E</a> <a id="3635" href="MJ.Semantics.Monadic.html#3625" class="Bound">E</a> <a id="3637" href="MJ.Semantics.Monadic.html#3627" class="Bound">μ</a>

<a id="usingEnv" href="MJ.Semantics.Monadic.html#usingEnv" class="Function">usingEnv</a> <a id="3649" class="Symbol">:</a> <a id="3651" class="Symbol">∀</a> <a id="3653" class="Symbol">{</a><a id="3654" href="MJ.Semantics.Monadic.html#3654" class="Bound">Γ</a> <a id="3656" href="MJ.Semantics.Monadic.html#3656" class="Bound">Γ&#39;</a> <a id="3659" href="MJ.Semantics.Monadic.html#3659" class="Bound">W</a><a id="3660" class="Symbol">}{</a><a id="3662" href="MJ.Semantics.Monadic.html#3662" class="Bound">A</a> <a id="3664" class="Symbol">:</a> <a id="3666" href="MJ.Semantics.Monadic.html#WSet" class="Function">WSet</a><a id="3670" class="Symbol">}</a> <a id="3672" class="Symbol">→</a> <a id="3674" href="MJ.Semantics.Values.html#1716" class="Function">Env</a> <a id="3678" href="MJ.Semantics.Monadic.html#3656" class="Bound">Γ&#39;</a> <a id="3681" href="MJ.Semantics.Monadic.html#3659" class="Bound">W</a> <a id="3683" class="Symbol">→</a> <a id="3685" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="3687" href="MJ.Semantics.Monadic.html#3656" class="Bound">Γ&#39;</a> <a id="3690" href="MJ.Semantics.Monadic.html#3659" class="Bound">W</a> <a id="3692" href="MJ.Semantics.Monadic.html#3662" class="Bound">A</a> <a id="3694" class="Symbol">→</a> <a id="3696" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="3698" href="MJ.Semantics.Monadic.html#3654" class="Bound">Γ</a> <a id="3700" href="MJ.Semantics.Monadic.html#3659" class="Bound">W</a> <a id="3702" href="MJ.Semantics.Monadic.html#3662" class="Bound">A</a>
<a id="3704" href="MJ.Semantics.Monadic.html#usingEnv" class="Function">usingEnv</a> <a id="3713" href="MJ.Semantics.Monadic.html#3713" class="Bound">E</a> <a id="3715" href="MJ.Semantics.Monadic.html#3715" class="Bound">e</a> <a id="3717" class="Symbol">=</a> <a id="3719" href="Function.html#const" class="Function">const</a> <a id="3725" href="Function.html#_%24_" class="Function Operator">$</a> <a id="3727" href="MJ.Semantics.Monadic.html#3715" class="Bound">e</a> <a id="3729" href="MJ.Semantics.Monadic.html#3713" class="Bound">E</a>

<a id="store*" href="MJ.Semantics.Monadic.html#store%2A" class="Function">store*</a>  <a id="3740" class="Symbol">:</a> <a id="3742" class="Symbol">∀</a> <a id="3744" class="Symbol">{</a><a id="3745" href="MJ.Semantics.Monadic.html#3745" class="Bound">Γ</a> <a id="3747" href="MJ.Semantics.Monadic.html#3747" class="Bound">W</a> <a id="3749" href="MJ.Semantics.Monadic.html#3749" class="Bound">as</a><a id="3751" class="Symbol">}</a> <a id="3753" class="Symbol">→</a> <a id="3755" href="Data.List.All.html#All" class="Datatype">All</a> <a id="3759" class="Symbol">(λ</a> <a id="3762" href="MJ.Semantics.Monadic.html#3762" class="Bound">a</a> <a id="3764" class="Symbol">→</a> <a id="3766" href="MJ.Semantics.Values.html#2356" class="Datatype">StoreVal</a> <a id="3775" href="MJ.Semantics.Monadic.html#3747" class="Bound">W</a> <a id="3777" class="Symbol">(</a><a id="3778" href="MJ.Types.html#Ty%E2%81%BA.vty" class="InductiveConstructor">vty</a> <a id="3782" href="MJ.Semantics.Monadic.html#3762" class="Bound">a</a><a id="3783" class="Symbol">))</a> <a id="3786" href="MJ.Semantics.Monadic.html#3749" class="Bound">as</a> <a id="3789" class="Symbol">→</a>
          <a id="3801" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="3803" href="MJ.Semantics.Monadic.html#3745" class="Bound">Γ</a> <a id="3805" href="MJ.Semantics.Monadic.html#3747" class="Bound">W</a> <a id="3807" class="Symbol">(λ</a> <a id="3810" href="MJ.Semantics.Monadic.html#3810" class="Bound">W&#39;</a> <a id="3813" class="Symbol">→</a> <a id="3815" href="Data.List.All.html#All" class="Datatype">All</a> <a id="3819" class="Symbol">(λ</a> <a id="3822" href="MJ.Semantics.Monadic.html#3822" class="Bound">a</a> <a id="3824" class="Symbol">→</a> <a id="3826" class="Symbol">(</a><a id="3827" href="MJ.Types.html#Ty%E2%81%BA.vty" class="InductiveConstructor">vty</a> <a id="3831" href="MJ.Semantics.Monadic.html#3822" class="Bound">a</a><a id="3832" class="Symbol">)</a> <a id="3834" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="3836" href="MJ.Semantics.Monadic.html#3810" class="Bound">W&#39;</a><a id="3838" class="Symbol">)</a> <a id="3840" href="MJ.Semantics.Monadic.html#3749" class="Bound">as</a><a id="3842" class="Symbol">)</a>
<a id="3844" href="MJ.Semantics.Monadic.html#store%2A" class="Function">store*</a> <a id="3851" href="Data.List.All.html#All.%5B%5D" class="InductiveConstructor">[]</a> <a id="3854" class="Symbol">=</a> <a id="3856" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="3863" href="Data.List.All.html#All.%5B%5D" class="InductiveConstructor">[]</a>
<a id="3866" href="MJ.Semantics.Monadic.html#store%2A" class="Function">store*</a> <a id="3873" class="Symbol">(</a><a id="3874" href="MJ.Semantics.Monadic.html#3874" class="Bound">v</a> <a id="3876" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="3878" href="MJ.Semantics.Monadic.html#3878" class="Bound">vs</a><a id="3880" class="Symbol">)</a> <a id="3882" class="Symbol">=</a>
  <a id="3886" href="MJ.Semantics.Monadic.html#store" class="Function">store</a> <a id="3892" href="MJ.Semantics.Monadic.html#3874" class="Bound">v</a> <a id="3894" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="3896" href="MJ.Semantics.Monadic.html#3878" class="Bound">vs</a> <a id="3899" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="3903" class="Symbol">λ{</a> <a id="3906" class="Symbol">(</a><a id="3907" href="MJ.Semantics.Monadic.html#3907" class="Bound">r</a> <a id="3909" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3911" href="MJ.Semantics.Monadic.html#3911" class="Bound">vs</a><a id="3913" class="Symbol">)</a> <a id="3915" class="Symbol">→</a>
  <a id="3919" href="MJ.Semantics.Monadic.html#store%2A" class="Function">store*</a> <a id="3926" href="MJ.Semantics.Monadic.html#3911" class="Bound">vs</a> <a id="3929" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="3931" href="MJ.Semantics.Monadic.html#3907" class="Bound">r</a> <a id="3933" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="3937" class="Symbol">λ{</a> <a id="3940" class="Symbol">(</a><a id="3941" href="MJ.Semantics.Monadic.html#3941" class="Bound">rs</a> <a id="3944" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3946" href="MJ.Semantics.Monadic.html#3946" class="Bound">r</a><a id="3947" class="Symbol">)</a> <a id="3949" class="Symbol">→</a>
  <a id="3953" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="3960" class="Symbol">(</a><a id="3961" href="MJ.Semantics.Monadic.html#3946" class="Bound">r</a> <a id="3963" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="3965" href="MJ.Semantics.Monadic.html#3941" class="Bound">rs</a><a id="3967" class="Symbol">)</a> <a id="3969" class="Symbol">}}</a>

<a id="3973" class="Comment">{-
Lifting of object getter/setter into the monad
-}</a>
<a id="read-field" href="MJ.Semantics.Monadic.html#read-field" class="Function">read-field</a> <a id="4037" class="Symbol">:</a> <a id="4039" class="Symbol">∀</a> <a id="4041" class="Symbol">{</a><a id="4042" href="MJ.Semantics.Monadic.html#4042" class="Bound">Γ</a> <a id="4044" class="Symbol">:</a> <a id="4046" href="MJ.LexicalScope.html#226" class="Function">Ctx</a><a id="4049" class="Symbol">}{</a><a id="4051" href="MJ.Semantics.Monadic.html#4051" class="Bound">C</a> <a id="4053" href="MJ.Semantics.Monadic.html#4053" class="Bound">W</a> <a id="4055" href="MJ.Semantics.Monadic.html#4055" class="Bound">f</a> <a id="4057" href="MJ.Semantics.Monadic.html#4057" class="Bound">a</a><a id="4058" class="Symbol">}</a> <a id="4060" class="Symbol">→</a> <a id="4062" href="MJ.Classtable.Membership.html#960" class="Function">IsMember</a> <a id="4071" href="MJ.Semantics.Monadic.html#4051" class="Bound">C</a> <a id="4073" href="MJ.Classtable.Core.html#657" class="InductiveConstructor">FIELD</a> <a id="4079" href="MJ.Semantics.Monadic.html#4055" class="Bound">f</a> <a id="4081" href="MJ.Semantics.Monadic.html#4057" class="Bound">a</a> <a id="4083" class="Symbol">→</a> <a id="4085" href="MJ.Semantics.Values.html#904" class="Datatype">Val</a> <a id="4089" href="MJ.Semantics.Monadic.html#4053" class="Bound">W</a> <a id="4091" class="Symbol">(</a><a id="4092" href="MJ.Types.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="4096" href="MJ.Semantics.Monadic.html#4051" class="Bound">C</a><a id="4097" class="Symbol">)</a> <a id="4099" class="Symbol">→</a>
            <a id="4113" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="4115" href="MJ.Semantics.Monadic.html#4042" class="Bound">Γ</a> <a id="4117" href="MJ.Semantics.Monadic.html#4053" class="Bound">W</a> <a id="4119" class="Symbol">(λ</a> <a id="4122" href="MJ.Semantics.Monadic.html#4122" class="Bound">W</a> <a id="4124" class="Symbol">→</a> <a id="4126" href="MJ.Semantics.Values.html#904" class="Datatype">Val</a> <a id="4130" href="MJ.Semantics.Monadic.html#4122" class="Bound">W</a> <a id="4132" href="MJ.Semantics.Monadic.html#4057" class="Bound">a</a><a id="4133" class="Symbol">)</a>
<a id="4135" href="MJ.Semantics.Monadic.html#read-field" class="Function">read-field</a> <a id="4146" href="MJ.Semantics.Monadic.html#4146" class="Bound">m</a> <a id="4148" href="MJ.Semantics.Values.html#986" class="InductiveConstructor">null</a> <a id="4153" class="Symbol">=</a> <a id="4155" href="MJ.Semantics.Monadic.html#raiseM" class="Function">raiseM</a> <a id="4162" href="MJ.Semantics.Monadic.html#Exception.nullderef" class="InductiveConstructor">nullderef</a>
<a id="4172" href="MJ.Semantics.Monadic.html#read-field" class="Function">read-field</a> <a id="4183" href="MJ.Semantics.Monadic.html#4183" class="Bound">m</a> <a id="4185" class="Symbol">(</a><a id="4186" href="MJ.Semantics.Values.html#1017" class="InductiveConstructor">ref</a> <a id="4190" href="MJ.Semantics.Monadic.html#4190" class="Bound">o</a> <a id="4192" href="MJ.Semantics.Monadic.html#4192" class="Bound">C&lt;:C&#39;</a><a id="4197" class="Symbol">)</a> <a id="4199" href="MJ.Semantics.Monadic.html#4199" class="Bound">E</a> <a id="4201" href="MJ.Semantics.Monadic.html#4201" class="Bound">μ</a> <a id="4203" class="Keyword">with</a> <a id="4208" href="Data.List.All.Properties.Extra.html#%E2%88%88-all" class="Function">∈-all</a> <a id="4214" href="MJ.Semantics.Monadic.html#4190" class="Bound">o</a> <a id="4216" href="MJ.Semantics.Monadic.html#4201" class="Bound">μ</a>
<a id="4218" href="MJ.Semantics.Monadic.html#read-field" class="Function">read-field</a> <a id="4229" href="MJ.Semantics.Monadic.html#4229" class="Bound">m</a> <a id="4231" class="Symbol">(</a><a id="4232" class="InductiveConstructor">ref</a> <a id="4236" href="MJ.Semantics.Monadic.html#4236" class="Bound">o</a> <a id="4238" href="MJ.Semantics.Monadic.html#4238" class="Bound">C&lt;:C&#39;</a><a id="4243" class="Symbol">)</a> <a id="4245" href="MJ.Semantics.Monadic.html#4245" class="Bound">E</a> <a id="4247" href="MJ.Semantics.Monadic.html#4247" class="Bound">μ</a> <a id="4249" class="Symbol">|</a> <a id="4251" href="MJ.Semantics.Values.html#2453" class="InductiveConstructor">obj</a> <a id="4255" href="MJ.Semantics.Monadic.html#4255" class="Bound">cid</a> <a id="4259" href="MJ.Semantics.Monadic.html#4259" class="Bound">O</a> <a id="4261" class="Symbol">=</a> <a id="4263" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a> <a id="4271" href="Data.List.Prefix.html#%E2%8A%91-refl" class="Function">⊑-refl</a> <a id="4278" href="MJ.Semantics.Monadic.html#4247" class="Bound">μ</a> <a id="4280" class="Symbol">(</a><a id="4281" href="MJ.Semantics.Values.html#2168" class="Function">getter</a> <a id="4288" class="Symbol">_</a> <a id="4290" href="MJ.Semantics.Monadic.html#4259" class="Bound">O</a> <a id="4292" class="Symbol">(</a><a id="4293" href="MJ.Classtable.Membership.html#2614" class="Function">inherit&#39;</a> <a id="4302" href="MJ.Semantics.Monadic.html#4238" class="Bound">C&lt;:C&#39;</a> <a id="4308" href="MJ.Semantics.Monadic.html#4229" class="Bound">m</a><a id="4309" class="Symbol">))</a>

<a id="write-field" href="MJ.Semantics.Monadic.html#write-field" class="Function">write-field</a> <a id="4325" class="Symbol">:</a> <a id="4327" class="Symbol">∀</a> <a id="4329" class="Symbol">{</a><a id="4330" href="MJ.Semantics.Monadic.html#4330" class="Bound">Γ</a> <a id="4332" href="MJ.Semantics.Monadic.html#4332" class="Bound">C</a> <a id="4334" href="MJ.Semantics.Monadic.html#4334" class="Bound">W</a> <a id="4336" href="MJ.Semantics.Monadic.html#4336" class="Bound">f</a> <a id="4338" href="MJ.Semantics.Monadic.html#4338" class="Bound">a</a><a id="4339" class="Symbol">}</a> <a id="4341" class="Symbol">→</a> <a id="4343" href="MJ.Classtable.Membership.html#960" class="Function">IsMember</a> <a id="4352" href="MJ.Semantics.Monadic.html#4332" class="Bound">C</a> <a id="4354" href="MJ.Classtable.Core.html#657" class="InductiveConstructor">FIELD</a> <a id="4360" href="MJ.Semantics.Monadic.html#4336" class="Bound">f</a> <a id="4362" href="MJ.Semantics.Monadic.html#4338" class="Bound">a</a> <a id="4364" class="Symbol">→</a> <a id="4366" href="MJ.Semantics.Values.html#904" class="Datatype">Val</a> <a id="4370" href="MJ.Semantics.Monadic.html#4334" class="Bound">W</a> <a id="4372" class="Symbol">(</a><a id="4373" href="MJ.Types.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="4377" href="MJ.Semantics.Monadic.html#4332" class="Bound">C</a><a id="4378" class="Symbol">)</a> <a id="4380" class="Symbol">→</a> <a id="4382" href="MJ.Semantics.Values.html#904" class="Datatype">Val</a> <a id="4386" href="MJ.Semantics.Monadic.html#4334" class="Bound">W</a> <a id="4388" href="MJ.Semantics.Monadic.html#4338" class="Bound">a</a> <a id="4390" class="Symbol">→</a>
            <a id="4404" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="4406" href="MJ.Semantics.Monadic.html#4330" class="Bound">Γ</a> <a id="4408" href="MJ.Semantics.Monadic.html#4334" class="Bound">W</a> <a id="4410" class="Symbol">(</a><a id="4411" href="Function.html#flip" class="Function">flip</a> <a id="4416" href="MJ.Semantics.Values.html#904" class="Datatype">Val</a> <a id="4420" class="Symbol">(</a><a id="4421" href="MJ.Types.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="4425" href="MJ.Semantics.Monadic.html#4332" class="Bound">C</a><a id="4426" class="Symbol">))</a>
<a id="4429" href="MJ.Semantics.Monadic.html#write-field" class="Function">write-field</a> <a id="4441" href="MJ.Semantics.Monadic.html#4441" class="Bound">m</a> <a id="4443" href="MJ.Semantics.Values.html#986" class="InductiveConstructor">null</a> <a id="4448" href="MJ.Semantics.Monadic.html#4448" class="Bound">v</a> <a id="4450" class="Symbol">=</a> <a id="4452" href="MJ.Semantics.Monadic.html#raiseM" class="Function">raiseM</a> <a id="4459" href="MJ.Semantics.Monadic.html#Exception.nullderef" class="InductiveConstructor">nullderef</a>
<a id="4469" href="MJ.Semantics.Monadic.html#write-field" class="Function">write-field</a> <a id="4481" href="MJ.Semantics.Monadic.html#4481" class="Bound">m</a> <a id="4483" class="Symbol">(</a><a id="4484" href="MJ.Semantics.Values.html#1017" class="InductiveConstructor">ref</a> <a id="4488" href="MJ.Semantics.Monadic.html#4488" class="Bound">o</a> <a id="4490" href="MJ.Semantics.Monadic.html#4490" class="Bound">s</a><a id="4491" class="Symbol">)</a> <a id="4493" href="MJ.Semantics.Monadic.html#4493" class="Bound">v</a> <a id="4495" href="MJ.Semantics.Monadic.html#4495" class="Bound">E</a> <a id="4497" href="MJ.Semantics.Monadic.html#4497" class="Bound">μ</a> <a id="4499" class="Keyword">with</a> <a id="4504" href="Data.List.All.Properties.Extra.html#%E2%88%88-all" class="Function">∈-all</a> <a id="4510" href="MJ.Semantics.Monadic.html#4488" class="Bound">o</a> <a id="4512" href="MJ.Semantics.Monadic.html#4497" class="Bound">μ</a>
<a id="4514" href="MJ.Semantics.Monadic.html#write-field" class="Function">write-field</a> <a id="4526" href="MJ.Semantics.Monadic.html#4526" class="Bound">m</a> <a id="4528" class="Symbol">(</a><a id="4529" class="InductiveConstructor">ref</a> <a id="4533" href="MJ.Semantics.Monadic.html#4533" class="Bound">o</a> <a id="4535" href="MJ.Semantics.Monadic.html#4535" class="Bound">s</a><a id="4536" class="Symbol">)</a> <a id="4538" href="MJ.Semantics.Monadic.html#4538" class="Bound">v</a> <a id="4540" href="MJ.Semantics.Monadic.html#4540" class="Bound">E</a> <a id="4542" href="MJ.Semantics.Monadic.html#4542" class="Bound">μ</a> <a id="4544" class="Symbol">|</a> <a id="4546" href="MJ.Semantics.Values.html#2453" class="InductiveConstructor">obj</a> <a id="4550" href="MJ.Semantics.Monadic.html#4550" class="Bound">cid</a> <a id="4554" href="MJ.Semantics.Monadic.html#4554" class="Bound">O</a> <a id="4556" class="Symbol">=</a>
  <a id="4560" class="Keyword">let</a>
    <a id="4568" href="MJ.Semantics.Monadic.html#4568" class="Bound">vobj</a> <a id="4573" class="Symbol">=</a> <a id="4575" href="MJ.Semantics.Values.html#2453" class="InductiveConstructor">obj</a> <a id="4579" href="MJ.Semantics.Monadic.html#4550" class="Bound">cid</a> <a id="4583" class="Symbol">(</a><a id="4584" href="MJ.Semantics.Values.html#2236" class="Function">setter</a> <a id="4591" class="Symbol">_</a> <a id="4593" href="MJ.Semantics.Monadic.html#4554" class="Bound">O</a> <a id="4595" class="Symbol">(</a><a id="4596" href="MJ.Classtable.Membership.html#2614" class="Function">inherit&#39;</a> <a id="4605" href="MJ.Semantics.Monadic.html#4535" class="Bound">s</a> <a id="4607" href="MJ.Semantics.Monadic.html#4526" class="Bound">m</a><a id="4608" class="Symbol">)</a> <a id="4610" href="MJ.Semantics.Monadic.html#4538" class="Bound">v</a><a id="4611" class="Symbol">)</a>
    <a id="4617" href="MJ.Semantics.Monadic.html#4617" class="Bound">μ&#39;</a> <a id="4620" class="Symbol">=</a> <a id="4622" href="MJ.Semantics.Monadic.html#4542" class="Bound">μ</a> <a id="4624" href="Data.List.All.Properties.Extra.html#_All%5B_%5D%E2%89%94%27_" class="Function Operator">All[</a> <a id="4629" href="MJ.Semantics.Monadic.html#4533" class="Bound">o</a> <a id="4631" href="Data.List.All.Properties.Extra.html#_All%5B_%5D%E2%89%94%27_" class="Function Operator">]≔&#39;</a> <a id="4635" href="MJ.Semantics.Monadic.html#4568" class="Bound">vobj</a>
  <a id="4642" class="Keyword">in</a> <a id="4645" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a> <a id="4653" href="Data.List.Prefix.html#%E2%8A%91-refl" class="Function">⊑-refl</a> <a id="4660" href="MJ.Semantics.Monadic.html#4617" class="Bound">μ&#39;</a> <a id="4663" class="Symbol">(</a><a id="4664" href="MJ.Semantics.Values.html#1017" class="InductiveConstructor">ref</a> <a id="4668" href="MJ.Semantics.Monadic.html#4533" class="Bound">o</a> <a id="4670" href="MJ.Semantics.Monadic.html#4535" class="Bound">s</a><a id="4671" class="Symbol">)</a>

<a id="4674" class="Comment">-- Get the implementation of any method definition of a class</a>
<a id="mbody" href="MJ.Semantics.Monadic.html#mbody" class="Function">mbody</a> <a id="4742" class="Symbol">:</a> <a id="4744" class="Symbol">∀</a> <a id="4746" class="Symbol">{</a><a id="4747" href="MJ.Semantics.Monadic.html#4747" class="Bound">m</a> <a id="4749" href="MJ.Semantics.Monadic.html#4749" class="Bound">ty</a><a id="4751" class="Symbol">}</a> <a id="4753" href="MJ.Semantics.Monadic.html#4753" class="Bound">cid</a> <a id="4757" class="Symbol">→</a> <a id="4759" href="MJ.Classtable.Membership.html#2238" class="Function">AccMember</a> <a id="4769" href="MJ.Semantics.Monadic.html#4753" class="Bound">cid</a> <a id="4773" href="MJ.Classtable.Core.html#643" class="InductiveConstructor">METHOD</a> <a id="4780" href="MJ.Semantics.Monadic.html#4747" class="Bound">m</a> <a id="4782" href="MJ.Semantics.Monadic.html#4749" class="Bound">ty</a> <a id="4785" class="Symbol">→</a> <a id="4787" href="MJ.Classtable.Code.html#2717" class="Function">InheritedMethod</a> <a id="4803" href="MJ.Semantics.Monadic.html#4753" class="Bound">cid</a> <a id="4807" href="MJ.Semantics.Monadic.html#4747" class="Bound">m</a> <a id="4809" href="MJ.Semantics.Monadic.html#4749" class="Bound">ty</a>
<a id="4812" href="MJ.Semantics.Monadic.html#mbody" class="Function">mbody</a> <a id="4818" href="MJ.Semantics.Monadic.html#4818" class="Bound">cid</a> <a id="4822" href="MJ.Semantics.Monadic.html#4822" class="Bound">mb</a> <a id="4825" class="Keyword">with</a> <a id="4830" href="Relation.Nullary.Decidable.html#toWitness" class="Function">toWitness</a> <a id="4840" href="MJ.Semantics.Monadic.html#4822" class="Bound">mb</a>
<a id="4843" class="Symbol">...</a> <a id="4847" class="Symbol">|</a> <a id="4849" class="Symbol">(</a><a id="4850" href="MJ.Semantics.Monadic.html#4850" class="Bound">pid</a> <a id="4854" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4856" href="MJ.Semantics.Monadic.html#4856" class="Bound">s</a> <a id="4858" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4860" href="MJ.Semantics.Monadic.html#4860" class="Bound">d∈decls</a><a id="4867" class="Symbol">)</a> <a id="4869" class="Symbol">=</a> <a id="4871" href="MJ.Semantics.Monadic.html#4850" class="Bound">pid</a> <a id="4875" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4877" href="MJ.Semantics.Monadic.html#4856" class="Bound">s</a> <a id="4879" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4881" href="Data.List.All.Properties.Extra.html#%E2%88%88-all" class="Function">∈-all</a> <a id="4887" class="Symbol">(</a><a id="4888" href="Data.Product.html#%CE%A3.proj%E2%82%81" class="Field">proj₁</a> <a id="4894" class="Symbol">(</a><a id="4895" href="Data.List.First.Properties.html#first%E2%9F%B6%E2%88%88" class="Function">first⟶∈</a> <a id="4903" href="MJ.Semantics.Monadic.html#4860" class="Bound">d∈decls</a><a id="4910" class="Symbol">))</a> <a id="4913" class="Symbol">(</a><a id="4914" href="MJ.Classtable.Code.html#2448" class="Field">Implementation.mbodies</a> <a id="4937" class="Symbol">(</a><a id="4938" href="MJ.Semantics.Monadic.html#272" class="Bound">ℂ</a> <a id="4940" href="MJ.Semantics.Monadic.html#4850" class="Bound">pid</a><a id="4943" class="Symbol">))</a>

<a id="4947" class="Comment">{-
Refinements of bind and return for the nested monad for command evaluation
-}</a>
<a id="_&gt;&gt;=c_" href="MJ.Semantics.Monadic.html#_%3E%3E%3Dc_" class="Function Operator">_&gt;&gt;=c_</a> <a id="5035" class="Symbol">:</a> <a id="5037" class="Symbol">∀</a> <a id="5039" class="Symbol">{</a><a id="5040" href="MJ.Semantics.Monadic.html#5040" class="Bound">I</a> <a id="5042" href="MJ.Semantics.Monadic.html#5042" class="Bound">O</a> <a id="5044" href="MJ.Semantics.Monadic.html#5044" class="Bound">O&#39;</a> <a id="5047" class="Symbol">:</a> <a id="5049" href="MJ.LexicalScope.html#226" class="Function">Ctx</a><a id="5052" class="Symbol">}{</a><a id="5054" href="MJ.Semantics.Monadic.html#5054" class="Bound">W</a> <a id="5056" class="Symbol">:</a> <a id="5058" href="MJ.Types.html#World" class="Function">World</a> <a id="5064" href="MJ.Semantics.Monadic.html#244" class="Bound">c</a><a id="5065" class="Symbol">}{</a><a id="5067" href="MJ.Semantics.Monadic.html#5067" class="Bound">a</a><a id="5068" class="Symbol">}</a> <a id="5070" class="Symbol">→</a>
          <a id="5082" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="5084" href="MJ.Semantics.Monadic.html#5040" class="Bound">I</a> <a id="5086" href="MJ.Semantics.Monadic.html#5054" class="Bound">W</a> <a id="5088" class="Symbol">(λ</a> <a id="5091" href="MJ.Semantics.Monadic.html#5091" class="Bound">W</a> <a id="5093" class="Symbol">→</a> <a id="5095" href="MJ.Semantics.Values.html#904" class="Datatype">Val</a> <a id="5099" href="MJ.Semantics.Monadic.html#5091" class="Bound">W</a> <a id="5101" href="MJ.Semantics.Monadic.html#5067" class="Bound">a</a> <a id="5103" href="Data.Sum.html#_%E2%8A%8E_" class="Datatype Operator">⊎</a> <a id="5105" href="MJ.Semantics.Values.html#1716" class="Function">Env</a> <a id="5109" href="MJ.Semantics.Monadic.html#5042" class="Bound">O</a> <a id="5111" href="MJ.Semantics.Monadic.html#5091" class="Bound">W</a><a id="5112" class="Symbol">)</a> <a id="5114" class="Symbol">→</a>
          <a id="5126" class="Symbol">(∀</a> <a id="5129" class="Symbol">{</a><a id="5130" href="MJ.Semantics.Monadic.html#5130" class="Bound">W&#39;</a><a id="5132" class="Symbol">}</a> <a id="5134" class="Symbol">→</a> <a id="5136" href="MJ.Semantics.Values.html#1716" class="Function">Env</a> <a id="5140" href="MJ.Semantics.Monadic.html#5042" class="Bound">O</a> <a id="5142" href="MJ.Semantics.Monadic.html#5130" class="Bound">W&#39;</a> <a id="5145" class="Symbol">→</a> <a id="5147" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="5149" href="MJ.Semantics.Monadic.html#5040" class="Bound">I</a> <a id="5151" href="MJ.Semantics.Monadic.html#5130" class="Bound">W&#39;</a> <a id="5154" class="Symbol">(λ</a> <a id="5157" href="MJ.Semantics.Monadic.html#5157" class="Bound">W</a> <a id="5159" class="Symbol">→</a> <a id="5161" href="MJ.Semantics.Values.html#904" class="Datatype">Val</a> <a id="5165" href="MJ.Semantics.Monadic.html#5157" class="Bound">W</a> <a id="5167" href="MJ.Semantics.Monadic.html#5067" class="Bound">a</a> <a id="5169" href="Data.Sum.html#_%E2%8A%8E_" class="Datatype Operator">⊎</a> <a id="5171" href="MJ.Semantics.Values.html#1716" class="Function">Env</a> <a id="5175" href="MJ.Semantics.Monadic.html#5044" class="Bound">O&#39;</a> <a id="5178" href="MJ.Semantics.Monadic.html#5157" class="Bound">W</a><a id="5179" class="Symbol">))</a> <a id="5182" class="Symbol">→</a>
          <a id="5194" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="5196" href="MJ.Semantics.Monadic.html#5040" class="Bound">I</a> <a id="5198" href="MJ.Semantics.Monadic.html#5054" class="Bound">W</a> <a id="5200" class="Symbol">(λ</a> <a id="5203" href="MJ.Semantics.Monadic.html#5203" class="Bound">W</a> <a id="5205" class="Symbol">→</a> <a id="5207" href="MJ.Semantics.Values.html#904" class="Datatype">Val</a> <a id="5211" href="MJ.Semantics.Monadic.html#5203" class="Bound">W</a> <a id="5213" href="MJ.Semantics.Monadic.html#5067" class="Bound">a</a> <a id="5215" href="Data.Sum.html#_%E2%8A%8E_" class="Datatype Operator">⊎</a> <a id="5217" href="MJ.Semantics.Values.html#1716" class="Function">Env</a> <a id="5221" href="MJ.Semantics.Monadic.html#5044" class="Bound">O&#39;</a> <a id="5224" href="MJ.Semantics.Monadic.html#5203" class="Bound">W</a><a id="5225" class="Symbol">)</a>
<a id="5227" href="MJ.Semantics.Monadic.html#5227" class="Bound">m</a> <a id="5229" href="MJ.Semantics.Monadic.html#_%3E%3E%3Dc_" class="Function Operator">&gt;&gt;=c</a> <a id="5234" href="MJ.Semantics.Monadic.html#5234" class="Bound">f</a> <a id="5236" class="Symbol">=</a> <a id="5238" href="MJ.Semantics.Monadic.html#5227" class="Bound">m</a> <a id="5240" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5244" class="Symbol">λ{</a>
  <a id="5249" class="Symbol">(</a><a id="5250" href="Data.Sum.html#_%E2%8A%8E_.inj%E2%82%81" class="InductiveConstructor">inj₁</a> <a id="5255" href="MJ.Semantics.Monadic.html#5255" class="Bound">v</a><a id="5256" class="Symbol">)</a> <a id="5258" class="Symbol">→</a> <a id="5260" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="5267" class="Symbol">(</a><a id="5268" href="Data.Sum.html#_%E2%8A%8E_.inj%E2%82%81" class="InductiveConstructor">inj₁</a> <a id="5273" href="MJ.Semantics.Monadic.html#5255" class="Bound">v</a><a id="5274" class="Symbol">)</a> <a id="5276" class="Symbol">;</a>
  <a id="5280" class="Symbol">(</a><a id="5281" href="Data.Sum.html#_%E2%8A%8E_.inj%E2%82%82" class="InductiveConstructor">inj₂</a> <a id="5286" href="MJ.Semantics.Monadic.html#5286" class="Bound">E</a><a id="5287" class="Symbol">)</a> <a id="5289" class="Symbol">→</a> <a id="5291" href="MJ.Semantics.Monadic.html#5234" class="Bound">f</a> <a id="5293" href="MJ.Semantics.Monadic.html#5286" class="Bound">E</a> <a id="5295" class="Symbol">}</a>

<a id="continue" href="MJ.Semantics.Monadic.html#continue" class="Function">continue</a> <a id="5307" class="Symbol">:</a> <a id="5309" class="Symbol">∀</a> <a id="5311" class="Symbol">{</a><a id="5312" href="MJ.Semantics.Monadic.html#5312" class="Bound">Γ</a> <a id="5314" class="Symbol">:</a> <a id="5316" href="MJ.LexicalScope.html#226" class="Function">Ctx</a><a id="5319" class="Symbol">}{</a><a id="5321" href="MJ.Semantics.Monadic.html#5321" class="Bound">W</a> <a id="5323" class="Symbol">:</a> <a id="5325" href="MJ.Types.html#World" class="Function">World</a> <a id="5331" href="MJ.Semantics.Monadic.html#244" class="Bound">c</a><a id="5332" class="Symbol">}{</a><a id="5334" href="MJ.Semantics.Monadic.html#5334" class="Bound">a</a><a id="5335" class="Symbol">}</a> <a id="5337" class="Symbol">→</a> <a id="5339" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="5341" href="MJ.Semantics.Monadic.html#5312" class="Bound">Γ</a> <a id="5343" href="MJ.Semantics.Monadic.html#5321" class="Bound">W</a> <a id="5345" class="Symbol">(λ</a> <a id="5348" href="MJ.Semantics.Monadic.html#5348" class="Bound">W</a> <a id="5350" class="Symbol">→</a> <a id="5352" href="MJ.Semantics.Values.html#904" class="Datatype">Val</a> <a id="5356" href="MJ.Semantics.Monadic.html#5348" class="Bound">W</a> <a id="5358" href="MJ.Semantics.Monadic.html#5334" class="Bound">a</a> <a id="5360" href="Data.Sum.html#_%E2%8A%8E_" class="Datatype Operator">⊎</a> <a id="5362" href="MJ.Semantics.Values.html#1716" class="Function">Env</a> <a id="5366" href="MJ.Semantics.Monadic.html#5312" class="Bound">Γ</a> <a id="5368" href="MJ.Semantics.Monadic.html#5348" class="Bound">W</a><a id="5369" class="Symbol">)</a>
<a id="5371" href="MJ.Semantics.Monadic.html#continue" class="Function">continue</a> <a id="5380" class="Symbol">=</a> <a id="5382" href="MJ.Semantics.Monadic.html#getEnv" class="Function">getEnv</a> <a id="5389" class="Symbol">λ</a> <a id="5391" href="MJ.Semantics.Monadic.html#5391" class="Bound">E</a> <a id="5393" class="Symbol">→</a> <a id="5395" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="5402" class="Symbol">(</a><a id="5403" href="Data.Sum.html#_%E2%8A%8E_.inj%E2%82%82" class="InductiveConstructor">inj₂</a> <a id="5408" href="MJ.Semantics.Monadic.html#5391" class="Bound">E</a><a id="5409" class="Symbol">)</a>

<a id="5412" class="Comment">{-
Fueled interpreter
-}</a>
<a id="5437" class="Keyword">mutual</a>

  <a id="5447" class="Comment">{-
  Arguments are passed as mutable and thus have to be evaluated, after which
  we store the values in the store and we pass the references.
  -}</a>
  <a id="eval-args" href="MJ.Semantics.Monadic.html#eval-args" class="Function">eval-args</a> <a id="5607" class="Symbol">:</a> <a id="5609" class="Symbol">∀</a> <a id="5611" class="Symbol">{</a><a id="5612" href="MJ.Semantics.Monadic.html#5612" class="Bound">Γ</a> <a id="5614" href="MJ.Semantics.Monadic.html#5614" class="Bound">as</a> <a id="5617" href="MJ.Semantics.Monadic.html#5617" class="Bound">W</a><a id="5618" class="Symbol">}</a> <a id="5620" class="Symbol">→</a> <a id="5622" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="5624" class="Symbol">→</a> <a id="5626" href="Data.List.All.html#All" class="Datatype">All</a> <a id="5630" class="Symbol">(</a><a id="5631" href="MJ.Syntax.Typed.html#1148" class="Datatype">Expr</a> <a id="5636" href="MJ.Semantics.Monadic.html#5612" class="Bound">Γ</a><a id="5637" class="Symbol">)</a> <a id="5639" href="MJ.Semantics.Monadic.html#5614" class="Bound">as</a> <a id="5642" class="Symbol">→</a> <a id="5644" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="5646" href="MJ.Semantics.Monadic.html#5612" class="Bound">Γ</a> <a id="5648" href="MJ.Semantics.Monadic.html#5617" class="Bound">W</a> <a id="5650" class="Symbol">(λ</a> <a id="5653" href="MJ.Semantics.Monadic.html#5653" class="Bound">W&#39;</a> <a id="5656" class="Symbol">→</a> <a id="5658" href="Data.List.All.html#All" class="Datatype">All</a> <a id="5662" class="Symbol">(λ</a> <a id="5665" href="MJ.Semantics.Monadic.html#5665" class="Bound">a</a> <a id="5667" class="Symbol">→</a> <a id="5669" class="Symbol">(</a><a id="5670" href="MJ.Types.html#Ty%E2%81%BA.vty" class="InductiveConstructor">vty</a> <a id="5674" href="MJ.Semantics.Monadic.html#5665" class="Bound">a</a><a id="5675" class="Symbol">)</a> <a id="5677" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="5679" href="MJ.Semantics.Monadic.html#5653" class="Bound">W&#39;</a><a id="5681" class="Symbol">)</a> <a id="5683" href="MJ.Semantics.Monadic.html#5614" class="Bound">as</a><a id="5685" class="Symbol">)</a>
  <a id="5689" href="MJ.Semantics.Monadic.html#eval-args" class="Function">eval-args</a> <a id="5699" href="MJ.Semantics.Monadic.html#5699" class="Bound">k</a> <a id="5701" href="MJ.Semantics.Monadic.html#5701" class="Bound">args</a> <a id="5706" class="Symbol">=</a>
    <a id="5712" href="MJ.Semantics.Monadic.html#eval%E2%82%91%2A" class="Function">evalₑ*</a> <a id="5719" href="MJ.Semantics.Monadic.html#5699" class="Bound">k</a> <a id="5721" href="MJ.Semantics.Monadic.html#5701" class="Bound">args</a> <a id="5726" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5730" class="Symbol">λ</a> <a id="5732" href="MJ.Semantics.Monadic.html#5732" class="Bound">vs</a> <a id="5735" class="Symbol">→</a>
    <a id="5741" href="MJ.Semantics.Monadic.html#store%2A" class="Function">store*</a> <a id="5748" class="Symbol">(</a><a id="5749" href="Data.List.All.html#map-all" class="Function">map-all</a> <a id="5757" href="MJ.Semantics.Values.html#2403" class="InductiveConstructor">val</a> <a id="5761" href="MJ.Semantics.Monadic.html#5732" class="Bound">vs</a><a id="5763" class="Symbol">)</a>

  <a id="5768" class="Comment">{-
  Object initialization:
  Creates a default object; stores a mutable reference to it on the heap; calls the constructor
  on the resulting reference.
  -}</a>
  <a id="constructM" href="MJ.Semantics.Monadic.html#constructM" class="Function">constructM</a> <a id="5940" class="Symbol">:</a> <a id="5942" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="5944" class="Symbol">→</a> <a id="5946" class="Symbol">∀</a> <a id="5948" href="MJ.Semantics.Monadic.html#5948" class="Bound">cid</a> <a id="5952" class="Symbol">→</a> <a id="5954" class="Symbol">∀</a> <a id="5956" class="Symbol">{</a><a id="5957" href="MJ.Semantics.Monadic.html#5957" class="Bound">W</a><a id="5958" class="Symbol">}</a> <a id="5960" class="Symbol">→</a> <a id="5962" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="5964" class="Symbol">(</a><a id="5965" href="MJ.Classtable.Core.html#1458" class="Field">Class.constr</a> <a id="5978" class="Symbol">(</a><a id="5979" href="MJ.Classtable.Core.html#2464" class="Function">Σ</a> <a id="5981" href="MJ.Semantics.Monadic.html#5948" class="Bound">cid</a><a id="5984" class="Symbol">))</a> <a id="5987" href="MJ.Semantics.Monadic.html#5957" class="Bound">W</a> <a id="5989" class="Symbol">(</a><a id="5990" href="Function.html#flip" class="Function">flip</a> <a id="5995" href="MJ.Semantics.Values.html#904" class="Datatype">Val</a> <a id="5999" class="Symbol">(</a><a id="6000" href="MJ.Types.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="6004" href="MJ.Semantics.Monadic.html#5948" class="Bound">cid</a><a id="6007" class="Symbol">))</a>
  <a id="6012" href="MJ.Semantics.Monadic.html#constructM" class="Function">constructM</a> <a id="6023" href="MJ.Semantics.Monadic.html#6023" class="Bound">k</a> <a id="6025" href="MJ.Semantics.Monadic.html#6025" class="Bound">cid</a> <a id="6029" class="Keyword">with</a> <a id="6034" href="MJ.Semantics.Monadic.html#272" class="Bound">ℂ</a> <a id="6036" href="MJ.Semantics.Monadic.html#6025" class="Bound">cid</a>
  <a id="6042" href="MJ.Semantics.Monadic.html#constructM" class="Function">constructM</a> <a id="6053" href="MJ.Semantics.Monadic.html#6053" class="Bound">k</a> <a id="6055" href="MJ.Semantics.Monadic.html#6055" class="Bound">cid</a> <a id="6059" class="Symbol">|</a> <a id="6061" class="Symbol">(</a><a id="6062" href="MJ.Classtable.Code.html#2361" class="InductiveConstructor">implementation</a> <a id="6077" href="MJ.Semantics.Monadic.html#6077" class="Bound">construct</a> <a id="6087" href="MJ.Semantics.Monadic.html#6087" class="Bound">mbodies</a><a id="6094" class="Symbol">)</a> <a id="6096" class="Symbol">=</a>
    <a id="6102" href="MJ.Semantics.Monadic.html#store" class="Function">store</a> <a id="6108" class="Symbol">(</a><a id="6109" href="MJ.Semantics.Values.html#2453" class="InductiveConstructor">obj</a> <a id="6113" class="Symbol">_</a> <a id="6115" class="Symbol">(</a><a id="6116" href="MJ.Semantics.Values.html#2314" class="Function">defaultObject</a> <a id="6130" href="MJ.Semantics.Monadic.html#6055" class="Bound">cid</a><a id="6133" class="Symbol">))</a> <a id="6136" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="6140" class="Symbol">λ</a> <a id="6142" href="MJ.Semantics.Monadic.html#6142" class="Bound">r</a> <a id="6144" class="Symbol">→</a>
    <a id="6150" href="MJ.Semantics.Monadic.html#store" class="Function">store</a> <a id="6156" class="Symbol">(</a><a id="6157" href="MJ.Semantics.Values.html#2403" class="InductiveConstructor">val</a> <a id="6161" class="Symbol">(</a><a id="6162" href="MJ.Semantics.Values.html#1017" class="InductiveConstructor">ref</a> <a id="6166" href="MJ.Semantics.Monadic.html#6142" class="Bound">r</a> <a id="6168" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a><a id="6169" class="Symbol">))</a> <a id="6172" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="6174" href="MJ.Semantics.Monadic.html#6142" class="Bound">r</a> <a id="6176" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="6180" class="Symbol">λ{</a> <a id="6183" class="Symbol">(</a><a id="6184" href="MJ.Semantics.Monadic.html#6184" class="Bound">r&#39;</a> <a id="6187" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="6189" href="MJ.Semantics.Monadic.html#6189" class="Bound">r</a><a id="6190" class="Symbol">)</a> <a id="6192" class="Symbol">→</a>
    <a id="6198" href="MJ.Semantics.Monadic.html#getEnv" class="Function">getEnv</a> <a id="6205" class="Symbol">λ</a> <a id="6207" href="MJ.Semantics.Monadic.html#6207" class="Bound">E</a> <a id="6209" class="Symbol">→</a>
    <a id="6215" href="MJ.Semantics.Monadic.html#usingEnv" class="Function">usingEnv</a> <a id="6224" class="Symbol">(</a><a id="6225" href="MJ.Semantics.Monadic.html#6207" class="Bound">E</a> <a id="6227" href="MJ.Semantics.Values.html#1788" class="Function Operator">⊕</a> <a id="6229" href="MJ.Semantics.Monadic.html#6184" class="Bound">r&#39;</a><a id="6231" class="Symbol">)</a> <a id="6233" class="Symbol">(</a><a id="6234" href="MJ.Semantics.Monadic.html#eval-constructor" class="Function">eval-constructor</a> <a id="6251" href="MJ.Semantics.Monadic.html#6053" class="Bound">k</a> <a id="6253" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a> <a id="6255" href="MJ.Semantics.Monadic.html#6189" class="Bound">r</a> <a id="6257" href="MJ.Semantics.Monadic.html#6077" class="Bound">construct</a><a id="6266" class="Symbol">)</a> <a id="6268" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="6270" href="MJ.Semantics.Monadic.html#6189" class="Bound">r</a> <a id="6272" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="6276" class="Symbol">λ{</a> <a id="6279" class="Symbol">(_</a> <a id="6282" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="6284" href="MJ.Semantics.Monadic.html#6284" class="Bound">r</a><a id="6285" class="Symbol">)</a> <a id="6287" class="Symbol">→</a>
    <a id="6293" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="6300" href="Function.html#_%24_" class="Function Operator">$</a> <a id="6302" href="MJ.Semantics.Values.html#1017" class="InductiveConstructor">ref</a> <a id="6306" href="MJ.Semantics.Monadic.html#6284" class="Bound">r</a> <a id="6308" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a> <a id="6310" class="Symbol">}}</a>

  <a id="6316" class="Comment">{-
  Constructor interpretation:
  The difficult case being the one where we have a super call.
  -}</a>
  <a id="eval-constructor" href="MJ.Semantics.Monadic.html#eval-constructor" class="Function">eval-constructor</a> <a id="6436" class="Symbol">:</a> <a id="6438" class="Symbol">∀</a> <a id="6440" class="Symbol">{</a><a id="6441" href="MJ.Semantics.Monadic.html#6441" class="Bound">cid&#39;</a> <a id="6446" href="MJ.Semantics.Monadic.html#6446" class="Bound">cid</a> <a id="6450" href="MJ.Semantics.Monadic.html#6450" class="Bound">W</a><a id="6451" class="Symbol">}</a> <a id="6453" class="Symbol">→</a> <a id="6455" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="6457" class="Symbol">→</a> <a id="6459" href="MJ.Classtable.Core.html#2464" class="Function">Σ</a> <a id="6461" href="MJ.Classtable.Core.html#2074" class="Function Operator">⊢</a> <a id="6463" href="MJ.Semantics.Monadic.html#6441" class="Bound">cid&#39;</a> <a id="6468" href="MJ.Classtable.Core.html#2074" class="Function Operator">&lt;:</a> <a id="6471" href="MJ.Semantics.Monadic.html#6446" class="Bound">cid</a> <a id="6475" class="Symbol">→</a> <a id="6477" class="Symbol">(</a><a id="6478" href="MJ.Types.html#Ty%E2%81%BA.obj" class="InductiveConstructor">obj</a> <a id="6482" href="MJ.Semantics.Monadic.html#6441" class="Bound">cid&#39;</a><a id="6486" class="Symbol">)</a> <a id="6488" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="6490" href="MJ.Semantics.Monadic.html#6450" class="Bound">W</a> <a id="6492" class="Symbol">→</a> <a id="6494" href="MJ.Classtable.Code.html#1760" class="Datatype">Constructor</a> <a id="6506" href="MJ.Semantics.Monadic.html#6446" class="Bound">cid</a> <a id="6510" class="Symbol">→</a>
                     <a id="6533" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="6535" class="Symbol">(</a><a id="6536" href="MJ.Classtable.Code.html#988" class="Function">constrctx</a> <a id="6546" href="MJ.Semantics.Monadic.html#6446" class="Bound">cid</a><a id="6549" class="Symbol">)</a> <a id="6551" href="MJ.Semantics.Monadic.html#6450" class="Bound">W</a> <a id="6553" class="Symbol">(</a><a id="6554" href="Function.html#flip" class="Function">flip</a> <a id="6559" href="MJ.Semantics.Values.html#904" class="Datatype">Val</a> <a id="6563" href="MJ.Types.html#Ty.void" class="InductiveConstructor">void</a><a id="6567" class="Symbol">)</a>
  <a id="6571" href="MJ.Semantics.Monadic.html#eval-constructor" class="Function">eval-constructor</a> <a id="6588" href="Agda.Builtin.Nat.html#Nat.zero" class="InductiveConstructor">zero</a> <a id="6593" class="Symbol">_</a> <a id="6595" class="Symbol">_</a> <a id="6597" class="Symbol">_</a> <a id="6599" class="Symbol">=</a> <a id="6601" href="MJ.Semantics.Monadic.html#doTimeout" class="Function">doTimeout</a>
  <a id="6613" href="MJ.Semantics.Monadic.html#eval-constructor" class="Function">eval-constructor</a> <a id="6630" class="Symbol">{_}{</a><a id="6634" href="MJ.Types.html#Cid.Object" class="InductiveConstructor">Object</a><a id="6640" class="Symbol">}</a> <a id="6642" class="Symbol">(</a><a id="6643" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="6647" href="MJ.Semantics.Monadic.html#6647" class="Bound">k</a><a id="6648" class="Symbol">)</a> <a id="6650" class="Symbol">_</a> <a id="6652" class="Symbol">_</a> <a id="6654" class="Symbol">_</a> <a id="6656" class="Symbol">=</a> <a id="6658" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="6665" href="MJ.Semantics.Values.html#966" class="InductiveConstructor">unit</a>
  <a id="6672" href="MJ.Semantics.Monadic.html#eval-constructor" class="Function">eval-constructor</a> <a id="6689" class="Symbol">{_}{</a><a id="6693" href="MJ.Types.html#Cid.cls" class="InductiveConstructor">cls</a> <a id="6697" href="MJ.Semantics.Monadic.html#6697" class="Bound">cid</a><a id="6700" class="Symbol">}</a> <a id="6702" class="Symbol">(</a><a id="6703" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="6707" href="MJ.Semantics.Monadic.html#6707" class="Bound">k</a><a id="6708" class="Symbol">)</a> <a id="6710" href="MJ.Semantics.Monadic.html#6710" class="Bound">s</a> <a id="6712" href="MJ.Semantics.Monadic.html#6712" class="Bound">o∈W</a> <a id="6716" class="Symbol">(</a><a id="6717" href="MJ.Classtable.Code.html#1800" class="InductiveConstructor Operator">super</a> <a id="6723" href="MJ.Semantics.Monadic.html#6723" class="Bound">args</a> <a id="6728" href="MJ.Classtable.Code.html#1800" class="InductiveConstructor Operator">then</a> <a id="6733" href="MJ.Semantics.Monadic.html#6733" class="Bound">b</a><a id="6734" class="Symbol">)</a> <a id="6736" class="Symbol">=</a>
    <a id="6742" class="Comment">-- evaluate super call</a>
    <a id="6769" class="Keyword">let</a>
      <a id="6779" href="MJ.Semantics.Monadic.html#6779" class="Bound">s&#39;</a>   <a id="6784" class="Symbol">=</a> <a id="6786" href="MJ.Semantics.Monadic.html#6710" class="Bound">s</a> <a id="6788" href="Data.Star.html#_%E2%97%85%E2%97%85_" class="Function Operator">◅◅</a> <a id="6791" href="MJ.Classtable.Core.html#1988" class="InductiveConstructor">super</a> <a id="6797" href="Data.Star.html#Star._%E2%97%85_" class="InductiveConstructor Operator">◅</a> <a id="6799" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a>
      <a id="6807" href="MJ.Semantics.Monadic.html#6807" class="Bound">super-con</a> <a id="6817" class="Symbol">=</a> <a id="6819" href="MJ.Classtable.Code.html#2416" class="Field">Implementation.construct</a> <a id="6844" class="Symbol">(</a><a id="6845" href="MJ.Semantics.Monadic.html#272" class="Bound">ℂ</a> <a id="6847" class="Symbol">(</a><a id="6848" href="MJ.Classtable.Core.html#1438" class="Field">Class.parent</a> <a id="6861" class="Symbol">(</a><a id="6862" href="MJ.Classtable.Core.html#2464" class="Function">Σ</a> <a id="6864" class="Symbol">(</a><a id="6865" href="MJ.Types.html#Cid.cls" class="InductiveConstructor">cls</a> <a id="6869" href="MJ.Semantics.Monadic.html#6697" class="Bound">cid</a><a id="6872" class="Symbol">))))</a>
    <a id="6881" class="Keyword">in</a>
    <a id="6888" href="MJ.Semantics.Monadic.html#eval-args" class="Function">eval-args</a> <a id="6898" href="MJ.Semantics.Monadic.html#6707" class="Bound">k</a> <a id="6900" href="MJ.Semantics.Monadic.html#6723" class="Bound">args</a> <a id="6905" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="6907" href="MJ.Semantics.Monadic.html#6712" class="Bound">o∈W</a> <a id="6911" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="6915" class="Symbol">λ{</a> <a id="6918" class="Symbol">(</a><a id="6919" href="MJ.Semantics.Monadic.html#6919" class="Bound">rvs</a> <a id="6923" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="6925" href="MJ.Semantics.Monadic.html#6925" class="Bound">o∈W</a><a id="6928" class="Symbol">)</a> <a id="6930" class="Symbol">→</a> <a id="6932" class="Comment">-- arguments</a>
    <a id="6949" href="MJ.Semantics.Monadic.html#getEnv" class="Function">getEnv</a> <a id="6956" class="Symbol">λ{</a> <a id="6959" class="Symbol">(</a><a id="6960" href="MJ.Semantics.Monadic.html#6960" class="Bound">self</a> <a id="6965" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="6967" class="Symbol">_)</a> <a id="6970" class="Symbol">→</a>
      <a id="6978" class="Comment">-- store a parent pointer for passing to super</a>
      <a id="7031" href="MJ.Semantics.Monadic.html#store" class="Function">store</a> <a id="7037" class="Symbol">(</a><a id="7038" href="MJ.Semantics.Values.html#2403" class="InductiveConstructor">val</a> <a id="7042" class="Symbol">(</a><a id="7043" href="MJ.Semantics.Values.html#1017" class="InductiveConstructor">ref</a> <a id="7047" href="MJ.Semantics.Monadic.html#6925" class="Bound">o∈W</a> <a id="7051" href="MJ.Semantics.Monadic.html#6779" class="Bound">s&#39;</a><a id="7053" class="Symbol">))</a> <a id="7056" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="7058" href="MJ.Semantics.Monadic.html#6925" class="Bound">o∈W</a> <a id="7062" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="7064" href="MJ.Semantics.Monadic.html#6919" class="Bound">rvs</a> <a id="7068" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="7072" class="Symbol">λ{</a> <a id="7075" class="Symbol">((</a><a id="7077" href="MJ.Semantics.Monadic.html#7077" class="Bound">sup</a> <a id="7081" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="7083" href="MJ.Semantics.Monadic.html#7083" class="Bound">o∈W</a><a id="7086" class="Symbol">)</a> <a id="7088" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="7090" href="MJ.Semantics.Monadic.html#7090" class="Bound">rvs</a><a id="7093" class="Symbol">)</a> <a id="7095" class="Symbol">→</a>
      <a id="7103" href="MJ.Semantics.Monadic.html#usingEnv" class="Function">usingEnv</a> <a id="7112" class="Symbol">(</a><a id="7113" href="MJ.Semantics.Monadic.html#7077" class="Bound">sup</a> <a id="7117" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="7119" href="MJ.Semantics.Monadic.html#7090" class="Bound">rvs</a><a id="7122" class="Symbol">)</a> <a id="7124" class="Symbol">(</a><a id="7125" href="MJ.Semantics.Monadic.html#eval-constructor" class="Function">eval-constructor</a> <a id="7142" href="MJ.Semantics.Monadic.html#6707" class="Bound">k</a> <a id="7144" href="MJ.Semantics.Monadic.html#6779" class="Bound">s&#39;</a> <a id="7147" href="MJ.Semantics.Monadic.html#7083" class="Bound">o∈W</a> <a id="7151" href="MJ.Semantics.Monadic.html#6807" class="Bound">super-con</a><a id="7160" class="Symbol">)</a> <a id="7162" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="7166" class="Symbol">λ</a> <a id="7168" href="MJ.Semantics.Monadic.html#7168" class="Bound">_</a> <a id="7170" class="Symbol">→</a>

      <a id="7179" class="Comment">-- evaluate own body</a>
      <a id="7206" href="MJ.Semantics.Monadic.html#eval-body" class="Function">eval-body</a> <a id="7216" href="MJ.Semantics.Monadic.html#6707" class="Bound">k</a> <a id="7218" href="MJ.Semantics.Monadic.html#6733" class="Bound">b</a> <a id="7220" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="7224" class="Symbol">λ</a> <a id="7226" href="MJ.Semantics.Monadic.html#7226" class="Bound">_</a> <a id="7228" class="Symbol">→</a>
      <a id="7236" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="7243" href="MJ.Semantics.Values.html#966" class="InductiveConstructor">unit</a>
    <a id="7252" class="Symbol">}}}</a>
  <a id="7258" href="MJ.Semantics.Monadic.html#eval-constructor" class="Function">eval-constructor</a> <a id="7275" class="Symbol">{_}{</a><a id="7279" href="MJ.Types.html#Cid.cls" class="InductiveConstructor">cls</a> <a id="7283" href="MJ.Semantics.Monadic.html#7283" class="Bound">id</a><a id="7285" class="Symbol">}</a> <a id="7287" class="Symbol">(</a><a id="7288" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="7292" href="MJ.Semantics.Monadic.html#7292" class="Bound">k</a><a id="7293" class="Symbol">)</a> <a id="7295" class="Symbol">_</a> <a id="7297" class="Symbol">_</a> <a id="7299" class="Symbol">(</a><a id="7300" href="MJ.Classtable.Code.html#2144" class="InductiveConstructor">body</a> <a id="7305" href="MJ.Semantics.Monadic.html#7305" class="Bound">x</a><a id="7306" class="Symbol">)</a> <a id="7308" class="Symbol">=</a>
    <a id="7314" href="MJ.Semantics.Monadic.html#eval-body" class="Function">eval-body</a> <a id="7324" href="MJ.Semantics.Monadic.html#7292" class="Bound">k</a> <a id="7326" href="MJ.Semantics.Monadic.html#7305" class="Bound">x</a> <a id="7328" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="7332" class="Symbol">λ</a> <a id="7334" href="MJ.Semantics.Monadic.html#7334" class="Bound">_</a> <a id="7336" class="Symbol">→</a>
    <a id="7342" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="7349" href="MJ.Semantics.Values.html#966" class="InductiveConstructor">unit</a>

  <a id="7357" class="Comment">{-
  Method evaluation including super calls.
  The difficult case again being the one where we have a super call.
  -}</a>
  <a id="eval-method" href="MJ.Semantics.Monadic.html#eval-method" class="Function">eval-method</a> <a id="7491" class="Symbol">:</a> <a id="7493" class="Symbol">∀</a> <a id="7495" class="Symbol">{</a><a id="7496" href="MJ.Semantics.Monadic.html#7496" class="Bound">cid</a> <a id="7500" href="MJ.Semantics.Monadic.html#7500" class="Bound">m</a> <a id="7502" href="MJ.Semantics.Monadic.html#7502" class="Bound">as</a> <a id="7505" href="MJ.Semantics.Monadic.html#7505" class="Bound">b</a> <a id="7507" href="MJ.Semantics.Monadic.html#7507" class="Bound">pid</a> <a id="7511" href="MJ.Semantics.Monadic.html#7511" class="Bound">W</a> <a id="7513" href="MJ.Semantics.Monadic.html#7513" class="Bound">Γ</a><a id="7514" class="Symbol">}</a> <a id="7516" class="Symbol">→</a> <a id="7518" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="7520" class="Symbol">→</a>
                <a id="7538" href="MJ.Classtable.Core.html#2464" class="Function">Σ</a> <a id="7540" href="MJ.Classtable.Core.html#2074" class="Function Operator">⊢</a> <a id="7542" href="MJ.Semantics.Monadic.html#7496" class="Bound">cid</a> <a id="7546" href="MJ.Classtable.Core.html#2074" class="Function Operator">&lt;:</a> <a id="7549" href="MJ.Semantics.Monadic.html#7507" class="Bound">pid</a> <a id="7553" class="Symbol">→</a> <a id="7555" class="Symbol">(</a><a id="7556" href="MJ.Types.html#Ty%E2%81%BA.obj" class="InductiveConstructor">obj</a> <a id="7560" href="MJ.Semantics.Monadic.html#7496" class="Bound">cid</a><a id="7563" class="Symbol">)</a> <a id="7565" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="7567" href="MJ.Semantics.Monadic.html#7511" class="Bound">W</a> <a id="7569" class="Symbol">→</a>
                <a id="7587" href="Data.List.All.html#All" class="Datatype">All</a> <a id="7591" class="Symbol">(λ</a> <a id="7594" href="MJ.Semantics.Monadic.html#7594" class="Bound">ty</a> <a id="7597" class="Symbol">→</a> <a id="7599" href="MJ.Types.html#Ty%E2%81%BA.vty" class="InductiveConstructor">vty</a> <a id="7603" href="MJ.Semantics.Monadic.html#7594" class="Bound">ty</a> <a id="7606" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="7608" href="MJ.Semantics.Monadic.html#7511" class="Bound">W</a><a id="7609" class="Symbol">)</a> <a id="7611" href="MJ.Semantics.Monadic.html#7502" class="Bound">as</a> <a id="7614" class="Symbol">→</a>
                <a id="7632" href="MJ.Classtable.Code.html#2717" class="Function">InheritedMethod</a> <a id="7648" href="MJ.Semantics.Monadic.html#7507" class="Bound">pid</a> <a id="7652" href="MJ.Semantics.Monadic.html#7500" class="Bound">m</a> <a id="7654" class="Symbol">(</a><a id="7655" href="MJ.Semantics.Monadic.html#7502" class="Bound">as</a> <a id="7658" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="7660" href="MJ.Semantics.Monadic.html#7505" class="Bound">b</a><a id="7661" class="Symbol">)</a> <a id="7663" class="Symbol">→</a> <a id="7665" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="7667" href="MJ.Semantics.Monadic.html#7513" class="Bound">Γ</a> <a id="7669" href="MJ.Semantics.Monadic.html#7511" class="Bound">W</a> <a id="7671" class="Symbol">(</a><a id="7672" href="Function.html#flip" class="Function">flip</a> <a id="7677" href="MJ.Semantics.Values.html#904" class="Datatype">Val</a> <a id="7681" href="MJ.Semantics.Monadic.html#7505" class="Bound">b</a><a id="7682" class="Symbol">)</a>
  <a id="7686" href="MJ.Semantics.Monadic.html#eval-method" class="Function">eval-method</a> <a id="7698" href="Agda.Builtin.Nat.html#Nat.zero" class="InductiveConstructor">zero</a> <a id="7703" class="Symbol">_</a> <a id="7705" class="Symbol">_</a> <a id="7707" class="Symbol">_</a> <a id="7709" class="Symbol">_</a> <a id="7711" class="Symbol">=</a> <a id="7713" href="MJ.Semantics.Monadic.html#doTimeout" class="Function">doTimeout</a>
  <a id="7725" href="MJ.Semantics.Monadic.html#eval-method" class="Function">eval-method</a> <a id="7737" class="Symbol">(</a><a id="7738" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="7742" href="MJ.Semantics.Monadic.html#7742" class="Bound">k</a><a id="7743" class="Symbol">)</a> <a id="7745" href="MJ.Semantics.Monadic.html#7745" class="Bound">s</a> <a id="7747" href="MJ.Semantics.Monadic.html#7747" class="Bound">o</a> <a id="7749" href="MJ.Semantics.Monadic.html#7749" class="Bound">args</a> <a id="7754" class="Symbol">(</a><a id="7755" href="MJ.Semantics.Monadic.html#7755" class="Bound">pid&#39;</a> <a id="7760" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="7762" href="MJ.Semantics.Monadic.html#7762" class="Bound">pid&lt;:pid&#39;</a> <a id="7772" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="7774" href="MJ.Classtable.Code.html#1651" class="InductiveConstructor">body</a> <a id="7779" href="MJ.Semantics.Monadic.html#7779" class="Bound">b</a><a id="7780" class="Symbol">)</a> <a id="7782" class="Symbol">=</a>
    <a id="7788" href="MJ.Semantics.Monadic.html#store" class="Function">store</a> <a id="7794" class="Symbol">(</a><a id="7795" href="MJ.Semantics.Values.html#2403" class="InductiveConstructor">val</a> <a id="7799" class="Symbol">(</a><a id="7800" href="MJ.Semantics.Values.html#1017" class="InductiveConstructor">ref</a> <a id="7804" href="MJ.Semantics.Monadic.html#7747" class="Bound">o</a> <a id="7806" class="Symbol">(</a><a id="7807" href="MJ.Semantics.Monadic.html#7745" class="Bound">s</a> <a id="7809" href="Data.Star.html#_%E2%97%85%E2%97%85_" class="Function Operator">◅◅</a> <a id="7812" href="MJ.Semantics.Monadic.html#7762" class="Bound">pid&lt;:pid&#39;</a><a id="7821" class="Symbol">)))</a> <a id="7825" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="7827" href="MJ.Semantics.Monadic.html#7749" class="Bound">args</a> <a id="7832" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="7836" class="Symbol">λ{</a> <a id="7839" class="Symbol">(</a><a id="7840" href="MJ.Semantics.Monadic.html#7840" class="Bound">mutself</a> <a id="7848" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="7850" href="MJ.Semantics.Monadic.html#7850" class="Bound">args</a><a id="7854" class="Symbol">)</a> <a id="7856" class="Symbol">→</a>
    <a id="7862" href="MJ.Semantics.Monadic.html#usingEnv" class="Function">usingEnv</a> <a id="7871" class="Symbol">(</a><a id="7872" href="MJ.Semantics.Monadic.html#7840" class="Bound">mutself</a> <a id="7880" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="7882" href="MJ.Semantics.Monadic.html#7850" class="Bound">args</a><a id="7886" class="Symbol">)</a> <a id="7888" class="Symbol">(</a><a id="7889" href="MJ.Semantics.Monadic.html#eval-body" class="Function">eval-body</a> <a id="7899" href="MJ.Semantics.Monadic.html#7742" class="Bound">k</a> <a id="7901" href="MJ.Semantics.Monadic.html#7779" class="Bound">b</a><a id="7902" class="Symbol">)</a> <a id="7904" class="Symbol">}</a>
  <a id="7908" href="MJ.Semantics.Monadic.html#eval-method" class="Function">eval-method</a> <a id="7920" class="Symbol">{_}{</a><a id="7924" href="MJ.Semantics.Monadic.html#7924" class="Bound">m</a><a id="7925" class="Symbol">}{</a><a id="7927" href="MJ.Semantics.Monadic.html#7927" class="Bound">as</a><a id="7929" class="Symbol">}{</a><a id="7931" href="MJ.Semantics.Monadic.html#7931" class="Bound">b</a><a id="7932" class="Symbol">}</a> <a id="7934" class="Symbol">(</a><a id="7935" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="7939" href="MJ.Semantics.Monadic.html#7939" class="Bound">k</a><a id="7940" class="Symbol">)</a> <a id="7942" href="MJ.Semantics.Monadic.html#7942" class="Bound">s</a> <a id="7944" href="MJ.Semantics.Monadic.html#7944" class="Bound">o</a> <a id="7946" href="MJ.Semantics.Monadic.html#7946" class="Bound">args</a> <a id="7951" class="Symbol">(</a><a id="7952" href="MJ.Types.html#Cid.Object" class="InductiveConstructor">Object</a> <a id="7959" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="7961" class="Symbol">_</a> <a id="7963" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="7965" href="MJ.Classtable.Code.html#1206" class="InductiveConstructor Operator">super</a> <a id="7971" href="MJ.Semantics.Monadic.html#7971" class="Bound">x</a> <a id="7973" href="MJ.Classtable.Code.html#1206" class="InductiveConstructor Operator">⟨</a> <a id="7975" class="Symbol">_</a> <a id="7977" href="MJ.Classtable.Code.html#1206" class="InductiveConstructor Operator">⟩then</a> <a id="7983" class="Symbol">_)</a> <a id="7986" class="Keyword">rewrite</a> <a id="7994" href="MJ.Classtable.Core.html#2578" class="Function">Σ-Object</a> <a id="8003" class="Symbol">=</a>
    <a id="8009" class="Comment">-- calling a method on Object is improbable...</a>
    <a id="8060" href="Data.Empty.html#%E2%8A%A5-elim" class="Function">⊥-elim</a> <a id="8067" class="Symbol">(</a><a id="8068" href="MJ.Classtable.Membership.html#1146" class="Function">∉Object</a> <a id="8076" class="Symbol">{</a><a id="8077" href="MJ.Classtable.Core.html#643" class="InductiveConstructor">METHOD</a><a id="8083" class="Symbol">}{</a><a id="8085" href="MJ.Semantics.Monadic.html#7924" class="Bound">m</a><a id="8086" class="Symbol">}{(</a><a id="8089" href="MJ.Semantics.Monadic.html#7927" class="Bound">as</a> <a id="8092" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="8094" href="MJ.Semantics.Monadic.html#7931" class="Bound">b</a><a id="8095" class="Symbol">)}(</a><a id="8098" href="MJ.Classtable.Membership.html#2479" class="Function">sound</a> <a id="8104" href="MJ.Semantics.Monadic.html#7971" class="Bound">x</a><a id="8105" class="Symbol">))</a>
  <a id="8110" href="MJ.Semantics.Monadic.html#eval-method" class="Function">eval-method</a> <a id="8122" class="Symbol">(</a><a id="8123" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="8127" href="MJ.Semantics.Monadic.html#8127" class="Bound">k</a><a id="8128" class="Symbol">)</a> <a id="8130" href="MJ.Semantics.Monadic.html#8130" class="Bound">s</a> <a id="8132" href="MJ.Semantics.Monadic.html#8132" class="Bound">o</a> <a id="8134" href="MJ.Semantics.Monadic.html#8134" class="Bound">args</a> <a id="8139" class="Symbol">(</a><a id="8140" href="MJ.Types.html#Cid.cls" class="InductiveConstructor">cls</a> <a id="8144" href="MJ.Semantics.Monadic.html#8144" class="Bound">pid&#39;</a> <a id="8149" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="8151" href="MJ.Semantics.Monadic.html#8151" class="Bound">pid&lt;:pid&#39;</a> <a id="8161" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="8163" href="MJ.Classtable.Code.html#1206" class="InductiveConstructor Operator">super</a> <a id="8169" href="MJ.Semantics.Monadic.html#8169" class="Bound">x</a> <a id="8171" href="MJ.Classtable.Code.html#1206" class="InductiveConstructor Operator">⟨</a> <a id="8173" href="MJ.Semantics.Monadic.html#8173" class="Bound">supargs</a> <a id="8181" href="MJ.Classtable.Code.html#1206" class="InductiveConstructor Operator">⟩then</a> <a id="8187" href="MJ.Semantics.Monadic.html#8187" class="Bound">b</a><a id="8188" class="Symbol">)</a> <a id="8190" class="Symbol">=</a>
    <a id="8196" class="Keyword">let</a> <a id="8200" href="MJ.Semantics.Monadic.html#8200" class="Bound">super-met</a> <a id="8210" class="Symbol">=</a> <a id="8212" href="MJ.Semantics.Monadic.html#mbody" class="Function">mbody</a> <a id="8218" class="Symbol">(</a><a id="8219" href="MJ.Classtable.Core.html#1438" class="Field">Class.parent</a> <a id="8232" class="Symbol">(</a><a id="8233" href="MJ.Classtable.Core.html#2464" class="Function">Σ</a> <a id="8235" class="Symbol">(</a><a id="8236" href="MJ.Types.html#Cid.cls" class="InductiveConstructor">cls</a> <a id="8240" href="MJ.Semantics.Monadic.html#8144" class="Bound">pid&#39;</a><a id="8244" class="Symbol">)))</a> <a id="8248" href="MJ.Semantics.Monadic.html#8169" class="Bound">x</a> <a id="8250" class="Keyword">in</a>
      <a id="8259" href="MJ.Semantics.Monadic.html#store" class="Function">store</a> <a id="8265" class="Symbol">(</a><a id="8266" href="MJ.Semantics.Values.html#2403" class="InductiveConstructor">val</a> <a id="8270" class="Symbol">(</a><a id="8271" href="MJ.Semantics.Values.html#1017" class="InductiveConstructor">ref</a> <a id="8275" href="MJ.Semantics.Monadic.html#8132" class="Bound">o</a> <a id="8277" class="Symbol">(</a><a id="8278" href="MJ.Semantics.Monadic.html#8130" class="Bound">s</a> <a id="8280" href="Data.Star.html#_%E2%97%85%E2%97%85_" class="Function Operator">◅◅</a> <a id="8283" href="MJ.Semantics.Monadic.html#8151" class="Bound">pid&lt;:pid&#39;</a><a id="8292" class="Symbol">)))</a> <a id="8296" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="8298" class="Symbol">(</a><a id="8299" href="MJ.Semantics.Monadic.html#8134" class="Bound">args</a> <a id="8304" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="8306" href="MJ.Semantics.Monadic.html#8132" class="Bound">o</a><a id="8307" class="Symbol">)</a> <a id="8309" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="8313" class="Symbol">λ{</a> <a id="8316" class="Symbol">(</a><a id="8317" href="MJ.Semantics.Monadic.html#8317" class="Bound">mutself</a> <a id="8325" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="8327" href="MJ.Semantics.Monadic.html#8327" class="Bound">args</a> <a id="8332" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="8334" href="MJ.Semantics.Monadic.html#8334" class="Bound">o</a><a id="8335" class="Symbol">)</a> <a id="8337" class="Symbol">→</a>
      <a id="8345" class="Comment">-- eval super args in method context</a>
      <a id="8388" href="MJ.Semantics.Monadic.html#usingEnv" class="Function">usingEnv</a> <a id="8397" class="Symbol">(</a><a id="8398" href="MJ.Semantics.Monadic.html#8317" class="Bound">mutself</a> <a id="8406" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="8408" href="MJ.Semantics.Monadic.html#8327" class="Bound">args</a><a id="8412" class="Symbol">)</a> <a id="8414" class="Symbol">(</a><a id="8415" href="MJ.Semantics.Monadic.html#eval-args" class="Function">eval-args</a> <a id="8425" href="MJ.Semantics.Monadic.html#8127" class="Bound">k</a> <a id="8427" href="MJ.Semantics.Monadic.html#8173" class="Bound">supargs</a><a id="8434" class="Symbol">)</a> <a id="8436" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="8438" class="Symbol">(</a><a id="8439" href="MJ.Semantics.Monadic.html#8327" class="Bound">args</a> <a id="8444" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="8446" href="MJ.Semantics.Monadic.html#8334" class="Bound">o</a><a id="8447" class="Symbol">)</a> <a id="8449" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="8453" class="Symbol">λ{</a> <a id="8456" class="Symbol">(</a><a id="8457" href="MJ.Semantics.Monadic.html#8457" class="Bound">rvs</a> <a id="8461" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="8463" href="MJ.Semantics.Monadic.html#8463" class="Bound">args</a> <a id="8468" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="8470" href="MJ.Semantics.Monadic.html#8470" class="Bound">o</a><a id="8471" class="Symbol">)</a> <a id="8473" class="Symbol">→</a>
      <a id="8481" class="Comment">-- call super</a>
      <a id="8501" href="MJ.Semantics.Monadic.html#eval-method" class="Function">eval-method</a> <a id="8513" href="MJ.Semantics.Monadic.html#8127" class="Bound">k</a> <a id="8515" class="Symbol">(</a><a id="8516" href="MJ.Semantics.Monadic.html#8130" class="Bound">s</a> <a id="8518" href="Data.Star.html#_%E2%97%85%E2%97%85_" class="Function Operator">◅◅</a> <a id="8521" href="MJ.Semantics.Monadic.html#8151" class="Bound">pid&lt;:pid&#39;</a> <a id="8531" href="Data.Star.html#_%E2%97%85%E2%97%85_" class="Function Operator">◅◅</a> <a id="8534" href="MJ.Classtable.Core.html#1988" class="InductiveConstructor">super</a> <a id="8540" href="Data.Star.html#Star._%E2%97%85_" class="InductiveConstructor Operator">◅</a> <a id="8542" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a><a id="8543" class="Symbol">)</a> <a id="8545" href="MJ.Semantics.Monadic.html#8470" class="Bound">o</a> <a id="8547" href="MJ.Semantics.Monadic.html#8457" class="Bound">rvs</a> <a id="8551" href="MJ.Semantics.Monadic.html#8200" class="Bound">super-met</a> <a id="8561" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="8563" class="Symbol">(</a><a id="8564" href="MJ.Semantics.Monadic.html#8463" class="Bound">args</a> <a id="8569" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="8571" href="MJ.Semantics.Monadic.html#8470" class="Bound">o</a><a id="8572" class="Symbol">)</a> <a id="8574" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="8578" class="Symbol">λ{</a> <a id="8581" class="Symbol">(</a><a id="8582" href="MJ.Semantics.Monadic.html#8582" class="Bound">retv</a> <a id="8587" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="8589" href="MJ.Semantics.Monadic.html#8589" class="Bound">args</a> <a id="8594" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="8596" href="MJ.Semantics.Monadic.html#8596" class="Bound">o</a><a id="8597" class="Symbol">)</a> <a id="8599" class="Symbol">→</a>
      <a id="8607" class="Comment">-- store the super return value to be used as a mutable local</a>
      <a id="8675" href="MJ.Semantics.Monadic.html#store" class="Function">store</a> <a id="8681" class="Symbol">(</a><a id="8682" href="MJ.Semantics.Values.html#2403" class="InductiveConstructor">val</a> <a id="8686" href="MJ.Semantics.Monadic.html#8582" class="Bound">retv</a><a id="8690" class="Symbol">)</a> <a id="8692" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="8694" class="Symbol">(</a><a id="8695" href="MJ.Semantics.Monadic.html#8589" class="Bound">args</a> <a id="8700" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="8702" href="MJ.Semantics.Monadic.html#8596" class="Bound">o</a><a id="8703" class="Symbol">)</a> <a id="8705" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="8709" class="Symbol">λ{</a> <a id="8712" class="Symbol">(</a><a id="8713" href="MJ.Semantics.Monadic.html#8713" class="Bound">mutret</a> <a id="8720" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="8722" href="MJ.Semantics.Monadic.html#8722" class="Bound">args</a> <a id="8727" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="8729" href="MJ.Semantics.Monadic.html#8729" class="Bound">o</a><a id="8730" class="Symbol">)</a> <a id="8732" class="Symbol">→</a>
      <a id="8740" class="Comment">-- store the mutable &quot;this&quot;</a>
      <a id="8774" href="MJ.Semantics.Monadic.html#store" class="Function">store</a> <a id="8780" class="Symbol">(</a><a id="8781" href="MJ.Semantics.Values.html#2403" class="InductiveConstructor">val</a> <a id="8785" class="Symbol">(</a><a id="8786" href="MJ.Semantics.Values.html#1017" class="InductiveConstructor">ref</a> <a id="8790" href="MJ.Semantics.Monadic.html#8729" class="Bound">o</a> <a id="8792" class="Symbol">(</a><a id="8793" href="MJ.Semantics.Monadic.html#8130" class="Bound">s</a> <a id="8795" href="Data.Star.html#_%E2%97%85%E2%97%85_" class="Function Operator">◅◅</a> <a id="8798" href="MJ.Semantics.Monadic.html#8151" class="Bound">pid&lt;:pid&#39;</a><a id="8807" class="Symbol">)))</a> <a id="8811" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="8813" class="Symbol">(</a><a id="8814" href="MJ.Semantics.Monadic.html#8713" class="Bound">mutret</a> <a id="8821" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="8823" href="MJ.Semantics.Monadic.html#8722" class="Bound">args</a><a id="8827" class="Symbol">)</a> <a id="8829" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="8833" class="Symbol">λ{</a> <a id="8836" class="Symbol">(</a><a id="8837" href="MJ.Semantics.Monadic.html#8837" class="Bound">mutself&#39;</a> <a id="8846" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="8848" href="MJ.Semantics.Monadic.html#8848" class="Bound">mutret</a> <a id="8855" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="8857" href="MJ.Semantics.Monadic.html#8857" class="Bound">args</a><a id="8861" class="Symbol">)</a> <a id="8863" class="Symbol">→</a>
      <a id="8871" class="Comment">-- call body</a>
      <a id="8890" href="MJ.Semantics.Monadic.html#usingEnv" class="Function">usingEnv</a> <a id="8899" class="Symbol">(</a><a id="8900" href="MJ.Semantics.Monadic.html#8848" class="Bound">mutret</a> <a id="8907" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="8909" href="MJ.Semantics.Monadic.html#8837" class="Bound">mutself&#39;</a> <a id="8918" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="8920" href="MJ.Semantics.Monadic.html#8857" class="Bound">args</a><a id="8924" class="Symbol">)</a> <a id="8926" class="Symbol">(</a><a id="8927" href="MJ.Semantics.Monadic.html#eval-body" class="Function">eval-body</a> <a id="8937" href="MJ.Semantics.Monadic.html#8127" class="Bound">k</a> <a id="8939" href="MJ.Semantics.Monadic.html#8187" class="Bound">b</a><a id="8940" class="Symbol">)</a> <a id="8942" class="Symbol">}}}}}</a>

  <a id="8951" class="Comment">{-
  evaluation of expressions
  -}</a>
  <a id="evalₑ" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="8995" class="Symbol">:</a> <a id="8997" class="Symbol">∀</a> <a id="8999" class="Symbol">{</a><a id="9000" href="MJ.Semantics.Monadic.html#9000" class="Bound">Γ</a> <a id="9002" class="Symbol">:</a> <a id="9004" href="MJ.LexicalScope.html#226" class="Function">Ctx</a><a id="9007" class="Symbol">}{</a><a id="9009" href="MJ.Semantics.Monadic.html#9009" class="Bound">a</a><a id="9010" class="Symbol">}</a> <a id="9012" class="Symbol">→</a> <a id="9014" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="9016" class="Symbol">→</a> <a id="9018" href="MJ.Syntax.Typed.html#1148" class="Datatype">Expr</a> <a id="9023" href="MJ.Semantics.Monadic.html#9000" class="Bound">Γ</a> <a id="9025" href="MJ.Semantics.Monadic.html#9009" class="Bound">a</a> <a id="9027" class="Symbol">→</a> <a id="9029" class="Symbol">∀</a> <a id="9031" class="Symbol">{</a><a id="9032" href="MJ.Semantics.Monadic.html#9032" class="Bound">W</a><a id="9033" class="Symbol">}</a> <a id="9035" class="Symbol">→</a> <a id="9037" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="9039" href="MJ.Semantics.Monadic.html#9000" class="Bound">Γ</a> <a id="9041" href="MJ.Semantics.Monadic.html#9032" class="Bound">W</a> <a id="9043" class="Symbol">(</a><a id="9044" href="Function.html#flip" class="Function">flip</a> <a id="9049" href="MJ.Semantics.Values.html#904" class="Datatype">Val</a> <a id="9053" href="MJ.Semantics.Monadic.html#9009" class="Bound">a</a><a id="9054" class="Symbol">)</a>
  <a id="9058" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="9064" href="Agda.Builtin.Nat.html#Nat.zero" class="InductiveConstructor">zero</a> <a id="9069" class="Symbol">_</a> <a id="9071" class="Symbol">=</a> <a id="9073" href="MJ.Semantics.Monadic.html#doTimeout" class="Function">doTimeout</a>

  <a id="9086" class="Comment">-- primitive values</a>
  <a id="9108" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="9114" class="Symbol">(</a><a id="9115" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="9119" href="MJ.Semantics.Monadic.html#9119" class="Bound">k</a><a id="9120" class="Symbol">)</a> <a id="9122" href="MJ.Syntax.Typed.html#1213" class="InductiveConstructor">unit</a> <a id="9127" class="Symbol">=</a>
    <a id="9133" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="9140" href="MJ.Semantics.Values.html#966" class="InductiveConstructor">unit</a>

  <a id="9148" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="9154" class="Symbol">(</a><a id="9155" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="9159" href="MJ.Semantics.Monadic.html#9159" class="Bound">k</a><a id="9160" class="Symbol">)</a> <a id="9162" class="Symbol">(</a><a id="9163" href="MJ.Syntax.Typed.html#1274" class="InductiveConstructor">num</a> <a id="9167" href="MJ.Semantics.Monadic.html#9167" class="Bound">n</a><a id="9168" class="Symbol">)</a> <a id="9170" class="Symbol">=</a>
    <a id="9176" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="9183" class="Symbol">(</a><a id="9184" href="MJ.Semantics.Values.html#943" class="InductiveConstructor">num</a> <a id="9188" href="MJ.Semantics.Monadic.html#9167" class="Bound">n</a><a id="9189" class="Symbol">)</a>

  <a id="9194" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="9200" class="Symbol">(</a><a id="9201" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="9205" href="MJ.Semantics.Monadic.html#9205" class="Bound">k</a><a id="9206" class="Symbol">)</a> <a id="9208" href="MJ.Syntax.Typed.html#1238" class="InductiveConstructor">null</a> <a id="9213" class="Symbol">=</a>
    <a id="9219" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="9226" href="MJ.Semantics.Values.html#986" class="InductiveConstructor">null</a>

  <a id="9234" class="Comment">-- variable lookup</a>
  <a id="9255" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="9261" class="Symbol">(</a><a id="9262" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="9266" href="MJ.Semantics.Monadic.html#9266" class="Bound">k</a><a id="9267" class="Symbol">)</a> <a id="9269" class="Symbol">(</a><a id="9270" href="MJ.Syntax.Typed.html#1330" class="InductiveConstructor">var</a> <a id="9274" href="MJ.Semantics.Monadic.html#9274" class="Bound">x</a><a id="9275" class="Symbol">)</a> <a id="9277" class="Symbol">=</a>
    <a id="9283" href="MJ.Semantics.Monadic.html#getEnv" class="Function">getEnv</a> <a id="9290" class="Symbol">(λ</a> <a id="9293" href="MJ.Semantics.Monadic.html#9293" class="Bound">E</a> <a id="9295" class="Symbol">→</a> <a id="9297" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="9304" href="Function.html#_%24_" class="Function Operator">$</a> <a id="9306" href="MJ.Semantics.Values.html#1892" class="Function">getvar</a> <a id="9313" href="MJ.Semantics.Monadic.html#9274" class="Bound">x</a> <a id="9315" href="MJ.Semantics.Monadic.html#9293" class="Bound">E</a><a id="9316" class="Symbol">)</a> <a id="9318" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="9322" class="Symbol">λ</a> <a id="9324" href="MJ.Semantics.Monadic.html#9324" class="Bound">v</a> <a id="9326" class="Symbol">→</a>
    <a id="9332" href="MJ.Semantics.Monadic.html#deref" class="Function">deref</a> <a id="9338" href="MJ.Semantics.Monadic.html#9324" class="Bound">v</a> <a id="9340" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="9344" class="Symbol">λ{</a> <a id="9347" class="Symbol">(</a><a id="9348" href="MJ.Semantics.Values.html#2403" class="InductiveConstructor">val</a> <a id="9352" href="MJ.Semantics.Monadic.html#9352" class="Bound">w</a><a id="9353" class="Symbol">)</a> <a id="9355" class="Symbol">→</a>
    <a id="9361" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="9368" href="MJ.Semantics.Monadic.html#9352" class="Bound">w</a> <a id="9370" class="Symbol">}</a>

  <a id="9375" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="9381" class="Symbol">(</a><a id="9382" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="9386" href="MJ.Semantics.Monadic.html#9386" class="Bound">k</a><a id="9387" class="Symbol">)</a> <a id="9389" class="Symbol">(</a><a id="9390" href="MJ.Syntax.Typed.html#1429" class="InductiveConstructor">upcast</a> <a id="9397" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a> <a id="9399" href="MJ.Semantics.Monadic.html#9399" class="Bound">e</a><a id="9400" class="Symbol">)</a> <a id="9402" class="Symbol">=</a> <a id="9404" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="9410" href="MJ.Semantics.Monadic.html#9386" class="Bound">k</a> <a id="9412" href="MJ.Semantics.Monadic.html#9399" class="Bound">e</a>
  <a id="9416" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="9422" class="Symbol">(</a><a id="9423" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="9427" href="MJ.Semantics.Monadic.html#9427" class="Bound">k</a><a id="9428" class="Symbol">)</a> <a id="9430" class="Symbol">(</a><a id="9431" href="MJ.Syntax.Typed.html#1429" class="InductiveConstructor">upcast</a> <a id="9438" href="MJ.Semantics.Monadic.html#9438" class="Bound">s₁</a><a id="9440" class="Symbol">@(_</a> <a id="9444" href="Data.Star.html#Star._%E2%97%85_" class="InductiveConstructor Operator">◅</a> <a id="9446" class="Symbol">_)</a> <a id="9449" href="MJ.Semantics.Monadic.html#9449" class="Bound">e</a><a id="9450" class="Symbol">)</a> <a id="9452" class="Symbol">=</a> <a id="9454" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="9460" href="MJ.Semantics.Monadic.html#9427" class="Bound">k</a> <a id="9462" href="MJ.Semantics.Monadic.html#9449" class="Bound">e</a> <a id="9464" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="9468" class="Symbol">λ{</a>
      <a id="9477" class="Symbol">(</a><a id="9478" href="MJ.Semantics.Values.html#1017" class="InductiveConstructor">ref</a> <a id="9482" href="MJ.Semantics.Monadic.html#9482" class="Bound">o</a> <a id="9484" href="MJ.Semantics.Monadic.html#9484" class="Bound">s₂</a> <a id="9487" class="Symbol">)</a> <a id="9489" class="Symbol">→</a> <a id="9491" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="9498" href="Function.html#_%24_" class="Function Operator">$</a> <a id="9500" href="MJ.Semantics.Values.html#1017" class="InductiveConstructor">ref</a> <a id="9504" href="MJ.Semantics.Monadic.html#9482" class="Bound">o</a> <a id="9506" class="Symbol">(</a><a id="9507" href="MJ.Semantics.Monadic.html#9484" class="Bound">s₂</a> <a id="9510" href="Data.Star.html#_%E2%97%85%E2%97%85_" class="Function Operator">◅◅</a> <a id="9513" href="MJ.Semantics.Monadic.html#9438" class="Bound">s₁</a><a id="9515" class="Symbol">)</a> <a id="9517" class="Symbol">;</a>
      <a id="9525" href="MJ.Semantics.Values.html#986" class="InductiveConstructor">null</a> <a id="9530" class="Symbol">→</a> <a id="9532" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="9539" href="MJ.Semantics.Values.html#986" class="InductiveConstructor">null</a>
    <a id="9548" class="Symbol">}</a>

  <a id="9553" class="Comment">-- binary interger operations</a>
  <a id="9585" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="9591" class="Symbol">(</a><a id="9592" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="9596" href="MJ.Semantics.Monadic.html#9596" class="Bound">k</a><a id="9597" class="Symbol">)</a> <a id="9599" class="Symbol">(</a><a id="9600" href="MJ.Syntax.Typed.html#1370" class="InductiveConstructor">iop</a> <a id="9604" href="MJ.Semantics.Monadic.html#9604" class="Bound">f</a> <a id="9606" href="MJ.Semantics.Monadic.html#9606" class="Bound">l</a> <a id="9608" href="MJ.Semantics.Monadic.html#9608" class="Bound">r</a><a id="9609" class="Symbol">)</a> <a id="9611" class="Symbol">=</a>
    <a id="9617" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="9623" href="MJ.Semantics.Monadic.html#9596" class="Bound">k</a> <a id="9625" href="MJ.Semantics.Monadic.html#9606" class="Bound">l</a> <a id="9627" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="9631" class="Symbol">λ{</a> <a id="9634" class="Symbol">(</a><a id="9635" href="MJ.Semantics.Values.html#943" class="InductiveConstructor">num</a> <a id="9639" href="MJ.Semantics.Monadic.html#9639" class="Bound">vₗ</a><a id="9641" class="Symbol">)</a> <a id="9643" class="Symbol">→</a>
    <a id="9649" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="9655" href="MJ.Semantics.Monadic.html#9596" class="Bound">k</a> <a id="9657" href="MJ.Semantics.Monadic.html#9608" class="Bound">r</a> <a id="9659" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="9663" class="Symbol">λ{</a> <a id="9666" class="Symbol">(</a><a id="9667" href="MJ.Semantics.Values.html#943" class="InductiveConstructor">num</a> <a id="9671" href="MJ.Semantics.Monadic.html#9671" class="Bound">vᵣ</a><a id="9673" class="Symbol">)</a> <a id="9675" class="Symbol">→</a>
    <a id="9681" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="9688" class="Symbol">(</a><a id="9689" href="MJ.Semantics.Values.html#943" class="InductiveConstructor">num</a> <a id="9693" class="Symbol">(</a><a id="9694" href="MJ.Semantics.Monadic.html#9604" class="Bound">f</a> <a id="9696" href="MJ.Semantics.Monadic.html#9639" class="Bound">vₗ</a> <a id="9699" href="MJ.Semantics.Monadic.html#9671" class="Bound">vᵣ</a><a id="9701" class="Symbol">))</a> <a id="9704" class="Symbol">}}</a>

  <a id="9710" class="Comment">-- method calls</a>
  <a id="9728" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="9734" class="Symbol">(</a><a id="9735" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="9739" href="MJ.Semantics.Monadic.html#9739" class="Bound">k</a><a id="9740" class="Symbol">)</a> <a id="9742" class="Symbol">(</a><a id="9743" href="MJ.Syntax.Typed.html#1585" class="InductiveConstructor">call</a> <a id="9748" href="MJ.Semantics.Monadic.html#9748" class="Bound">e</a> <a id="9750" class="Symbol">_</a> <a id="9752" class="Symbol">{</a><a id="9753" class="Argument">acc</a> <a id="9757" class="Symbol">=</a> <a id="9759" href="MJ.Semantics.Monadic.html#9759" class="Bound">mtd</a><a id="9762" class="Symbol">}</a> <a id="9764" href="MJ.Semantics.Monadic.html#9764" class="Bound">args</a><a id="9768" class="Symbol">)</a> <a id="9770" class="Symbol">=</a>
    <a id="9776" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="9782" href="MJ.Semantics.Monadic.html#9739" class="Bound">k</a> <a id="9784" href="MJ.Semantics.Monadic.html#9748" class="Bound">e</a> <a id="9786" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="9790" class="Symbol">λ{</a>
      <a id="9799" href="MJ.Semantics.Values.html#986" class="InductiveConstructor">null</a> <a id="9804" class="Symbol">→</a> <a id="9806" href="MJ.Semantics.Monadic.html#raiseM" class="Function">raiseM</a> <a id="9813" href="MJ.Semantics.Monadic.html#Exception.nullderef" class="InductiveConstructor">nullderef</a> <a id="9823" class="Symbol">;</a>
      <a id="9831" href="MJ.Semantics.Monadic.html#9831" class="Bound">r</a><a id="9832" class="Symbol">@(</a><a id="9834" href="MJ.Semantics.Values.html#1017" class="InductiveConstructor">ref</a> <a id="9838" class="Symbol">{</a><a id="9839" href="MJ.Semantics.Monadic.html#9839" class="Bound">dyn-cid</a><a id="9846" class="Symbol">}</a> <a id="9848" href="MJ.Semantics.Monadic.html#9848" class="Bound">o</a> <a id="9850" href="MJ.Semantics.Monadic.html#9850" class="Bound">s₁</a><a id="9852" class="Symbol">)</a> <a id="9854" class="Symbol">→</a>
        <a id="9864" class="Comment">-- evaluate the arguments</a>
        <a id="9898" href="MJ.Semantics.Monadic.html#eval-args" class="Function">eval-args</a> <a id="9908" href="MJ.Semantics.Monadic.html#9739" class="Bound">k</a> <a id="9910" href="MJ.Semantics.Monadic.html#9764" class="Bound">args</a> <a id="9915" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="9917" href="MJ.Semantics.Monadic.html#9848" class="Bound">o</a> <a id="9919" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="9923" class="Symbol">λ{</a> <a id="9926" class="Symbol">(</a><a id="9927" href="MJ.Semantics.Monadic.html#9927" class="Bound">rvs</a> <a id="9931" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="9933" href="MJ.Semantics.Monadic.html#9933" class="Bound">o</a><a id="9934" class="Symbol">)</a> <a id="9936" class="Symbol">→</a>
        <a id="9946" class="Comment">-- dynamic dispatch: dynamic lookup of the method on the runtime class of the reference</a>
        <a id="10042" class="Comment">-- and execution of the call</a>
        <a id="10079" class="Symbol">(</a><a id="10080" href="MJ.Semantics.Monadic.html#eval-method" class="Function">eval-method</a> <a id="10092" href="MJ.Semantics.Monadic.html#9739" class="Bound">k</a> <a id="10094" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a> <a id="10096" href="MJ.Semantics.Monadic.html#9933" class="Bound">o</a> <a id="10098" href="MJ.Semantics.Monadic.html#9927" class="Bound">rvs</a> <a id="10102" class="Symbol">(</a><a id="10103" href="MJ.Semantics.Monadic.html#mbody" class="Function">mbody</a> <a id="10109" href="MJ.Semantics.Monadic.html#9839" class="Bound">dyn-cid</a> <a id="10117" class="Symbol">(</a><a id="10118" href="MJ.Classtable.Membership.html#2839" class="Function">inherit</a> <a id="10126" class="Symbol">_</a> <a id="10128" href="MJ.Semantics.Monadic.html#9850" class="Bound">s₁</a> <a id="10131" href="MJ.Semantics.Monadic.html#9759" class="Bound">mtd</a><a id="10134" class="Symbol">)))</a> <a id="10138" class="Symbol">}}</a>

  <a id="10144" class="Comment">-- field lookup in the heap</a>
  <a id="10174" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="10180" class="Symbol">(</a><a id="10181" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="10185" href="MJ.Semantics.Monadic.html#10185" class="Bound">k</a><a id="10186" class="Symbol">)</a> <a id="10188" class="Symbol">(</a><a id="10189" href="MJ.Syntax.Typed.html#1733" class="InductiveConstructor">get</a> <a id="10193" href="MJ.Semantics.Monadic.html#10193" class="Bound">e</a> <a id="10195" class="Symbol">_</a> <a id="10197" class="Symbol">{_}{</a><a id="10201" href="MJ.Semantics.Monadic.html#10201" class="Bound">fld</a><a id="10204" class="Symbol">})</a> <a id="10207" class="Symbol">=</a>
    <a id="10213" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="10219" href="MJ.Semantics.Monadic.html#10185" class="Bound">k</a> <a id="10221" href="MJ.Semantics.Monadic.html#10193" class="Bound">e</a> <a id="10223" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="10227" class="Symbol">λ{</a>
      <a id="10236" href="MJ.Semantics.Values.html#986" class="InductiveConstructor">null</a> <a id="10241" class="Symbol">→</a> <a id="10243" href="MJ.Semantics.Monadic.html#raiseM" class="Function">raiseM</a> <a id="10250" href="MJ.Semantics.Monadic.html#Exception.nullderef" class="InductiveConstructor">nullderef</a> <a id="10260" class="Symbol">;</a>
      <a id="10268" class="Symbol">(</a><a id="10269" href="MJ.Semantics.Values.html#1017" class="InductiveConstructor">ref</a> <a id="10273" href="MJ.Semantics.Monadic.html#10273" class="Bound">o</a> <a id="10275" href="MJ.Semantics.Monadic.html#10275" class="Bound">s</a><a id="10276" class="Symbol">)</a> <a id="10278" class="Symbol">→</a>
      <a id="10286" href="MJ.Semantics.Monadic.html#deref" class="Function">deref</a> <a id="10292" href="MJ.Semantics.Monadic.html#10273" class="Bound">o</a> <a id="10294" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="10298" class="Symbol">λ{</a> <a id="10301" class="Symbol">(</a><a id="10302" href="MJ.Semantics.Values.html#2453" class="InductiveConstructor">obj</a> <a id="10306" href="MJ.Semantics.Monadic.html#10306" class="Bound">c</a> <a id="10308" href="MJ.Semantics.Monadic.html#10308" class="Bound">O</a><a id="10309" class="Symbol">)</a> <a id="10311" class="Symbol">→</a>
      <a id="10319" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="10326" class="Symbol">(</a><a id="10327" href="MJ.Semantics.Values.html#2168" class="Function">getter</a> <a id="10334" class="Symbol">_</a> <a id="10336" href="MJ.Semantics.Monadic.html#10308" class="Bound">O</a> <a id="10338" href="Function.html#_%24_" class="Function Operator">$</a> <a id="10340" href="MJ.Classtable.Membership.html#2614" class="Function">inherit&#39;</a> <a id="10349" href="MJ.Semantics.Monadic.html#10275" class="Bound">s</a> <a id="10351" class="Symbol">(</a><a id="10352" href="MJ.Classtable.Membership.html#2479" class="Function">sound</a> <a id="10358" href="MJ.Semantics.Monadic.html#10201" class="Bound">fld</a><a id="10361" class="Symbol">))</a> <a id="10364" class="Symbol">}}</a>

  <a id="10370" class="Comment">-- object allocation</a>
  <a id="10393" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="10399" class="Symbol">(</a><a id="10400" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="10404" href="MJ.Semantics.Monadic.html#10404" class="Bound">k</a><a id="10405" class="Symbol">)</a> <a id="10407" class="Symbol">(</a><a id="10408" href="MJ.Syntax.Typed.html#1515" class="InductiveConstructor">new</a> <a id="10412" href="MJ.Semantics.Monadic.html#10412" class="Bound">C</a> <a id="10414" href="MJ.Semantics.Monadic.html#10414" class="Bound">args</a><a id="10418" class="Symbol">)</a> <a id="10420" class="Symbol">=</a>
    <a id="10426" href="MJ.Semantics.Monadic.html#eval-args" class="Function">eval-args</a> <a id="10436" href="MJ.Semantics.Monadic.html#10404" class="Bound">k</a> <a id="10438" href="MJ.Semantics.Monadic.html#10414" class="Bound">args</a> <a id="10443" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="10447" class="Symbol">λ</a> <a id="10449" href="MJ.Semantics.Monadic.html#10449" class="Bound">rvs</a> <a id="10453" class="Symbol">→</a>
    <a id="10459" href="MJ.Semantics.Monadic.html#usingEnv" class="Function">usingEnv</a> <a id="10468" href="MJ.Semantics.Monadic.html#10449" class="Bound">rvs</a> <a id="10472" class="Symbol">(</a><a id="10473" href="MJ.Semantics.Monadic.html#constructM" class="Function">constructM</a> <a id="10484" href="MJ.Semantics.Monadic.html#10404" class="Bound">k</a> <a id="10486" href="MJ.Semantics.Monadic.html#10412" class="Bound">C</a><a id="10487" class="Symbol">)</a>


  <a id="10493" class="Comment">{-
  Statement evaluation
  -}</a>
  <a id="evalc" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="10532" class="Symbol">:</a> <a id="10534" class="Symbol">∀</a> <a id="10536" class="Symbol">{</a><a id="10537" href="MJ.Semantics.Monadic.html#10537" class="Bound">I</a> <a id="10539" class="Symbol">:</a> <a id="10541" href="MJ.LexicalScope.html#226" class="Function">Ctx</a><a id="10544" class="Symbol">}{</a><a id="10546" href="MJ.Semantics.Monadic.html#10546" class="Bound">O</a> <a id="10548" class="Symbol">:</a> <a id="10550" href="MJ.LexicalScope.html#226" class="Function">Ctx</a><a id="10553" class="Symbol">}{</a><a id="10555" href="MJ.Semantics.Monadic.html#10555" class="Bound">W</a> <a id="10557" class="Symbol">:</a> <a id="10559" href="MJ.Types.html#World" class="Function">World</a> <a id="10565" href="MJ.Semantics.Monadic.html#244" class="Bound">c</a><a id="10566" class="Symbol">}{</a><a id="10568" href="MJ.Semantics.Monadic.html#10568" class="Bound">a</a><a id="10569" class="Symbol">}</a> <a id="10571" class="Symbol">→</a> <a id="10573" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="10575" class="Symbol">→</a>
          <a id="10587" href="MJ.Syntax.Typed.html#2381" class="Datatype">Stmt</a> <a id="10592" href="MJ.Semantics.Monadic.html#10537" class="Bound">I</a> <a id="10594" href="MJ.Semantics.Monadic.html#10568" class="Bound">a</a> <a id="10596" href="MJ.Semantics.Monadic.html#10546" class="Bound">O</a> <a id="10598" class="Symbol">→</a> <a id="10600" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="10602" href="MJ.Semantics.Monadic.html#10537" class="Bound">I</a> <a id="10604" href="MJ.Semantics.Monadic.html#10555" class="Bound">W</a> <a id="10606" class="Symbol">(λ</a> <a id="10609" href="MJ.Semantics.Monadic.html#10609" class="Bound">W</a> <a id="10611" class="Symbol">→</a> <a id="10613" href="MJ.Semantics.Values.html#904" class="Datatype">Val</a> <a id="10617" href="MJ.Semantics.Monadic.html#10609" class="Bound">W</a> <a id="10619" href="MJ.Semantics.Monadic.html#10568" class="Bound">a</a> <a id="10621" href="Data.Sum.html#_%E2%8A%8E_" class="Datatype Operator">⊎</a> <a id="10623" href="MJ.Semantics.Values.html#1716" class="Function">Env</a> <a id="10627" href="MJ.Semantics.Monadic.html#10546" class="Bound">O</a> <a id="10629" href="MJ.Semantics.Monadic.html#10609" class="Bound">W</a><a id="10630" class="Symbol">)</a>

  <a id="10635" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="10641" href="Agda.Builtin.Nat.html#Nat.zero" class="InductiveConstructor">zero</a> <a id="10646" class="Symbol">_</a> <a id="10648" class="Symbol">=</a> <a id="10650" href="MJ.Semantics.Monadic.html#doTimeout" class="Function">doTimeout</a>

  <a id="10663" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="10669" class="Symbol">(</a><a id="10670" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="10674" href="MJ.Semantics.Monadic.html#10674" class="Bound">k</a><a id="10675" class="Symbol">)</a> <a id="10677" href="MJ.Syntax.Typed.html#2725" class="InductiveConstructor">raise</a> <a id="10683" class="Symbol">=</a> <a id="10685" href="MJ.Semantics.Monadic.html#raiseM" class="Function">raiseM</a> <a id="10692" href="MJ.Semantics.Monadic.html#Exception.other" class="InductiveConstructor">other</a>

  <a id="10701" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="10707" class="Symbol">(</a><a id="10708" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="10712" href="MJ.Semantics.Monadic.html#10712" class="Bound">k</a><a id="10713" class="Symbol">)</a> <a id="10715" class="Symbol">(</a><a id="10716" href="MJ.Syntax.Typed.html#2881" class="InductiveConstructor">block</a> <a id="10722" href="MJ.Semantics.Monadic.html#10722" class="Bound">stmts</a><a id="10727" class="Symbol">)</a> <a id="10729" class="Symbol">=</a>
    <a id="10735" href="MJ.Semantics.Monadic.html#eval-stmts" class="Function">eval-stmts</a> <a id="10746" href="MJ.Semantics.Monadic.html#10712" class="Bound">k</a> <a id="10748" href="MJ.Semantics.Monadic.html#10722" class="Bound">stmts</a> <a id="10754" href="MJ.Semantics.Monadic.html#_%3E%3E%3Dc_" class="Function Operator">&gt;&gt;=c</a> <a id="10759" class="Symbol">λ</a> <a id="10761" href="MJ.Semantics.Monadic.html#10761" class="Bound">_</a> <a id="10763" class="Symbol">→</a> <a id="10765" href="MJ.Semantics.Monadic.html#continue" class="Function">continue</a>

  <a id="10777" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="10783" class="Symbol">(</a><a id="10784" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="10788" href="MJ.Semantics.Monadic.html#10788" class="Bound">k</a><a id="10789" class="Symbol">)</a> <a id="10791" class="Symbol">(</a><a id="10792" href="MJ.Syntax.Typed.html#2753" class="InductiveConstructor Operator">try</a> <a id="10796" href="MJ.Semantics.Monadic.html#10796" class="Bound">cs</a> <a id="10799" href="MJ.Syntax.Typed.html#2753" class="InductiveConstructor Operator">catch</a> <a id="10805" href="MJ.Semantics.Monadic.html#10805" class="Bound">cs&#39;</a><a id="10808" class="Symbol">)</a> <a id="10810" class="Symbol">=</a>
    <a id="10816" class="Symbol">(</a><a id="10817" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="10823" href="MJ.Semantics.Monadic.html#10788" class="Bound">k</a> <a id="10825" href="MJ.Semantics.Monadic.html#10796" class="Bound">cs</a> <a id="10828" href="MJ.Semantics.Monadic.html#_%3E%3E%3Dc_" class="Function Operator">&gt;&gt;=c</a> <a id="10833" class="Symbol">λ</a> <a id="10835" href="MJ.Semantics.Monadic.html#10835" class="Bound">_</a> <a id="10837" class="Symbol">→</a> <a id="10839" href="MJ.Semantics.Monadic.html#continue" class="Function">continue</a><a id="10847" class="Symbol">)</a>
    <a id="10853" href="MJ.Semantics.Monadic.html#_recoverWith_" class="Function Operator">recoverWith</a> <a id="10865" class="Symbol">(λ</a> <a id="10868" href="MJ.Semantics.Monadic.html#10868" class="Bound">e</a> <a id="10870" href="MJ.Semantics.Monadic.html#10870" class="Bound">ext</a> <a id="10874" class="Symbol">→</a> <a id="10876" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="10882" href="MJ.Semantics.Monadic.html#10788" class="Bound">k</a> <a id="10884" href="MJ.Semantics.Monadic.html#10805" class="Bound">cs&#39;</a> <a id="10888" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="10892" class="Symbol">λ</a> <a id="10894" href="MJ.Semantics.Monadic.html#10894" class="Bound">_</a> <a id="10896" class="Symbol">→</a> <a id="10898" href="MJ.Semantics.Monadic.html#continue" class="Function">continue</a><a id="10906" class="Symbol">)</a>

  <a id="10911" class="Comment">-- new local variable</a>
  <a id="10935" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="10941" class="Symbol">(</a><a id="10942" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="10946" href="MJ.Semantics.Monadic.html#10946" class="Bound">k</a><a id="10947" class="Symbol">)</a> <a id="10949" class="Symbol">(</a><a id="10950" href="MJ.Syntax.Typed.html#2434" class="InductiveConstructor">loc</a> <a id="10954" href="MJ.Semantics.Monadic.html#10954" class="Bound">a</a><a id="10955" class="Symbol">)</a> <a id="10957" class="Symbol">=</a>
    <a id="10963" href="MJ.Semantics.Monadic.html#store" class="Function">store</a> <a id="10969" class="Symbol">(</a><a id="10970" href="MJ.Semantics.Values.html#2403" class="InductiveConstructor">val</a> <a id="10974" href="Function.html#_%24_" class="Function Operator">$</a> <a id="10976" href="MJ.Semantics.Values.html#1145" class="Function">default</a> <a id="10984" href="MJ.Semantics.Monadic.html#10954" class="Bound">a</a><a id="10985" class="Symbol">)</a> <a id="10987" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="10991" class="Symbol">λ</a> <a id="10993" href="MJ.Semantics.Monadic.html#10993" class="Bound">r</a> <a id="10995" class="Symbol">→</a>
    <a id="11001" href="MJ.Semantics.Monadic.html#getEnv" class="Function">getEnv</a> <a id="11008" class="Symbol">λ</a> <a id="11010" href="MJ.Semantics.Monadic.html#11010" class="Bound">E</a> <a id="11012" class="Symbol">→</a> <a id="11014" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="11021" class="Symbol">(</a><a id="11022" href="Data.Sum.html#_%E2%8A%8E_.inj%E2%82%82" class="InductiveConstructor">inj₂</a> <a id="11027" class="Symbol">(</a><a id="11028" href="MJ.Semantics.Monadic.html#11010" class="Bound">E</a> <a id="11030" href="MJ.Semantics.Values.html#1788" class="Function Operator">⊕</a> <a id="11032" href="MJ.Semantics.Monadic.html#10993" class="Bound">r</a><a id="11033" class="Symbol">))</a>

  <a id="11039" class="Comment">-- assigning to a local</a>
  <a id="11065" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="11071" class="Symbol">(</a><a id="11072" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="11076" href="MJ.Semantics.Monadic.html#11076" class="Bound">k</a><a id="11077" class="Symbol">)</a> <a id="11079" class="Symbol">(</a><a id="11080" href="MJ.Syntax.Typed.html#2479" class="InductiveConstructor">asgn</a> <a id="11085" href="MJ.Semantics.Monadic.html#11085" class="Bound">x</a> <a id="11087" href="MJ.Semantics.Monadic.html#11087" class="Bound">e</a><a id="11088" class="Symbol">)</a> <a id="11090" class="Symbol">=</a>
    <a id="11096" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="11102" href="MJ.Semantics.Monadic.html#11076" class="Bound">k</a> <a id="11104" href="MJ.Semantics.Monadic.html#11087" class="Bound">e</a> <a id="11106" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="11110" class="Symbol">λ</a> <a id="11112" href="MJ.Semantics.Monadic.html#11112" class="Bound">v</a> <a id="11114" class="Symbol">→</a>
    <a id="11120" href="MJ.Semantics.Monadic.html#getEnv" class="Function">getEnv</a> <a id="11127" class="Symbol">(λ</a> <a id="11130" href="MJ.Semantics.Monadic.html#11130" class="Bound">E</a> <a id="11132" class="Symbol">→</a> <a id="11134" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="11141" href="Function.html#_%24_" class="Function Operator">$</a> <a id="11143" href="MJ.Semantics.Values.html#1892" class="Function">getvar</a> <a id="11150" href="MJ.Semantics.Monadic.html#11085" class="Bound">x</a> <a id="11152" href="MJ.Semantics.Monadic.html#11130" class="Bound">E</a><a id="11153" class="Symbol">)</a> <a id="11155" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="11157" href="MJ.Semantics.Monadic.html#11112" class="Bound">v</a> <a id="11159" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="11163" class="Symbol">λ{</a> <a id="11166" class="Symbol">(</a><a id="11167" href="MJ.Semantics.Monadic.html#11167" class="Bound">addr</a> <a id="11172" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="11174" href="MJ.Semantics.Monadic.html#11174" class="Bound">v</a><a id="11175" class="Symbol">)</a> <a id="11177" class="Symbol">→</a>
    <a id="11183" href="MJ.Semantics.Monadic.html#update" class="Function">update</a> <a id="11190" href="MJ.Semantics.Monadic.html#11167" class="Bound">addr</a> <a id="11195" class="Symbol">(</a><a id="11196" href="MJ.Semantics.Values.html#2403" class="InductiveConstructor">val</a> <a id="11200" href="MJ.Semantics.Monadic.html#11174" class="Bound">v</a><a id="11201" class="Symbol">)</a> <a id="11203" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="11207" class="Symbol">λ</a> <a id="11209" href="MJ.Semantics.Monadic.html#11209" class="Bound">_</a> <a id="11211" class="Symbol">→</a>
    <a id="11217" href="MJ.Semantics.Monadic.html#continue" class="Function">continue</a> <a id="11226" class="Symbol">}</a>

  <a id="11231" class="Comment">-- setting a field</a>
  <a id="11252" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="11258" class="Symbol">(</a><a id="11259" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="11263" href="MJ.Semantics.Monadic.html#11263" class="Bound">k</a><a id="11264" class="Symbol">)</a> <a id="11266" class="Symbol">(</a><a id="11267" href="MJ.Syntax.Typed.html#2536" class="InductiveConstructor">set</a> <a id="11271" href="MJ.Semantics.Monadic.html#11271" class="Bound">r</a> <a id="11273" class="Symbol">_</a> <a id="11275" class="Symbol">{_}{</a><a id="11279" href="MJ.Semantics.Monadic.html#11279" class="Bound">fld</a><a id="11282" class="Symbol">}</a> <a id="11284" href="MJ.Semantics.Monadic.html#11284" class="Bound">e</a><a id="11285" class="Symbol">)</a> <a id="11287" class="Symbol">=</a>
    <a id="11293" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="11299" href="MJ.Semantics.Monadic.html#11263" class="Bound">k</a> <a id="11301" href="MJ.Semantics.Monadic.html#11271" class="Bound">r</a> <a id="11303" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="11307" class="Symbol">λ{</a> <a id="11310" href="MJ.Semantics.Values.html#986" class="InductiveConstructor">null</a> <a id="11315" class="Symbol">→</a> <a id="11317" href="MJ.Semantics.Monadic.html#raiseM" class="Function">raiseM</a> <a id="11324" href="MJ.Semantics.Monadic.html#Exception.nullderef" class="InductiveConstructor">nullderef</a> <a id="11334" class="Symbol">;</a> <a id="11336" href="MJ.Semantics.Monadic.html#11336" class="Bound">r&#39;</a><a id="11338" class="Symbol">@(</a><a id="11340" href="MJ.Semantics.Values.html#1017" class="InductiveConstructor">ref</a> <a id="11344" class="Symbol">_</a> <a id="11346" class="Symbol">_)</a> <a id="11349" class="Symbol">→</a>
    <a id="11355" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="11361" href="MJ.Semantics.Monadic.html#11263" class="Bound">k</a> <a id="11363" href="MJ.Semantics.Monadic.html#11284" class="Bound">e</a> <a id="11365" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="11367" href="MJ.Semantics.Monadic.html#11336" class="Bound">r&#39;</a> <a id="11370" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="11374" class="Symbol">λ{</a> <a id="11377" class="Symbol">(</a><a id="11378" href="MJ.Semantics.Monadic.html#11378" class="Bound">v</a> <a id="11380" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="11382" href="MJ.Semantics.Monadic.html#11382" class="Bound">r&#39;</a><a id="11384" class="Symbol">)</a> <a id="11386" class="Symbol">→</a>
    <a id="11392" href="MJ.Semantics.Monadic.html#write-field" class="Function">write-field</a> <a id="11404" class="Symbol">(</a><a id="11405" href="MJ.Classtable.Membership.html#2479" class="Function">sound</a> <a id="11411" href="MJ.Semantics.Monadic.html#11279" class="Bound">fld</a><a id="11414" class="Symbol">)</a> <a id="11416" href="MJ.Semantics.Monadic.html#11382" class="Bound">r&#39;</a> <a id="11419" href="MJ.Semantics.Monadic.html#11378" class="Bound">v</a> <a id="11421" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="11425" class="Symbol">λ</a> <a id="11427" href="MJ.Semantics.Monadic.html#11427" class="Bound">_</a> <a id="11429" class="Symbol">→</a>
    <a id="11435" href="MJ.Semantics.Monadic.html#continue" class="Function">continue</a> <a id="11444" class="Symbol">}}</a>

  <a id="11450" class="Comment">-- side-effectful expressions</a>
  <a id="11482" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="11488" class="Symbol">(</a><a id="11489" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="11493" href="MJ.Semantics.Monadic.html#11493" class="Bound">k</a><a id="11494" class="Symbol">)</a> <a id="11496" class="Symbol">(</a><a id="11497" href="MJ.Syntax.Typed.html#2639" class="InductiveConstructor">do</a> <a id="11500" href="MJ.Semantics.Monadic.html#11500" class="Bound">e</a><a id="11501" class="Symbol">)</a> <a id="11503" class="Symbol">=</a>
    <a id="11509" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="11515" href="MJ.Semantics.Monadic.html#11493" class="Bound">k</a> <a id="11517" href="MJ.Semantics.Monadic.html#11500" class="Bound">e</a> <a id="11519" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="11523" class="Symbol">λ</a> <a id="11525" href="MJ.Semantics.Monadic.html#11525" class="Bound">_</a> <a id="11527" class="Symbol">→</a>
    <a id="11533" href="MJ.Semantics.Monadic.html#continue" class="Function">continue</a>

  <a id="11545" class="Comment">-- early returns</a>
  <a id="11564" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="11570" class="Symbol">(</a><a id="11571" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="11575" href="MJ.Semantics.Monadic.html#11575" class="Bound">k</a><a id="11576" class="Symbol">)</a> <a id="11578" class="Symbol">(</a><a id="11579" href="MJ.Syntax.Typed.html#2686" class="InductiveConstructor">ret</a> <a id="11583" href="MJ.Semantics.Monadic.html#11583" class="Bound">e</a><a id="11584" class="Symbol">)</a> <a id="11586" class="Symbol">=</a>
    <a id="11592" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="11598" href="MJ.Semantics.Monadic.html#11575" class="Bound">k</a> <a id="11600" href="MJ.Semantics.Monadic.html#11583" class="Bound">e</a> <a id="11602" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="11606" class="Symbol">λ</a> <a id="11608" href="MJ.Semantics.Monadic.html#11608" class="Bound">v</a> <a id="11610" class="Symbol">→</a>
    <a id="11616" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="11623" class="Symbol">(</a><a id="11624" href="Data.Sum.html#_%E2%8A%8E_.inj%E2%82%81" class="InductiveConstructor">inj₁</a> <a id="11629" href="MJ.Semantics.Monadic.html#11608" class="Bound">v</a><a id="11630" class="Symbol">)</a>

  <a id="11635" class="Comment">-- if-then-else blocks</a>
  <a id="11660" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="11666" class="Symbol">(</a><a id="11667" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="11671" href="MJ.Semantics.Monadic.html#11671" class="Bound">k</a><a id="11672" class="Symbol">)</a> <a id="11674" class="Symbol">(</a><a id="11675" href="MJ.Syntax.Typed.html#2931" class="InductiveConstructor Operator">if</a> <a id="11678" href="MJ.Semantics.Monadic.html#11678" class="Bound">e</a> <a id="11680" href="MJ.Syntax.Typed.html#2931" class="InductiveConstructor Operator">then</a> <a id="11685" href="MJ.Semantics.Monadic.html#11685" class="Bound">cs</a> <a id="11688" href="MJ.Syntax.Typed.html#2931" class="InductiveConstructor Operator">else</a> <a id="11693" href="MJ.Semantics.Monadic.html#11693" class="Bound">ds</a><a id="11695" class="Symbol">)</a> <a id="11697" class="Symbol">=</a>
    <a id="11703" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="11709" href="MJ.Semantics.Monadic.html#11671" class="Bound">k</a> <a id="11711" href="MJ.Semantics.Monadic.html#11678" class="Bound">e</a> <a id="11713" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="11717" class="Symbol">λ{</a>
      <a id="11726" class="Symbol">(</a><a id="11727" href="MJ.Semantics.Values.html#943" class="InductiveConstructor">num</a> <a id="11731" href="Agda.Builtin.Nat.html#Nat.zero" class="InductiveConstructor">zero</a><a id="11735" class="Symbol">)</a> <a id="11737" class="Symbol">→</a> <a id="11739" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="11745" href="MJ.Semantics.Monadic.html#11671" class="Bound">k</a> <a id="11747" href="MJ.Semantics.Monadic.html#11685" class="Bound">cs</a> <a id="11750" class="Symbol">;</a>
      <a id="11758" class="Symbol">(</a><a id="11759" href="MJ.Semantics.Values.html#943" class="InductiveConstructor">num</a> <a id="11763" class="Symbol">(</a><a id="11764" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="11768" class="Symbol">_))</a> <a id="11772" class="Symbol">→</a> <a id="11774" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="11780" href="MJ.Semantics.Monadic.html#11671" class="Bound">k</a> <a id="11782" href="MJ.Semantics.Monadic.html#11693" class="Bound">ds</a>
    <a id="11789" class="Symbol">}</a>

  <a id="11794" class="Comment">-- while loops</a>
  <a id="11811" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="11817" class="Symbol">(</a><a id="11818" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="11822" href="MJ.Semantics.Monadic.html#11822" class="Bound">k</a><a id="11823" class="Symbol">)</a> <a id="11825" class="Symbol">(</a><a id="11826" href="MJ.Syntax.Typed.html#2819" class="InductiveConstructor Operator">while</a> <a id="11832" href="MJ.Semantics.Monadic.html#11832" class="Bound">e</a> <a id="11834" href="MJ.Syntax.Typed.html#2819" class="InductiveConstructor Operator">do</a> <a id="11837" href="MJ.Semantics.Monadic.html#11837" class="Bound">b</a><a id="11838" class="Symbol">)</a> <a id="11840" class="Symbol">=</a>
    <a id="11846" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="11852" class="Symbol">(</a><a id="11853" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="11857" href="MJ.Semantics.Monadic.html#11822" class="Bound">k</a><a id="11858" class="Symbol">)</a> <a id="11860" href="MJ.Semantics.Monadic.html#11832" class="Bound">e</a> <a id="11862" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="11866" class="Symbol">λ{</a>
      <a id="11875" class="Symbol">(</a><a id="11876" href="MJ.Semantics.Values.html#943" class="InductiveConstructor">num</a> <a id="11880" href="Agda.Builtin.Nat.html#Nat.zero" class="InductiveConstructor">zero</a><a id="11884" class="Symbol">)</a>    <a id="11889" class="Symbol">→</a> <a id="11891" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="11897" href="MJ.Semantics.Monadic.html#11822" class="Bound">k</a> <a id="11899" href="MJ.Semantics.Monadic.html#11837" class="Bound">b</a> <a id="11901" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="11905" class="Symbol">λ</a> <a id="11907" href="MJ.Semantics.Monadic.html#11907" class="Bound">_</a> <a id="11909" class="Symbol">→</a> <a id="11911" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="11917" href="MJ.Semantics.Monadic.html#11822" class="Bound">k</a> <a id="11919" class="Symbol">(</a><a id="11920" href="MJ.Syntax.Typed.html#2819" class="InductiveConstructor Operator">while</a> <a id="11926" href="MJ.Semantics.Monadic.html#11832" class="Bound">e</a> <a id="11928" href="MJ.Syntax.Typed.html#2819" class="InductiveConstructor Operator">do</a> <a id="11931" href="MJ.Semantics.Monadic.html#11837" class="Bound">b</a><a id="11932" class="Symbol">)</a> <a id="11934" class="Symbol">;</a>
      <a id="11942" class="Symbol">(</a><a id="11943" href="MJ.Semantics.Values.html#943" class="InductiveConstructor">num</a> <a id="11947" class="Symbol">(</a><a id="11948" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="11952" class="Symbol">_))</a> <a id="11956" class="Symbol">→</a> <a id="11958" href="MJ.Semantics.Monadic.html#continue" class="Function">continue</a>
    <a id="11971" class="Symbol">}</a>

  <a id="11976" class="Comment">{-
  An helper for interpreting a sequence of statements
  -}</a>
  <a id="eval-stmts" href="MJ.Semantics.Monadic.html#eval-stmts" class="Function">eval-stmts</a> <a id="12051" class="Symbol">:</a> <a id="12053" class="Symbol">∀</a> <a id="12055" class="Symbol">{</a><a id="12056" href="MJ.Semantics.Monadic.html#12056" class="Bound">Γ</a> <a id="12058" href="MJ.Semantics.Monadic.html#12058" class="Bound">Γ&#39;</a> <a id="12061" href="MJ.Semantics.Monadic.html#12061" class="Bound">W</a> <a id="12063" href="MJ.Semantics.Monadic.html#12063" class="Bound">a</a><a id="12064" class="Symbol">}</a> <a id="12066" class="Symbol">→</a> <a id="12068" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="12070" class="Symbol">→</a> <a id="12072" href="MJ.Syntax.Typed.html#3008" class="Function">Stmts</a> <a id="12078" href="MJ.Semantics.Monadic.html#12056" class="Bound">Γ</a> <a id="12080" href="MJ.Semantics.Monadic.html#12063" class="Bound">a</a> <a id="12082" href="MJ.Semantics.Monadic.html#12058" class="Bound">Γ&#39;</a> <a id="12085" class="Symbol">→</a> <a id="12087" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="12089" href="MJ.Semantics.Monadic.html#12056" class="Bound">Γ</a> <a id="12091" href="MJ.Semantics.Monadic.html#12061" class="Bound">W</a> <a id="12093" class="Symbol">(λ</a> <a id="12096" href="MJ.Semantics.Monadic.html#12096" class="Bound">W</a> <a id="12098" class="Symbol">→</a> <a id="12100" href="MJ.Semantics.Values.html#904" class="Datatype">Val</a> <a id="12104" href="MJ.Semantics.Monadic.html#12096" class="Bound">W</a> <a id="12106" href="MJ.Semantics.Monadic.html#12063" class="Bound">a</a> <a id="12108" href="Data.Sum.html#_%E2%8A%8E_" class="Datatype Operator">⊎</a> <a id="12110" href="MJ.Semantics.Values.html#1716" class="Function">Env</a> <a id="12114" href="MJ.Semantics.Monadic.html#12058" class="Bound">Γ&#39;</a> <a id="12117" href="MJ.Semantics.Monadic.html#12096" class="Bound">W</a><a id="12118" class="Symbol">)</a>
  <a id="12122" href="MJ.Semantics.Monadic.html#eval-stmts" class="Function">eval-stmts</a> <a id="12133" href="MJ.Semantics.Monadic.html#12133" class="Bound">k</a> <a id="12135" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a> <a id="12137" class="Symbol">=</a> <a id="12139" href="MJ.Semantics.Monadic.html#continue" class="Function">continue</a>
  <a id="12150" href="MJ.Semantics.Monadic.html#eval-stmts" class="Function">eval-stmts</a> <a id="12161" href="MJ.Semantics.Monadic.html#12161" class="Bound">k</a> <a id="12163" class="Symbol">(</a><a id="12164" href="MJ.Semantics.Monadic.html#12164" class="Bound">x</a> <a id="12166" href="Data.Star.html#Star._%E2%97%85_" class="InductiveConstructor Operator">◅</a> <a id="12168" href="MJ.Semantics.Monadic.html#12168" class="Bound">st</a><a id="12170" class="Symbol">)</a> <a id="12172" class="Symbol">=</a>
    <a id="12178" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="12184" href="MJ.Semantics.Monadic.html#12161" class="Bound">k</a> <a id="12186" href="MJ.Semantics.Monadic.html#12164" class="Bound">x</a> <a id="12188" href="MJ.Semantics.Monadic.html#_%3E%3E%3Dc_" class="Function Operator">&gt;&gt;=c</a> <a id="12193" class="Symbol">λ</a> <a id="12195" href="MJ.Semantics.Monadic.html#12195" class="Bound">E&#39;</a> <a id="12198" class="Symbol">→</a>
    <a id="12204" href="MJ.Semantics.Monadic.html#usingEnv" class="Function">usingEnv</a> <a id="12213" href="MJ.Semantics.Monadic.html#12195" class="Bound">E&#39;</a> <a id="12216" class="Symbol">(</a><a id="12217" href="MJ.Semantics.Monadic.html#eval-stmts" class="Function">eval-stmts</a> <a id="12228" href="MJ.Semantics.Monadic.html#12161" class="Bound">k</a> <a id="12230" href="MJ.Semantics.Monadic.html#12168" class="Bound">st</a><a id="12232" class="Symbol">)</a>

  <a id="12237" class="Comment">{-
  An helper for interpreting method bodies (i.e. sequence of Stmts optionally followed by a return).
  -}</a>
  <a id="eval-body" href="MJ.Semantics.Monadic.html#eval-body" class="Function">eval-body</a> <a id="12358" class="Symbol">:</a> <a id="12360" class="Symbol">∀</a> <a id="12362" class="Symbol">{</a><a id="12363" href="MJ.Semantics.Monadic.html#12363" class="Bound">I</a> <a id="12365" class="Symbol">:</a> <a id="12367" href="MJ.LexicalScope.html#226" class="Function">Ctx</a><a id="12370" class="Symbol">}{</a><a id="12372" href="MJ.Semantics.Monadic.html#12372" class="Bound">W</a> <a id="12374" class="Symbol">:</a> <a id="12376" href="MJ.Types.html#World" class="Function">World</a> <a id="12382" href="MJ.Semantics.Monadic.html#244" class="Bound">c</a><a id="12383" class="Symbol">}{</a><a id="12385" href="MJ.Semantics.Monadic.html#12385" class="Bound">a</a><a id="12386" class="Symbol">}</a> <a id="12388" class="Symbol">→</a> <a id="12390" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="12392" class="Symbol">→</a> <a id="12394" href="MJ.Classtable.Code.html#681" class="Datatype">Body</a> <a id="12399" href="MJ.Semantics.Monadic.html#12363" class="Bound">I</a> <a id="12401" href="MJ.Semantics.Monadic.html#12385" class="Bound">a</a> <a id="12403" class="Symbol">→</a> <a id="12405" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="12407" href="MJ.Semantics.Monadic.html#12363" class="Bound">I</a> <a id="12409" href="MJ.Semantics.Monadic.html#12372" class="Bound">W</a> <a id="12411" class="Symbol">(λ</a> <a id="12414" href="MJ.Semantics.Monadic.html#12414" class="Bound">W</a> <a id="12416" class="Symbol">→</a> <a id="12418" href="MJ.Semantics.Values.html#904" class="Datatype">Val</a> <a id="12422" href="MJ.Semantics.Monadic.html#12414" class="Bound">W</a> <a id="12424" href="MJ.Semantics.Monadic.html#12385" class="Bound">a</a><a id="12425" class="Symbol">)</a>
  <a id="12429" href="MJ.Semantics.Monadic.html#eval-body" class="Function">eval-body</a> <a id="12439" href="MJ.Semantics.Monadic.html#12439" class="Bound">k</a> <a id="12441" class="Symbol">(</a><a id="12442" href="MJ.Classtable.Code.html#717" class="InductiveConstructor">body</a> <a id="12447" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a> <a id="12449" href="MJ.Semantics.Monadic.html#12449" class="Bound">re</a><a id="12451" class="Symbol">)</a> <a id="12453" class="Symbol">=</a> <a id="12455" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="12461" href="MJ.Semantics.Monadic.html#12439" class="Bound">k</a> <a id="12463" href="MJ.Semantics.Monadic.html#12449" class="Bound">re</a>
  <a id="12468" href="MJ.Semantics.Monadic.html#eval-body" class="Function">eval-body</a> <a id="12478" href="MJ.Semantics.Monadic.html#12478" class="Bound">k</a> <a id="12480" class="Symbol">(</a><a id="12481" href="MJ.Classtable.Code.html#717" class="InductiveConstructor">body</a> <a id="12486" href="MJ.Semantics.Monadic.html#12486" class="Bound">stmts</a><a id="12491" class="Symbol">@(_</a> <a id="12495" href="Data.Star.html#Star._%E2%97%85_" class="InductiveConstructor Operator">◅</a> <a id="12497" class="Symbol">_)</a> <a id="12500" href="MJ.Semantics.Monadic.html#12500" class="Bound">e</a><a id="12501" class="Symbol">)</a> <a id="12503" class="Symbol">=</a>
    <a id="12509" class="Symbol">(</a><a id="12510" href="MJ.Semantics.Monadic.html#eval-stmts" class="Function">eval-stmts</a> <a id="12521" href="MJ.Semantics.Monadic.html#12478" class="Bound">k</a> <a id="12523" href="MJ.Semantics.Monadic.html#12486" class="Bound">stmts</a><a id="12528" class="Symbol">)</a> <a id="12530" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="12534" class="Symbol">λ{</a>
      <a id="12543" class="Symbol">(</a><a id="12544" href="Data.Sum.html#_%E2%8A%8E_.inj%E2%82%81" class="InductiveConstructor">inj₁</a> <a id="12549" href="MJ.Semantics.Monadic.html#12549" class="Bound">v</a><a id="12550" class="Symbol">)</a> <a id="12552" class="Symbol">→</a> <a id="12554" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="12561" href="MJ.Semantics.Monadic.html#12549" class="Bound">v</a> <a id="12563" class="Symbol">;</a>
      <a id="12571" class="Symbol">(</a><a id="12572" href="Data.Sum.html#_%E2%8A%8E_.inj%E2%82%82" class="InductiveConstructor">inj₂</a> <a id="12577" href="MJ.Semantics.Monadic.html#12577" class="Bound">E</a><a id="12578" class="Symbol">)</a> <a id="12580" class="Symbol">→</a> <a id="12582" href="MJ.Semantics.Monadic.html#usingEnv" class="Function">usingEnv</a> <a id="12591" href="MJ.Semantics.Monadic.html#12577" class="Bound">E</a> <a id="12593" class="Symbol">(</a><a id="12594" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="12600" href="MJ.Semantics.Monadic.html#12478" class="Bound">k</a> <a id="12602" href="MJ.Semantics.Monadic.html#12500" class="Bound">e</a><a id="12603" class="Symbol">)</a> <a id="12605" class="Symbol">}</a>

  <a id="12610" class="Comment">{-
  An helper for interpreting a list of expressions in the same context.
  -}</a>
  <a id="evalₑ*" href="MJ.Semantics.Monadic.html#eval%E2%82%91%2A" class="Function">evalₑ*</a> <a id="12699" class="Symbol">:</a> <a id="12701" class="Symbol">∀</a> <a id="12703" class="Symbol">{</a><a id="12704" href="MJ.Semantics.Monadic.html#12704" class="Bound">Γ</a> <a id="12706" href="MJ.Semantics.Monadic.html#12706" class="Bound">W</a> <a id="12708" href="MJ.Semantics.Monadic.html#12708" class="Bound">as</a><a id="12710" class="Symbol">}</a> <a id="12712" class="Symbol">→</a> <a id="12714" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="12716" class="Symbol">→</a> <a id="12718" href="Data.List.All.html#All" class="Datatype">All</a> <a id="12722" class="Symbol">(</a><a id="12723" href="MJ.Syntax.Typed.html#1148" class="Datatype">Expr</a> <a id="12728" href="MJ.Semantics.Monadic.html#12704" class="Bound">Γ</a><a id="12729" class="Symbol">)</a> <a id="12731" href="MJ.Semantics.Monadic.html#12708" class="Bound">as</a> <a id="12734" class="Symbol">→</a> <a id="12736" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="12738" href="MJ.Semantics.Monadic.html#12704" class="Bound">Γ</a> <a id="12740" href="MJ.Semantics.Monadic.html#12706" class="Bound">W</a> <a id="12742" class="Symbol">(λ</a> <a id="12745" href="MJ.Semantics.Monadic.html#12745" class="Bound">W</a> <a id="12747" class="Symbol">→</a> <a id="12749" href="Data.List.All.html#All" class="Datatype">All</a> <a id="12753" class="Symbol">(</a><a id="12754" href="MJ.Semantics.Values.html#904" class="Datatype">Val</a> <a id="12758" href="MJ.Semantics.Monadic.html#12745" class="Bound">W</a><a id="12759" class="Symbol">)</a> <a id="12761" href="MJ.Semantics.Monadic.html#12708" class="Bound">as</a><a id="12763" class="Symbol">)</a>
  <a id="12767" href="MJ.Semantics.Monadic.html#eval%E2%82%91%2A" class="Function">evalₑ*</a> <a id="12774" href="MJ.Semantics.Monadic.html#12774" class="Bound">k</a> <a id="12776" href="Data.List.All.html#All.%5B%5D" class="InductiveConstructor">[]</a> <a id="12779" class="Symbol">=</a> <a id="12781" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="12788" href="Data.List.All.html#All.%5B%5D" class="InductiveConstructor">[]</a>
  <a id="12793" href="MJ.Semantics.Monadic.html#eval%E2%82%91%2A" class="Function">evalₑ*</a> <a id="12800" href="MJ.Semantics.Monadic.html#12800" class="Bound">k</a> <a id="12802" class="Symbol">(</a><a id="12803" href="MJ.Semantics.Monadic.html#12803" class="Bound">e</a> <a id="12805" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="12807" href="MJ.Semantics.Monadic.html#12807" class="Bound">es</a><a id="12809" class="Symbol">)</a> <a id="12811" class="Symbol">=</a>
    <a id="12817" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="12823" href="MJ.Semantics.Monadic.html#12800" class="Bound">k</a> <a id="12825" href="MJ.Semantics.Monadic.html#12803" class="Bound">e</a> <a id="12827" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="12831" class="Symbol">λ</a> <a id="12833" href="MJ.Semantics.Monadic.html#12833" class="Bound">v</a> <a id="12835" class="Symbol">→</a>
    <a id="12841" href="MJ.Semantics.Monadic.html#eval%E2%82%91%2A" class="Function">evalₑ*</a> <a id="12848" href="MJ.Semantics.Monadic.html#12800" class="Bound">k</a> <a id="12850" href="MJ.Semantics.Monadic.html#12807" class="Bound">es</a> <a id="12853" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="12855" href="MJ.Semantics.Monadic.html#12833" class="Bound">v</a> <a id="12857" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="12861" class="Symbol">λ{</a> <a id="12864" class="Symbol">(</a><a id="12865" href="MJ.Semantics.Monadic.html#12865" class="Bound">vs</a> <a id="12868" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="12870" href="MJ.Semantics.Monadic.html#12870" class="Bound">v</a><a id="12871" class="Symbol">)</a> <a id="12873" class="Symbol">→</a>
    <a id="12879" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="12886" class="Symbol">(</a><a id="12887" href="MJ.Semantics.Monadic.html#12870" class="Bound">v</a> <a id="12889" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="12891" href="MJ.Semantics.Monadic.html#12865" class="Bound">vs</a><a id="12893" class="Symbol">)</a> <a id="12895" class="Symbol">}</a>

<a id="eval" href="MJ.Semantics.Monadic.html#eval" class="Function">eval</a> <a id="12903" class="Symbol">:</a> <a id="12905" class="Symbol">∀</a> <a id="12907" class="Symbol">{</a><a id="12908" href="MJ.Semantics.Monadic.html#12908" class="Bound">a</a><a id="12909" class="Symbol">}</a> <a id="12911" class="Symbol">→</a> <a id="12913" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="12915" class="Symbol">→</a> <a id="12917" href="MJ.Syntax.Program.html#248" class="Function">Prog</a> <a id="12922" href="MJ.Semantics.Monadic.html#12908" class="Bound">a</a> <a id="12924" class="Symbol">→</a> <a id="12926" href="MJ.Semantics.Monadic.html#Result" class="Datatype">Result</a> <a id="12933" href="Agda.Builtin.List.html#List.%5B%5D" class="InductiveConstructor">[]</a> <a id="12936" class="Symbol">(</a><a id="12937" href="Function.html#flip" class="Function">flip</a> <a id="12942" href="MJ.Semantics.Values.html#904" class="Datatype">Val</a> <a id="12946" href="MJ.Semantics.Monadic.html#12908" class="Bound">a</a><a id="12947" class="Symbol">)</a>
<a id="12949" href="MJ.Semantics.Monadic.html#eval" class="Function">eval</a> <a id="12954" href="MJ.Semantics.Monadic.html#12954" class="Bound">k</a> <a id="12956" class="Symbol">(</a><a id="12957" href="MJ.Semantics.Monadic.html#12957" class="Bound">lib</a> <a id="12961" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="12963" href="MJ.Semantics.Monadic.html#12963" class="Bound">main</a><a id="12967" class="Symbol">)</a> <a id="12969" class="Symbol">=</a> <a id="12971" href="MJ.Semantics.Monadic.html#eval-body" class="Function">eval-body</a> <a id="12981" href="MJ.Semantics.Monadic.html#12954" class="Bound">k</a> <a id="12983" href="MJ.Semantics.Monadic.html#12963" class="Bound">main</a> <a id="12988" href="Data.List.All.html#All.%5B%5D" class="InductiveConstructor">[]</a> <a id="12991" href="Data.List.All.html#All.%5B%5D" class="InductiveConstructor">[]</a>

<a id="12995" class="Comment">{-
a few predicates on program interpretation:
... saying it will terminate succesfully in a state where P holds
-}</a>
<a id="_⇓⟨_⟩_" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9_" class="Function Operator">_⇓⟨_⟩_</a> <a id="13118" class="Symbol">:</a> <a id="13120" class="Symbol">∀</a> <a id="13122" class="Symbol">{</a><a id="13123" href="MJ.Semantics.Monadic.html#13123" class="Bound">a</a><a id="13124" class="Symbol">}</a> <a id="13126" class="Symbol">→</a> <a id="13128" href="MJ.Syntax.Program.html#248" class="Function">Prog</a> <a id="13133" href="MJ.Semantics.Monadic.html#13123" class="Bound">a</a> <a id="13135" class="Symbol">→</a> <a id="13137" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="13139" class="Symbol">→</a> <a id="13141" class="Symbol">(</a><a id="13142" href="MJ.Semantics.Monadic.html#13142" class="Bound">P</a> <a id="13144" class="Symbol">:</a> <a id="13146" class="Symbol">∀</a> <a id="13148" class="Symbol">{</a><a id="13149" href="MJ.Semantics.Monadic.html#13149" class="Bound">W</a><a id="13150" class="Symbol">}</a> <a id="13152" class="Symbol">→</a> <a id="13154" href="MJ.Semantics.Values.html#904" class="Datatype">Val</a> <a id="13158" href="MJ.Semantics.Monadic.html#13149" class="Bound">W</a> <a id="13160" href="MJ.Semantics.Monadic.html#13123" class="Bound">a</a> <a id="13162" class="Symbol">→</a> <a id="13164" class="PrimitiveType">Set</a><a id="13167" class="Symbol">)</a> <a id="13169" class="Symbol">→</a> <a id="13171" class="PrimitiveType">Set</a>
<a id="13175" href="MJ.Semantics.Monadic.html#13175" class="Bound">p</a> <a id="13177" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9_" class="Function Operator">⇓⟨</a> <a id="13180" href="MJ.Semantics.Monadic.html#13180" class="Bound">k</a> <a id="13182" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9_" class="Function Operator">⟩</a> <a id="13184" href="MJ.Semantics.Monadic.html#13184" class="Bound">P</a> <a id="13186" class="Keyword">with</a> <a id="13191" href="MJ.Semantics.Monadic.html#eval" class="Function">eval</a> <a id="13196" href="MJ.Semantics.Monadic.html#13180" class="Bound">k</a> <a id="13198" href="MJ.Semantics.Monadic.html#13175" class="Bound">p</a>
<a id="13200" href="MJ.Semantics.Monadic.html#13200" class="Bound">p</a> <a id="13202" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9_" class="Function Operator">⇓⟨</a> <a id="13205" href="MJ.Semantics.Monadic.html#13205" class="Bound">k</a> <a id="13207" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9_" class="Function Operator">⟩</a> <a id="13209" href="MJ.Semantics.Monadic.html#13209" class="Bound">P</a> <a id="13211" class="Symbol">|</a> <a id="13213" href="MJ.Semantics.Monadic.html#Result.exception" class="InductiveConstructor">exception</a> <a id="13223" class="Symbol">_</a> <a id="13225" class="Symbol">_</a> <a id="13227" class="Symbol">_</a> <a id="13229" class="Symbol">=</a> <a id="13231" href="Data.Empty.html#%E2%8A%A5" class="Datatype">⊥</a>
<a id="13233" href="MJ.Semantics.Monadic.html#13233" class="Bound">p</a> <a id="13235" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9_" class="Function Operator">⇓⟨</a> <a id="13238" href="MJ.Semantics.Monadic.html#13238" class="Bound">k</a> <a id="13240" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9_" class="Function Operator">⟩</a> <a id="13242" href="MJ.Semantics.Monadic.html#13242" class="Bound">P</a> <a id="13244" class="Symbol">|</a> <a id="13246" href="MJ.Semantics.Monadic.html#Result.timeout" class="InductiveConstructor">timeout</a> <a id="13254" class="Symbol">=</a> <a id="13256" href="Data.Empty.html#%E2%8A%A5" class="Datatype">⊥</a>
<a id="13258" href="MJ.Semantics.Monadic.html#13258" class="Bound">p</a> <a id="13260" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9_" class="Function Operator">⇓⟨</a> <a id="13263" href="MJ.Semantics.Monadic.html#13263" class="Bound">k</a> <a id="13265" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9_" class="Function Operator">⟩</a> <a id="13267" href="MJ.Semantics.Monadic.html#13267" class="Bound">P</a> <a id="13269" class="Symbol">|</a> <a id="13271" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a> <a id="13279" href="MJ.Semantics.Monadic.html#13279" class="Bound">ext</a> <a id="13283" href="MJ.Semantics.Monadic.html#13283" class="Bound">μ</a> <a id="13285" href="MJ.Semantics.Monadic.html#13285" class="Bound">v</a> <a id="13287" class="Symbol">=</a> <a id="13289" href="MJ.Semantics.Monadic.html#13267" class="Bound">P</a> <a id="13291" href="MJ.Semantics.Monadic.html#13285" class="Bound">v</a>

<a id="13294" class="Comment">{-
...saying it will raise an exception in a state where P holds
-}</a>
<a id="_⇓⟨_⟩!_" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9%21_" class="Function Operator">_⇓⟨_⟩!_</a> <a id="13370" class="Symbol">:</a> <a id="13372" class="Symbol">∀</a> <a id="13374" class="Symbol">{</a><a id="13375" href="MJ.Semantics.Monadic.html#13375" class="Bound">a</a><a id="13376" class="Symbol">}</a> <a id="13378" class="Symbol">→</a> <a id="13380" href="MJ.Syntax.Program.html#248" class="Function">Prog</a> <a id="13385" href="MJ.Semantics.Monadic.html#13375" class="Bound">a</a> <a id="13387" class="Symbol">→</a> <a id="13389" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="13391" class="Symbol">→</a> <a id="13393" class="Symbol">(</a><a id="13394" href="MJ.Semantics.Monadic.html#13394" class="Bound">P</a> <a id="13396" class="Symbol">:</a> <a id="13398" class="Symbol">∀</a> <a id="13400" class="Symbol">{</a><a id="13401" href="MJ.Semantics.Monadic.html#13401" class="Bound">W</a><a id="13402" class="Symbol">}</a> <a id="13404" class="Symbol">→</a> <a id="13406" href="MJ.Semantics.Values.html#2503" class="Function">Store</a> <a id="13412" href="MJ.Semantics.Monadic.html#13401" class="Bound">W</a> <a id="13414" class="Symbol">→</a> <a id="13416" href="MJ.Semantics.Monadic.html#Exception" class="Datatype">Exception</a> <a id="13426" class="Symbol">→</a> <a id="13428" class="PrimitiveType">Set</a><a id="13431" class="Symbol">)</a> <a id="13433" class="Symbol">→</a> <a id="13435" class="PrimitiveType">Set</a>
<a id="13439" href="MJ.Semantics.Monadic.html#13439" class="Bound">p</a> <a id="13441" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9%21_" class="Function Operator">⇓⟨</a> <a id="13444" href="MJ.Semantics.Monadic.html#13444" class="Bound">k</a> <a id="13446" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9%21_" class="Function Operator">⟩!</a> <a id="13449" href="MJ.Semantics.Monadic.html#13449" class="Bound">P</a> <a id="13451" class="Keyword">with</a> <a id="13456" href="MJ.Semantics.Monadic.html#eval" class="Function">eval</a> <a id="13461" href="MJ.Semantics.Monadic.html#13444" class="Bound">k</a> <a id="13463" href="MJ.Semantics.Monadic.html#13439" class="Bound">p</a>
<a id="13465" href="MJ.Semantics.Monadic.html#13465" class="Bound">p</a> <a id="13467" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9%21_" class="Function Operator">⇓⟨</a> <a id="13470" href="MJ.Semantics.Monadic.html#13470" class="Bound">k</a> <a id="13472" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9%21_" class="Function Operator">⟩!</a> <a id="13475" href="MJ.Semantics.Monadic.html#13475" class="Bound">P</a> <a id="13477" class="Symbol">|</a> <a id="13479" href="MJ.Semantics.Monadic.html#Result.exception" class="InductiveConstructor">exception</a> <a id="13489" class="Symbol">_</a> <a id="13491" href="MJ.Semantics.Monadic.html#13491" class="Bound">μ</a> <a id="13493" href="MJ.Semantics.Monadic.html#13493" class="Bound">e</a> <a id="13495" class="Symbol">=</a> <a id="13497" href="MJ.Semantics.Monadic.html#13475" class="Bound">P</a> <a id="13499" href="MJ.Semantics.Monadic.html#13491" class="Bound">μ</a> <a id="13501" href="MJ.Semantics.Monadic.html#13493" class="Bound">e</a>
<a id="13503" href="MJ.Semantics.Monadic.html#13503" class="Bound">p</a> <a id="13505" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9%21_" class="Function Operator">⇓⟨</a> <a id="13508" href="MJ.Semantics.Monadic.html#13508" class="Bound">k</a> <a id="13510" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9%21_" class="Function Operator">⟩!</a> <a id="13513" href="MJ.Semantics.Monadic.html#13513" class="Bound">P</a> <a id="13515" class="Symbol">|</a> <a id="13517" href="MJ.Semantics.Monadic.html#Result.timeout" class="InductiveConstructor">timeout</a> <a id="13525" class="Symbol">=</a> <a id="13527" href="Data.Empty.html#%E2%8A%A5" class="Datatype">⊥</a>
<a id="13529" href="MJ.Semantics.Monadic.html#13529" class="Bound">p</a> <a id="13531" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9%21_" class="Function Operator">⇓⟨</a> <a id="13534" href="MJ.Semantics.Monadic.html#13534" class="Bound">k</a> <a id="13536" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9%21_" class="Function Operator">⟩!</a> <a id="13539" href="MJ.Semantics.Monadic.html#13539" class="Bound">P</a> <a id="13541" class="Symbol">|</a> <a id="13543" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a> <a id="13551" href="MJ.Semantics.Monadic.html#13551" class="Bound">ext</a> <a id="13555" href="MJ.Semantics.Monadic.html#13555" class="Bound">μ</a> <a id="13557" href="MJ.Semantics.Monadic.html#13557" class="Bound">v</a> <a id="13559" class="Symbol">=</a> <a id="13561" href="Data.Empty.html#%E2%8A%A5" class="Datatype">⊥</a>
</pre></body></html>