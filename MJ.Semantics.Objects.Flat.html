<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>MJ.Semantics.Objects.Flat</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="MJ.Types.html" class="Module">MJ.Types</a>
<a id="22" class="Keyword">import</a> <a id="29" href="MJ.Classtable.Core.html" class="Module">MJ.Classtable.Core</a> <a id="48" class="Symbol">as</a> <a id="51" class="Module">Core</a>
<a id="56" class="Keyword">import</a> <a id="63" href="MJ.Classtable.Code.html" class="Module">MJ.Classtable.Code</a> <a id="82" class="Symbol">as</a> <a id="85" class="Module">Code</a>
<a id="90" class="Keyword">import</a> <a id="97" href="MJ.Syntax.html" class="Module">MJ.Syntax</a> <a id="107" class="Symbol">as</a> <a id="110" class="Module">Syntax</a>

<a id="118" class="Keyword">module</a> <a id="125" href="MJ.Semantics.Objects.Flat.html" class="Module">MJ.Semantics.Objects.Flat</a> <a id="151" class="Symbol">{</a><a id="152" href="MJ.Semantics.Objects.Flat.html#152" class="Bound">c</a><a id="153" class="Symbol">}(</a><a id="155" href="MJ.Semantics.Objects.Flat.html#155" class="Bound">Ct</a> <a id="158" class="Symbol">:</a> <a id="160" href="MJ.Classtable.Core.html#Classtable" class="Record">Core.Classtable</a> <a id="176" href="MJ.Semantics.Objects.Flat.html#152" class="Bound">c</a><a id="177" class="Symbol">)(</a><a id="179" href="MJ.Semantics.Objects.Flat.html#179" class="Bound">ℂ</a> <a id="181" class="Symbol">:</a> <a id="183" href="MJ.Classtable.Code.html#Code" class="Function">Code.Code</a> <a id="193" href="MJ.Semantics.Objects.Flat.html#155" class="Bound">Ct</a><a id="195" class="Symbol">)</a> <a id="197" class="Keyword">where</a>

<a id="204" class="Keyword">open</a> <a id="209" class="Keyword">import</a> <a id="216" href="Prelude.html" class="Module">Prelude</a>

<a id="225" class="Keyword">open</a> <a id="230" class="Keyword">import</a> <a id="237" href="Level.html" class="Module">Level</a> <a id="243" class="Keyword">renaming</a> <a id="252" class="Symbol">(</a><a id="253" href="Agda.Primitive.html#lsuc" class="Primitive">suc</a> <a id="257" class="Symbol">to</a> <a id="260" href="Agda.Primitive.html#lsuc" class="Primitive">lsuc</a><a id="264" class="Symbol">;</a> <a id="266" href="Agda.Primitive.html#lzero" class="Primitive">zero</a> <a id="271" class="Symbol">to</a> <a id="274" href="Agda.Primitive.html#lzero" class="Primitive">lzero</a><a id="279" class="Symbol">)</a>
<a id="281" class="Keyword">open</a> <a id="286" class="Keyword">import</a> <a id="293" href="Data.Vec.html" class="Module">Data.Vec</a> <a id="302" class="Keyword">hiding</a> <a id="309" class="Symbol">(</a><a id="310" href="Data.Vec.html#_%2B%2B_" class="Function Operator">_++_</a><a id="314" class="Symbol">;</a> <a id="316" href="Data.Vec.html#lookup" class="Function">lookup</a><a id="322" class="Symbol">;</a> <a id="324" href="Data.Vec.html#drop" class="Function">drop</a><a id="328" class="Symbol">)</a>
<a id="330" class="Keyword">open</a> <a id="335" class="Keyword">import</a> <a id="342" href="Data.Star.html" class="Module">Data.Star</a>
<a id="352" class="Keyword">open</a> <a id="357" class="Keyword">import</a> <a id="364" href="Data.List.html" class="Module">Data.List</a>
<a id="374" class="Keyword">open</a> <a id="379" class="Keyword">import</a> <a id="386" href="Data.List.First.Properties.html" class="Module">Data.List.First.Properties</a>
<a id="413" class="Keyword">open</a> <a id="418" class="Keyword">import</a> <a id="425" href="Data.List.Any.Membership.Propositional.html" class="Module">Data.List.Any.Membership.Propositional</a>
<a id="464" class="Keyword">open</a> <a id="469" class="Keyword">import</a> <a id="476" href="Data.List.Any.Properties.html" class="Module">Data.List.Any.Properties</a>
<a id="501" class="Keyword">open</a> <a id="506" class="Keyword">import</a> <a id="513" href="Data.List.All.html" class="Module">Data.List.All</a> <a id="527" class="Symbol">as</a> <a id="530" class="Module">List∀</a>
<a id="536" class="Keyword">open</a> <a id="541" class="Keyword">import</a> <a id="548" href="Data.List.All.Properties.Extra.html" class="Module">Data.List.All.Properties.Extra</a>
<a id="579" class="Keyword">open</a> <a id="584" class="Keyword">import</a> <a id="591" href="Data.List.Prefix.html" class="Module">Data.List.Prefix</a>
<a id="608" class="Keyword">open</a> <a id="613" class="Keyword">import</a> <a id="620" href="Data.List.Properties.Extra.html" class="Module">Data.List.Properties.Extra</a>
<a id="647" class="Keyword">open</a> <a id="652" class="Keyword">import</a> <a id="659" href="Data.Maybe.html" class="Module">Data.Maybe</a> <a id="670" class="Symbol">as</a> <a id="673" class="Module">Maybe</a> <a id="679" class="Keyword">hiding</a> <a id="686" class="Symbol">(</a><a id="687" href="Data.Maybe.Base.html#All" class="Datatype">All</a><a id="690" class="Symbol">;</a> <a id="692" href="Data.Maybe.Base.html#map" class="Function">map</a><a id="695" class="Symbol">)</a>
<a id="697" class="Keyword">open</a> <a id="702" class="Keyword">import</a> <a id="709" href="Data.Maybe.All.html" class="Module">Data.Maybe.All</a> <a id="724" class="Symbol">as</a> <a id="727" class="Module">MayAll</a> <a id="734" class="Keyword">using</a> <a id="740" class="Symbol">()</a>
<a id="743" class="Keyword">open</a> <a id="748" class="Keyword">import</a> <a id="755" href="Data.String.html" class="Module">Data.String</a> <a id="767" class="Keyword">using</a> <a id="773" class="Symbol">(</a><a id="774" href="Agda.Builtin.String.html#String" class="Postulate">String</a><a id="780" class="Symbol">)</a>
<a id="782" class="Keyword">open</a> <a id="787" class="Keyword">import</a> <a id="794" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>

<a id="833" class="Keyword">open</a> <a id="838" class="Keyword">import</a> <a id="845" href="MJ.Semantics.Values.html" class="Module">MJ.Semantics.Values</a> <a id="865" href="MJ.Semantics.Objects.Flat.html#155" class="Bound">Ct</a>
<a id="868" class="Keyword">open</a> <a id="873" class="Keyword">import</a> <a id="880" href="MJ.Syntax.html" class="Module">MJ.Syntax</a> <a id="890" href="MJ.Semantics.Objects.Flat.html#155" class="Bound">Ct</a>
<a id="893" class="Keyword">open</a> <a id="898" href="MJ.Classtable.Code.html" class="Module">Code</a> <a id="903" href="MJ.Semantics.Objects.Flat.html#155" class="Bound">Ct</a>
<a id="906" class="Keyword">open</a> <a id="911" href="MJ.Classtable.Core.html" class="Module">Core</a> <a id="916" href="MJ.Semantics.Objects.Flat.html#152" class="Bound">c</a>
<a id="918" class="Keyword">open</a> <a id="923" href="MJ.Classtable.Core.html#Classtable" class="Module">Classtable</a> <a id="934" href="MJ.Semantics.Objects.Flat.html#155" class="Bound">Ct</a>
<a id="937" class="Keyword">open</a> <a id="942" class="Keyword">import</a> <a id="949" href="MJ.Classtable.Membership.html" class="Module">MJ.Classtable.Membership</a> <a id="974" href="MJ.Semantics.Objects.Flat.html#155" class="Bound">Ct</a>

<a id="978" class="Keyword">private</a>

  <a id="collect" href="MJ.Semantics.Objects.Flat.html#collect" class="Function">collect</a> <a id="997" class="Symbol">:</a> <a id="999" class="Symbol">∀</a> <a id="1001" class="Symbol">{</a><a id="1002" href="MJ.Semantics.Objects.Flat.html#1002" class="Bound">cid</a><a id="1005" class="Symbol">}(</a><a id="1007" href="MJ.Semantics.Objects.Flat.html#1007" class="Bound">chain</a> <a id="1013" class="Symbol">:</a> <a id="1015" href="MJ.Classtable.Core.html#2464" class="Function">Σ</a> <a id="1017" href="MJ.Classtable.Core.html#2074" class="Function Operator">⊢</a> <a id="1019" href="MJ.Semantics.Objects.Flat.html#1002" class="Bound">cid</a> <a id="1023" href="MJ.Classtable.Core.html#2074" class="Function Operator">&lt;:</a> <a id="1026" href="MJ.Types.html#Cid.Object" class="InductiveConstructor">Object</a><a id="1032" class="Symbol">)</a> <a id="1034" href="MJ.Semantics.Objects.Flat.html#1034" class="Bound">ns</a> <a id="1037" class="Symbol">→</a> <a id="1039" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="1044" class="Symbol">(</a><a id="1045" href="Agda.Builtin.String.html#String" class="Postulate">String</a> <a id="1052" href="Data.Product.html#_%C3%97_" class="Function Operator">×</a> <a id="1054" href="MJ.Classtable.Core.html#670" class="Function">typing</a> <a id="1061" href="MJ.Semantics.Objects.Flat.html#1034" class="Bound">ns</a><a id="1063" class="Symbol">)</a>
  <a id="1067" href="MJ.Semantics.Objects.Flat.html#collect" class="Function">collect</a> <a id="1075" class="Symbol">(</a><a id="1076" href="MJ.Classtable.Core.html#1988" class="InductiveConstructor">super</a> <a id="1082" class="Symbol">{</a><a id="1083" href="MJ.Semantics.Objects.Flat.html#1083" class="Bound">cid</a><a id="1086" class="Symbol">}</a> <a id="1088" href="Data.Star.html#Star._%E2%97%85_" class="InductiveConstructor Operator">◅</a> <a id="1090" href="MJ.Semantics.Objects.Flat.html#1090" class="Bound">ch</a><a id="1092" class="Symbol">)</a> <a id="1094" href="MJ.Semantics.Objects.Flat.html#1094" class="Bound">ns</a> <a id="1097" class="Symbol">=</a> <a id="1099" href="MJ.Classtable.Core.html#1502" class="Field">Class.decls</a> <a id="1111" class="Symbol">(</a><a id="1112" href="MJ.Classtable.Core.html#2464" class="Function">Σ</a> <a id="1114" class="Symbol">(</a><a id="1115" href="MJ.Types.html#Cid.cls" class="InductiveConstructor">cls</a> <a id="1119" href="MJ.Semantics.Objects.Flat.html#1083" class="Bound">cid</a><a id="1122" class="Symbol">))</a> <a id="1125" href="MJ.Semantics.Objects.Flat.html#1094" class="Bound">ns</a> <a id="1128" href="Data.List.Base.html#_%2B%2B_" class="Function Operator">++</a> <a id="1131" href="MJ.Semantics.Objects.Flat.html#collect" class="Function">collect</a> <a id="1139" href="MJ.Semantics.Objects.Flat.html#1090" class="Bound">ch</a> <a id="1142" href="MJ.Semantics.Objects.Flat.html#1094" class="Bound">ns</a>
  <a id="1147" href="MJ.Semantics.Objects.Flat.html#collect" class="Function">collect</a> <a id="1155" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a> <a id="1157" href="MJ.Semantics.Objects.Flat.html#1157" class="Bound">ns</a> <a id="1160" class="Symbol">=</a> <a id="1162" href="MJ.Classtable.Core.html#1502" class="Field">Class.decls</a> <a id="1174" class="Symbol">(</a><a id="1175" href="MJ.Classtable.Core.html#2464" class="Function">Σ</a> <a id="1177" href="MJ.Types.html#Cid.Object" class="InductiveConstructor">Object</a><a id="1183" class="Symbol">)</a> <a id="1185" href="MJ.Semantics.Objects.Flat.html#1157" class="Bound">ns</a>

  <a id="1191" class="Comment">{-
  We define collect members by delegation to collection of members over a particular
  inheritance chain.
  This makes the definition structurally recursive and is sound by the fact that
  inheritance chains are unique.
  -}</a>
  <a id="collect-members" href="MJ.Semantics.Objects.Flat.html#collect-members" class="Function">collect-members</a> <a id="1437" class="Symbol">:</a> <a id="1439" class="Symbol">∀</a> <a id="1441" href="MJ.Semantics.Objects.Flat.html#1441" class="Bound">cid</a> <a id="1445" href="MJ.Semantics.Objects.Flat.html#1445" class="Bound">ns</a> <a id="1448" class="Symbol">→</a> <a id="1450" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="1455" class="Symbol">(</a><a id="1456" href="Agda.Builtin.String.html#String" class="Postulate">String</a> <a id="1463" href="Data.Product.html#_%C3%97_" class="Function Operator">×</a> <a id="1465" href="MJ.Classtable.Core.html#670" class="Function">typing</a> <a id="1472" href="MJ.Semantics.Objects.Flat.html#1445" class="Bound">ns</a><a id="1474" class="Symbol">)</a>
  <a id="1478" href="MJ.Semantics.Objects.Flat.html#collect-members" class="Function">collect-members</a> <a id="1494" href="MJ.Semantics.Objects.Flat.html#1494" class="Bound">cid</a> <a id="1498" href="MJ.Semantics.Objects.Flat.html#1498" class="Bound">ns</a> <a id="1501" class="Symbol">=</a> <a id="1503" href="MJ.Semantics.Objects.Flat.html#collect" class="Function">collect</a> <a id="1511" class="Symbol">(</a><a id="1512" href="MJ.Classtable.Core.html#2541" class="Function">rooted</a> <a id="1519" href="MJ.Semantics.Objects.Flat.html#1494" class="Bound">cid</a><a id="1522" class="Symbol">)</a> <a id="1524" href="MJ.Semantics.Objects.Flat.html#1498" class="Bound">ns</a>

  <a id="1530" class="Comment">{-
  An Object is then simply represented by a list of values for all it&#39;s members.
  -}</a>
  <a id="Obj" href="MJ.Semantics.Objects.Flat.html#Obj" class="Function">Obj</a> <a id="1625" class="Symbol">:</a> <a id="1627" class="Symbol">(</a><a id="1628" href="MJ.Types.html#World" class="Function">World</a> <a id="1634" href="MJ.Semantics.Objects.Flat.html#152" class="Bound">c</a><a id="1635" class="Symbol">)</a> <a id="1637" class="Symbol">→</a> <a id="1639" class="Symbol">(</a><a id="1640" href="MJ.Semantics.Objects.Flat.html#1640" class="Bound">cid</a> <a id="1644" class="Symbol">:</a> <a id="1646" class="Symbol">_)</a> <a id="1649" class="Symbol">→</a> <a id="1651" class="PrimitiveType">Set</a>
  <a id="1657" href="MJ.Semantics.Objects.Flat.html#Obj" class="Function">Obj</a> <a id="1661" href="MJ.Semantics.Objects.Flat.html#1661" class="Bound">W</a> <a id="1663" href="MJ.Semantics.Objects.Flat.html#1663" class="Bound">cid</a> <a id="1667" class="Symbol">=</a> <a id="1669" href="Data.List.All.html#All" class="Datatype">All</a> <a id="1673" class="Symbol">(λ</a> <a id="1676" href="MJ.Semantics.Objects.Flat.html#1676" class="Bound">d</a> <a id="1678" class="Symbol">→</a> <a id="1680" href="MJ.Semantics.Values.html#927" class="Datatype">Val</a> <a id="1684" href="MJ.Semantics.Objects.Flat.html#1661" class="Bound">W</a> <a id="1686" class="Symbol">(</a><a id="1687" href="Data.Product.html#%CE%A3.proj%E2%82%82" class="Field">proj₂</a> <a id="1693" href="MJ.Semantics.Objects.Flat.html#1676" class="Bound">d</a><a id="1694" class="Symbol">))</a> <a id="1697" class="Symbol">(</a><a id="1698" href="MJ.Semantics.Objects.Flat.html#collect-members" class="Function">collect-members</a> <a id="1714" href="MJ.Semantics.Objects.Flat.html#1663" class="Bound">cid</a> <a id="1718" href="MJ.Classtable.Core.html#657" class="InductiveConstructor">FIELD</a><a id="1723" class="Symbol">)</a>

  <a id="weaken-obj" href="MJ.Semantics.Objects.Flat.html#weaken-obj" class="Function">weaken-obj</a> <a id="1739" class="Symbol">:</a> <a id="1741" class="Symbol">∀</a> <a id="1743" class="Symbol">{</a><a id="1744" href="MJ.Semantics.Objects.Flat.html#1744" class="Bound">W</a> <a id="1746" href="MJ.Semantics.Objects.Flat.html#1746" class="Bound">W&#39;</a><a id="1748" class="Symbol">}</a> <a id="1750" href="MJ.Semantics.Objects.Flat.html#1750" class="Bound">cid</a> <a id="1754" class="Symbol">→</a> <a id="1756" href="MJ.Semantics.Objects.Flat.html#1746" class="Bound">W&#39;</a> <a id="1759" href="Data.List.Prefix.html#_%E2%8A%92_" class="Function Operator">⊒</a> <a id="1761" href="MJ.Semantics.Objects.Flat.html#1744" class="Bound">W</a> <a id="1763" class="Symbol">→</a> <a id="1765" href="MJ.Semantics.Objects.Flat.html#Obj" class="Function">Obj</a> <a id="1769" href="MJ.Semantics.Objects.Flat.html#1744" class="Bound">W</a> <a id="1771" href="MJ.Semantics.Objects.Flat.html#1750" class="Bound">cid</a> <a id="1775" class="Symbol">→</a> <a id="1777" href="MJ.Semantics.Objects.Flat.html#Obj" class="Function">Obj</a> <a id="1781" href="MJ.Semantics.Objects.Flat.html#1746" class="Bound">W&#39;</a> <a id="1784" href="MJ.Semantics.Objects.Flat.html#1750" class="Bound">cid</a>
  <a id="1790" href="MJ.Semantics.Objects.Flat.html#weaken-obj" class="Function">weaken-obj</a> <a id="1801" href="MJ.Semantics.Objects.Flat.html#1801" class="Bound">cid</a> <a id="1805" href="MJ.Semantics.Objects.Flat.html#1805" class="Bound">ext</a> <a id="1809" href="MJ.Semantics.Objects.Flat.html#1809" class="Bound">O</a> <a id="1811" class="Symbol">=</a> <a id="1813" href="Data.List.All.html#map" class="Function">List∀.map</a> <a id="1823" class="Symbol">(</a><a id="1824" href="MJ.Semantics.Values.html#2602" class="Function">weaken-val</a> <a id="1835" href="MJ.Semantics.Objects.Flat.html#1805" class="Bound">ext</a><a id="1838" class="Symbol">)</a> <a id="1840" href="MJ.Semantics.Objects.Flat.html#1809" class="Bound">O</a>

  <a id="1845" class="Comment">{-
  We can relate the flat Object structure with the hierarchical notion of membership
  through the definition of `collect`.
  This allows us to get and set members on Objects.
  -}</a>
  <a id="getter" href="MJ.Semantics.Objects.Flat.html#getter" class="Function">getter</a> <a id="2038" class="Symbol">:</a> <a id="2040" class="Symbol">∀</a> <a id="2042" class="Symbol">{</a><a id="2043" href="MJ.Semantics.Objects.Flat.html#2043" class="Bound">W</a> <a id="2045" href="MJ.Semantics.Objects.Flat.html#2045" class="Bound">n</a> <a id="2047" href="MJ.Semantics.Objects.Flat.html#2047" class="Bound">a</a><a id="2048" class="Symbol">}</a> <a id="2050" href="MJ.Semantics.Objects.Flat.html#2050" class="Bound">cid</a> <a id="2054" class="Symbol">→</a> <a id="2056" href="MJ.Semantics.Objects.Flat.html#Obj" class="Function">Obj</a> <a id="2060" href="MJ.Semantics.Objects.Flat.html#2043" class="Bound">W</a> <a id="2062" href="MJ.Semantics.Objects.Flat.html#2050" class="Bound">cid</a> <a id="2066" class="Symbol">→</a> <a id="2068" href="MJ.Classtable.Membership.html#960" class="Function">IsMember</a> <a id="2077" href="MJ.Semantics.Objects.Flat.html#2050" class="Bound">cid</a> <a id="2081" href="MJ.Classtable.Core.html#657" class="InductiveConstructor">FIELD</a> <a id="2087" href="MJ.Semantics.Objects.Flat.html#2045" class="Bound">n</a> <a id="2089" href="MJ.Semantics.Objects.Flat.html#2047" class="Bound">a</a> <a id="2091" class="Symbol">→</a> <a id="2093" href="MJ.Semantics.Values.html#927" class="Datatype">Val</a> <a id="2097" href="MJ.Semantics.Objects.Flat.html#2043" class="Bound">W</a> <a id="2099" href="MJ.Semantics.Objects.Flat.html#2047" class="Bound">a</a>
  <a id="2103" href="MJ.Semantics.Objects.Flat.html#getter" class="Function">getter</a> <a id="2110" href="MJ.Semantics.Objects.Flat.html#2110" class="Bound">cid</a> <a id="2114" href="MJ.Semantics.Objects.Flat.html#2114" class="Bound">O</a> <a id="2116" href="MJ.Semantics.Objects.Flat.html#2116" class="Bound">q</a> <a id="2118" class="Keyword">with</a> <a id="2123" href="MJ.Classtable.Core.html#2541" class="Function">rooted</a> <a id="2130" href="MJ.Semantics.Objects.Flat.html#2110" class="Bound">cid</a>
  <a id="2136" href="MJ.Semantics.Objects.Flat.html#getter" class="Function">getter</a> <a id="2143" class="DottedPattern Symbol">.</a><a id="2144" href="MJ.Types.html#Cid.Object" class="DottedPattern InductiveConstructor">Object</a> <a id="2151" href="MJ.Semantics.Objects.Flat.html#2151" class="Bound">O</a> <a id="2153" class="Symbol">(</a><a id="2154" class="DottedPattern Symbol">.</a><a id="2155" href="MJ.Types.html#Cid.Object" class="DottedPattern InductiveConstructor">Object</a> <a id="2162" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2164" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a> <a id="2166" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2168" href="MJ.Semantics.Objects.Flat.html#2168" class="Bound">def</a><a id="2171" class="Symbol">)</a> <a id="2173" class="Symbol">|</a> <a id="2175" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a> <a id="2177" class="Symbol">=</a> <a id="2179" href="Data.List.All.Properties.Extra.html#%E2%88%88-all" class="Function">∈-all</a> <a id="2185" class="Symbol">(</a><a id="2186" href="Data.Product.html#%CE%A3.proj%E2%82%81" class="Field">proj₁</a> <a id="2192" class="Symbol">(</a><a id="2193" href="Data.List.First.Properties.html#first%E2%9F%B6%E2%88%88" class="Function">first⟶∈</a> <a id="2201" href="MJ.Semantics.Objects.Flat.html#2168" class="Bound">def</a><a id="2204" class="Symbol">))</a> <a id="2207" href="MJ.Semantics.Objects.Flat.html#2151" class="Bound">O</a>
  <a id="2211" href="MJ.Semantics.Objects.Flat.html#getter" class="Function">getter</a> <a id="2218" class="DottedPattern Symbol">.</a><a id="2219" href="MJ.Types.html#Cid.Object" class="DottedPattern InductiveConstructor">Object</a> <a id="2226" href="MJ.Semantics.Objects.Flat.html#2226" class="Bound">O</a> <a id="2228" class="Symbol">(_</a> <a id="2231" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2233" class="Symbol">()</a> <a id="2236" href="Data.Star.html#Star._%E2%97%85_" class="InductiveConstructor Operator">◅</a> <a id="2238" class="Symbol">_</a> <a id="2240" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2242" class="Symbol">_)</a> <a id="2245" class="Symbol">|</a> <a id="2247" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a>
  <a id="2251" href="MJ.Semantics.Objects.Flat.html#getter" class="Function">getter</a> <a id="2258" class="DottedPattern Symbol">._</a> <a id="2261" href="MJ.Semantics.Objects.Flat.html#2261" class="Bound">O</a> <a id="2263" class="Symbol">(</a><a id="2264" class="DottedPattern Symbol">._</a> <a id="2267" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2269" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a> <a id="2271" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2273" href="MJ.Semantics.Objects.Flat.html#2273" class="Bound">def</a><a id="2276" class="Symbol">)</a> <a id="2278" class="Symbol">|</a> <a id="2280" href="MJ.Classtable.Core.html#1988" class="InductiveConstructor">super</a> <a id="2286" class="Symbol">{</a><a id="2287" href="MJ.Semantics.Objects.Flat.html#2287" class="Bound">cid</a><a id="2290" class="Symbol">}</a> <a id="2292" href="Data.Star.html#Star._%E2%97%85_" class="InductiveConstructor Operator">◅</a> <a id="2294" href="MJ.Semantics.Objects.Flat.html#2294" class="Bound">z</a>
    <a id="2300" class="Keyword">with</a> <a id="2305" href="Data.List.All.Properties.Extra.html#split-%2B%2B" class="Function">split-++</a> <a id="2314" class="Symbol">(</a><a id="2315" href="MJ.Classtable.Core.html#1502" class="Field">Class.decls</a> <a id="2327" class="Symbol">(</a><a id="2328" href="MJ.Classtable.Core.html#2464" class="Function">Σ</a> <a id="2330" class="Symbol">(</a><a id="2331" href="MJ.Types.html#Cid.cls" class="InductiveConstructor">cls</a> <a id="2335" class="Symbol">_))</a> <a id="2339" href="MJ.Classtable.Core.html#657" class="InductiveConstructor">FIELD</a><a id="2344" class="Symbol">)</a> <a id="2346" class="Symbol">_</a> <a id="2348" href="MJ.Semantics.Objects.Flat.html#2261" class="Bound">O</a>
  <a id="2352" class="Symbol">...</a> <a id="2356" class="Symbol">|</a> <a id="2358" href="MJ.Semantics.Objects.Flat.html#2358" class="Bound">own</a> <a id="2362" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2364" href="MJ.Semantics.Objects.Flat.html#2364" class="Bound">inherited</a> <a id="2374" class="Symbol">=</a> <a id="2376" href="Data.List.All.Properties.Extra.html#%E2%88%88-all" class="Function">∈-all</a> <a id="2382" class="Symbol">(</a><a id="2383" href="Data.Product.html#%CE%A3.proj%E2%82%81" class="Field">proj₁</a> <a id="2389" class="Symbol">(</a><a id="2390" href="Data.List.First.Properties.html#first%E2%9F%B6%E2%88%88" class="Function">first⟶∈</a> <a id="2398" class="Bound">def</a><a id="2401" class="Symbol">))</a> <a id="2404" href="MJ.Semantics.Objects.Flat.html#2358" class="Bound">own</a>
  <a id="2410" href="MJ.Semantics.Objects.Flat.html#getter" class="Function">getter</a> <a id="2417" class="DottedPattern Symbol">._</a> <a id="2420" href="MJ.Semantics.Objects.Flat.html#2420" class="Bound">O</a> <a id="2422" class="Symbol">(</a><a id="2423" href="MJ.Semantics.Objects.Flat.html#2423" class="Bound">pid</a> <a id="2427" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2429" href="MJ.Classtable.Core.html#1988" class="InductiveConstructor">super</a> <a id="2435" class="Symbol">{</a><a id="2436" href="MJ.Semantics.Objects.Flat.html#2436" class="Bound">cid</a><a id="2439" class="Symbol">}</a> <a id="2441" href="Data.Star.html#Star._%E2%97%85_" class="InductiveConstructor Operator">◅</a> <a id="2443" href="MJ.Semantics.Objects.Flat.html#2443" class="Bound">s</a> <a id="2445" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2447" href="MJ.Semantics.Objects.Flat.html#2447" class="Bound">def</a><a id="2450" class="Symbol">)</a> <a id="2452" class="Symbol">|</a> <a id="2454" href="MJ.Classtable.Core.html#1988" class="InductiveConstructor">super</a> <a id="2460" href="Data.Star.html#Star._%E2%97%85_" class="InductiveConstructor Operator">◅</a> <a id="2462" href="MJ.Semantics.Objects.Flat.html#2462" class="Bound">z</a>
    <a id="2468" class="Keyword">with</a> <a id="2473" href="Data.List.All.Properties.Extra.html#split-%2B%2B" class="Function">split-++</a> <a id="2482" class="Symbol">(</a><a id="2483" href="MJ.Classtable.Core.html#1502" class="Field">Class.decls</a> <a id="2495" class="Symbol">(</a><a id="2496" href="MJ.Classtable.Core.html#2464" class="Function">Σ</a> <a id="2498" class="Symbol">(</a><a id="2499" href="MJ.Types.html#Cid.cls" class="InductiveConstructor">cls</a> <a id="2503" class="Symbol">_))</a> <a id="2507" href="MJ.Classtable.Core.html#657" class="InductiveConstructor">FIELD</a><a id="2512" class="Symbol">)</a> <a id="2514" class="Symbol">_</a> <a id="2516" href="MJ.Semantics.Objects.Flat.html#2420" class="Bound">O</a>
  <a id="2520" class="Symbol">...</a> <a id="2524" class="Symbol">|</a> <a id="2526" href="MJ.Semantics.Objects.Flat.html#2526" class="Bound">own</a> <a id="2530" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2532" href="MJ.Semantics.Objects.Flat.html#2532" class="Bound">inherited</a> <a id="2542" class="Keyword">rewrite</a> <a id="2550" href="MJ.Classtable.Core.html#5604" class="Function">&lt;:-unique</a> <a id="2560" class="Bound">z</a> <a id="2562" class="Symbol">(</a><a id="2563" href="MJ.Classtable.Core.html#2541" class="Function">rooted</a> <a id="2570" class="Symbol">(</a><a id="2571" href="MJ.Classtable.Core.html#1438" class="Field">Class.parent</a> <a id="2584" class="Symbol">(</a><a id="2585" href="MJ.Classtable.Core.html#2464" class="Function">Σ</a> <a id="2587" class="Symbol">(</a><a id="2588" href="MJ.Types.html#Cid.cls" class="InductiveConstructor">cls</a> <a id="2592" class="Bound">cid</a><a id="2595" class="Symbol">))))</a> <a id="2600" class="Symbol">=</a>
    <a id="2606" href="MJ.Semantics.Objects.Flat.html#getter" class="Function">getter</a> <a id="2613" class="Symbol">_</a> <a id="2615" href="MJ.Semantics.Objects.Flat.html#2532" class="Bound">inherited</a> <a id="2625" class="Symbol">(</a><a id="2626" class="Bound">pid</a> <a id="2630" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2632" class="Bound">s</a> <a id="2634" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2636" class="Bound">def</a><a id="2639" class="Symbol">)</a>

  <a id="setter" href="MJ.Semantics.Objects.Flat.html#setter" class="Function">setter</a> <a id="2651" class="Symbol">:</a> <a id="2653" class="Symbol">∀</a> <a id="2655" class="Symbol">{</a><a id="2656" href="MJ.Semantics.Objects.Flat.html#2656" class="Bound">W</a> <a id="2658" href="MJ.Semantics.Objects.Flat.html#2658" class="Bound">f</a> <a id="2660" href="MJ.Semantics.Objects.Flat.html#2660" class="Bound">a</a><a id="2661" class="Symbol">}</a> <a id="2663" href="MJ.Semantics.Objects.Flat.html#2663" class="Bound">cid</a> <a id="2667" class="Symbol">→</a> <a id="2669" href="MJ.Semantics.Objects.Flat.html#Obj" class="Function">Obj</a> <a id="2673" href="MJ.Semantics.Objects.Flat.html#2656" class="Bound">W</a> <a id="2675" href="MJ.Semantics.Objects.Flat.html#2663" class="Bound">cid</a> <a id="2679" class="Symbol">→</a> <a id="2681" href="MJ.Classtable.Membership.html#960" class="Function">IsMember</a> <a id="2690" href="MJ.Semantics.Objects.Flat.html#2663" class="Bound">cid</a> <a id="2694" href="MJ.Classtable.Core.html#657" class="InductiveConstructor">FIELD</a> <a id="2700" href="MJ.Semantics.Objects.Flat.html#2658" class="Bound">f</a> <a id="2702" href="MJ.Semantics.Objects.Flat.html#2660" class="Bound">a</a> <a id="2704" class="Symbol">→</a> <a id="2706" href="MJ.Semantics.Values.html#927" class="Datatype">Val</a> <a id="2710" href="MJ.Semantics.Objects.Flat.html#2656" class="Bound">W</a> <a id="2712" href="MJ.Semantics.Objects.Flat.html#2660" class="Bound">a</a> <a id="2714" class="Symbol">→</a> <a id="2716" href="MJ.Semantics.Objects.Flat.html#Obj" class="Function">Obj</a> <a id="2720" href="MJ.Semantics.Objects.Flat.html#2656" class="Bound">W</a> <a id="2722" href="MJ.Semantics.Objects.Flat.html#2663" class="Bound">cid</a>
  <a id="2728" href="MJ.Semantics.Objects.Flat.html#setter" class="Function">setter</a> <a id="2735" class="Symbol">(</a><a id="2736" href="MJ.Types.html#Cid.cls" class="InductiveConstructor">cls</a> <a id="2740" href="MJ.Semantics.Objects.Flat.html#2740" class="Bound">cid</a><a id="2743" class="Symbol">)</a> <a id="2745" href="MJ.Semantics.Objects.Flat.html#2745" class="Bound">O</a> <a id="2747" href="MJ.Semantics.Objects.Flat.html#2747" class="Bound">q</a> <a id="2749" href="MJ.Semantics.Objects.Flat.html#2749" class="Bound">v</a> <a id="2751" class="Keyword">with</a> <a id="2756" href="MJ.Classtable.Core.html#2541" class="Function">rooted</a> <a id="2763" class="Symbol">(</a><a id="2764" href="MJ.Types.html#Cid.cls" class="InductiveConstructor">cls</a> <a id="2768" href="MJ.Semantics.Objects.Flat.html#2740" class="Bound">cid</a><a id="2771" class="Symbol">)</a>
  <a id="2775" href="MJ.Semantics.Objects.Flat.html#setter" class="Function">setter</a> <a id="2782" class="Symbol">(</a><a id="2783" href="MJ.Types.html#Cid.cls" class="InductiveConstructor">cls</a> <a id="2787" href="MJ.Semantics.Objects.Flat.html#2787" class="Bound">cid</a><a id="2790" class="Symbol">)</a> <a id="2792" href="MJ.Semantics.Objects.Flat.html#2792" class="Bound">O</a> <a id="2794" class="Symbol">(</a><a id="2795" class="DottedPattern Symbol">._</a> <a id="2798" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2800" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a> <a id="2802" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2804" href="MJ.Semantics.Objects.Flat.html#2804" class="Bound">def</a><a id="2807" class="Symbol">)</a> <a id="2809" href="MJ.Semantics.Objects.Flat.html#2809" class="Bound">v</a> <a id="2811" class="Symbol">|</a> <a id="2813" href="MJ.Classtable.Core.html#1988" class="InductiveConstructor">super</a> <a id="2819" href="Data.Star.html#Star._%E2%97%85_" class="InductiveConstructor Operator">◅</a> <a id="2821" href="MJ.Semantics.Objects.Flat.html#2821" class="Bound">z</a> <a id="2823" class="Keyword">with</a> <a id="2828" href="Data.List.All.Properties.Extra.html#split-%2B%2B" class="Function">split-++</a> <a id="2837" class="Symbol">(</a><a id="2838" href="MJ.Classtable.Core.html#1502" class="Field">Class.decls</a> <a id="2850" class="Symbol">(</a><a id="2851" href="MJ.Classtable.Core.html#2464" class="Function">Σ</a> <a id="2853" class="Symbol">(</a><a id="2854" href="MJ.Types.html#Cid.cls" class="InductiveConstructor">cls</a> <a id="2858" class="Symbol">_))</a> <a id="2862" href="MJ.Classtable.Core.html#657" class="InductiveConstructor">FIELD</a><a id="2867" class="Symbol">)</a> <a id="2869" class="Symbol">_</a> <a id="2871" href="MJ.Semantics.Objects.Flat.html#2792" class="Bound">O</a>
  <a id="2875" class="Symbol">...</a> <a id="2879" class="Symbol">|</a> <a id="2881" href="MJ.Semantics.Objects.Flat.html#2881" class="Bound">own</a> <a id="2885" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2887" href="MJ.Semantics.Objects.Flat.html#2887" class="Bound">inherited</a> <a id="2897" class="Symbol">=</a>
    <a id="2903" class="Symbol">(</a><a id="2904" href="MJ.Semantics.Objects.Flat.html#2881" class="Bound">own</a> <a id="2908" href="Data.List.All.Properties.Extra.html#_All%5B_%5D%E2%89%94%27_" class="Function Operator">All[</a> <a id="2913" href="Data.Product.html#%CE%A3.proj%E2%82%81" class="Field">proj₁</a> <a id="2919" class="Symbol">(</a><a id="2920" href="Data.List.First.Properties.html#first%E2%9F%B6%E2%88%88" class="Function">first⟶∈</a> <a id="2928" class="Bound">def</a><a id="2931" class="Symbol">)</a> <a id="2933" href="Data.List.All.Properties.Extra.html#_All%5B_%5D%E2%89%94%27_" class="Function Operator">]≔&#39;</a> <a id="2937" class="Bound">v</a><a id="2938" class="Symbol">)</a> <a id="2940" href="Data.List.All.Properties.Extra.html#_%2B%2B-all_" class="Function Operator">++-all</a> <a id="2947" href="MJ.Semantics.Objects.Flat.html#2887" class="Bound">inherited</a>
  <a id="2959" href="MJ.Semantics.Objects.Flat.html#setter" class="Function">setter</a> <a id="2966" class="Symbol">(</a><a id="2967" href="MJ.Types.html#Cid.cls" class="InductiveConstructor">cls</a> <a id="2971" href="MJ.Semantics.Objects.Flat.html#2971" class="Bound">cid</a><a id="2974" class="Symbol">)</a> <a id="2976" href="MJ.Semantics.Objects.Flat.html#2976" class="Bound">O</a> <a id="2978" class="Symbol">(</a><a id="2979" class="DottedPattern Symbol">._</a> <a id="2982" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2984" href="MJ.Classtable.Core.html#1988" class="InductiveConstructor">super</a> <a id="2990" href="Data.Star.html#Star._%E2%97%85_" class="InductiveConstructor Operator">◅</a> <a id="2992" href="MJ.Semantics.Objects.Flat.html#2992" class="Bound">s</a> <a id="2994" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2996" href="MJ.Semantics.Objects.Flat.html#2996" class="Bound">def</a><a id="2999" class="Symbol">)</a> <a id="3001" href="MJ.Semantics.Objects.Flat.html#3001" class="Bound">v</a> <a id="3003" class="Symbol">|</a> <a id="3005" href="MJ.Classtable.Core.html#1988" class="InductiveConstructor">super</a> <a id="3011" href="Data.Star.html#Star._%E2%97%85_" class="InductiveConstructor Operator">◅</a> <a id="3013" href="MJ.Semantics.Objects.Flat.html#3013" class="Bound">z</a> <a id="3015" class="Keyword">with</a> <a id="3020" href="Data.List.All.Properties.Extra.html#split-%2B%2B" class="Function">split-++</a> <a id="3029" class="Symbol">(</a><a id="3030" href="MJ.Classtable.Core.html#1502" class="Field">Class.decls</a> <a id="3042" class="Symbol">(</a><a id="3043" href="MJ.Classtable.Core.html#2464" class="Function">Σ</a> <a id="3045" class="Symbol">(</a><a id="3046" href="MJ.Types.html#Cid.cls" class="InductiveConstructor">cls</a> <a id="3050" class="Symbol">_))</a> <a id="3054" href="MJ.Classtable.Core.html#657" class="InductiveConstructor">FIELD</a><a id="3059" class="Symbol">)</a> <a id="3061" class="Symbol">_</a> <a id="3063" href="MJ.Semantics.Objects.Flat.html#2976" class="Bound">O</a>
  <a id="3067" class="Symbol">...</a> <a id="3071" class="Symbol">|</a> <a id="3073" href="MJ.Semantics.Objects.Flat.html#3073" class="Bound">own</a> <a id="3077" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3079" href="MJ.Semantics.Objects.Flat.html#3079" class="Bound">inherited</a> <a id="3089" class="Keyword">rewrite</a> <a id="3097" href="MJ.Classtable.Core.html#5604" class="Function">&lt;:-unique</a> <a id="3107" class="Bound">z</a> <a id="3109" class="Symbol">(</a><a id="3110" href="MJ.Classtable.Core.html#2541" class="Function">rooted</a> <a id="3117" class="Symbol">(</a><a id="3118" href="MJ.Classtable.Core.html#1438" class="Field">Class.parent</a> <a id="3131" class="Symbol">(</a><a id="3132" href="MJ.Classtable.Core.html#2464" class="Function">Σ</a> <a id="3134" class="Symbol">(</a><a id="3135" href="MJ.Types.html#Cid.cls" class="InductiveConstructor">cls</a> <a id="3139" class="Bound">cid</a><a id="3142" class="Symbol">))))</a> <a id="3147" class="Symbol">=</a>
    <a id="3153" href="MJ.Semantics.Objects.Flat.html#3073" class="Bound">own</a> <a id="3157" href="Data.List.All.Properties.Extra.html#_%2B%2B-all_" class="Function Operator">++-all</a> <a id="3164" href="MJ.Semantics.Objects.Flat.html#setter" class="Function">setter</a> <a id="3171" class="Symbol">_</a> <a id="3173" href="MJ.Semantics.Objects.Flat.html#3079" class="Bound">inherited</a> <a id="3183" class="Symbol">(_</a> <a id="3186" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3188" class="Bound">s</a> <a id="3190" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3192" class="Bound">def</a><a id="3195" class="Symbol">)</a> <a id="3197" class="Bound">v</a>
  <a id="3201" href="MJ.Semantics.Objects.Flat.html#setter" class="Function">setter</a> <a id="3208" href="MJ.Types.html#Cid.Object" class="InductiveConstructor">Object</a> <a id="3215" href="MJ.Semantics.Objects.Flat.html#3215" class="Bound">O</a> <a id="3217" href="MJ.Semantics.Objects.Flat.html#3217" class="Bound">mem</a> <a id="3221" href="MJ.Semantics.Objects.Flat.html#3221" class="Bound">v</a> <a id="3223" class="Symbol">=</a> <a id="3225" href="Data.Empty.html#%E2%8A%A5-elim" class="Function">⊥-elim</a> <a id="3232" class="Symbol">(</a><a id="3233" href="MJ.Classtable.Membership.html#1146" class="Function">∉Object</a> <a id="3241" href="MJ.Semantics.Objects.Flat.html#3217" class="Bound">mem</a><a id="3244" class="Symbol">)</a>

  <a id="3249" class="Comment">{-
  A default object instance can be created for every class simply by tabulating `default`
  over the types of all fields of a class.
  -}</a>
  <a id="defaultObject&#39;" href="MJ.Semantics.Objects.Flat.html#defaultObject%27" class="Function">defaultObject&#39;</a> <a id="3407" class="Symbol">:</a> <a id="3409" class="Symbol">∀</a> <a id="3411" class="Symbol">{</a><a id="3412" href="MJ.Semantics.Objects.Flat.html#3412" class="Bound">W</a> <a id="3414" href="MJ.Semantics.Objects.Flat.html#3414" class="Bound">cid</a><a id="3417" class="Symbol">}</a> <a id="3419" class="Symbol">→</a> <a id="3421" class="Symbol">(</a><a id="3422" href="MJ.Semantics.Objects.Flat.html#3422" class="Bound">ch</a> <a id="3425" class="Symbol">:</a> <a id="3427" href="MJ.Classtable.Core.html#2464" class="Function">Σ</a> <a id="3429" href="MJ.Classtable.Core.html#2074" class="Function Operator">⊢</a> <a id="3431" href="MJ.Semantics.Objects.Flat.html#3414" class="Bound">cid</a> <a id="3435" href="MJ.Classtable.Core.html#2074" class="Function Operator">&lt;:</a> <a id="3438" href="MJ.Types.html#Cid.Object" class="InductiveConstructor">Object</a><a id="3444" class="Symbol">)</a> <a id="3446" class="Symbol">→</a> <a id="3448" href="Data.List.All.html#All" class="Datatype">All</a> <a id="3452" class="Symbol">(λ</a> <a id="3455" href="MJ.Semantics.Objects.Flat.html#3455" class="Bound">d</a> <a id="3457" class="Symbol">→</a> <a id="3459" href="MJ.Semantics.Values.html#927" class="Datatype">Val</a> <a id="3463" href="MJ.Semantics.Objects.Flat.html#3412" class="Bound">W</a> <a id="3465" class="Symbol">(</a><a id="3466" href="Data.Product.html#%CE%A3.proj%E2%82%82" class="Field">proj₂</a> <a id="3472" href="MJ.Semantics.Objects.Flat.html#3455" class="Bound">d</a><a id="3473" class="Symbol">))</a> <a id="3476" class="Symbol">(</a><a id="3477" href="MJ.Semantics.Objects.Flat.html#collect" class="Function">collect</a> <a id="3485" href="MJ.Semantics.Objects.Flat.html#3422" class="Bound">ch</a> <a id="3488" href="MJ.Classtable.Core.html#657" class="InductiveConstructor">FIELD</a><a id="3493" class="Symbol">)</a>
  <a id="3497" href="MJ.Semantics.Objects.Flat.html#defaultObject%27" class="Function">defaultObject&#39;</a> <a id="3512" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a> <a id="3514" class="Keyword">rewrite</a> <a id="3522" href="MJ.Classtable.Core.html#2578" class="Function">Σ-Object</a> <a id="3531" class="Symbol">=</a> <a id="3533" href="Data.List.All.html#All.%5B%5D" class="InductiveConstructor">[]</a>
  <a id="3538" href="MJ.Semantics.Objects.Flat.html#defaultObject%27" class="Function">defaultObject&#39;</a> <a id="3553" class="Symbol">{</a><a id="3554" class="Argument">cid</a> <a id="3558" class="Symbol">=</a> <a id="3560" href="MJ.Types.html#Cid.Object" class="InductiveConstructor">Object</a><a id="3566" class="Symbol">}</a> <a id="3568" class="Symbol">(()</a> <a id="3572" href="Data.Star.html#Star._%E2%97%85_" class="InductiveConstructor Operator">◅</a> <a id="3574" class="Symbol">_)</a>
  <a id="3579" href="MJ.Semantics.Objects.Flat.html#defaultObject%27" class="Function">defaultObject&#39;</a> <a id="3594" class="Symbol">{</a><a id="3595" class="Argument">cid</a> <a id="3599" class="Symbol">=</a> <a id="3601" href="MJ.Types.html#Cid.cls" class="InductiveConstructor">cls</a> <a id="3605" href="MJ.Semantics.Objects.Flat.html#3605" class="Bound">x</a><a id="3606" class="Symbol">}</a> <a id="3608" class="Symbol">(</a><a id="3609" href="MJ.Classtable.Core.html#1988" class="InductiveConstructor">super</a> <a id="3615" href="Data.Star.html#Star._%E2%97%85_" class="InductiveConstructor Operator">◅</a> <a id="3617" href="MJ.Semantics.Objects.Flat.html#3617" class="Bound">z</a><a id="3618" class="Symbol">)</a> <a id="3620" class="Symbol">=</a>
    <a id="3626" href="Data.List.All.html#tabulate" class="Function">List∀.tabulate</a> <a id="3641" class="Symbol">{</a><a id="3642" class="Argument">xs</a> <a id="3645" class="Symbol">=</a> <a id="3647" href="MJ.Classtable.Core.html#1502" class="Field">Class.decls</a> <a id="3659" class="Symbol">(</a><a id="3660" href="MJ.Classtable.Core.html#2464" class="Function">Σ</a> <a id="3662" class="Symbol">(</a><a id="3663" href="MJ.Types.html#Cid.cls" class="InductiveConstructor">cls</a> <a id="3667" href="MJ.Semantics.Objects.Flat.html#3605" class="Bound">x</a><a id="3668" class="Symbol">))</a> <a id="3671" href="MJ.Classtable.Core.html#657" class="InductiveConstructor">FIELD</a><a id="3676" class="Symbol">}</a> <a id="3678" class="Symbol">(λ{</a> <a id="3682" class="Symbol">{_</a> <a id="3685" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3687" href="MJ.Semantics.Objects.Flat.html#3687" class="Bound">ty</a><a id="3689" class="Symbol">}</a> <a id="3691" class="Symbol">_</a> <a id="3693" class="Symbol">→</a> <a id="3695" href="MJ.Semantics.Values.html#1168" class="Function">default</a> <a id="3703" href="MJ.Semantics.Objects.Flat.html#3687" class="Bound">ty</a><a id="3705" class="Symbol">})</a>
    <a id="3712" href="Data.List.All.Properties.Extra.html#_%2B%2B-all_" class="Function Operator">++-all</a>
    <a id="3723" href="MJ.Semantics.Objects.Flat.html#defaultObject%27" class="Function">defaultObject&#39;</a> <a id="3738" href="MJ.Semantics.Objects.Flat.html#3617" class="Bound">z</a>

<a id="3741" class="Comment">{-
We collect these definitions under the abstract ObjEncoding interface for usage in the semantics
-}</a>
<a id="encoding" href="MJ.Semantics.Objects.Flat.html#encoding" class="Function">encoding</a> <a id="3853" class="Symbol">:</a> <a id="3855" href="MJ.Semantics.Values.html#2046" class="Record">ObjEncoding</a>
<a id="3867" href="MJ.Semantics.Objects.Flat.html#encoding" class="Function">encoding</a> <a id="3876" class="Symbol">=</a> <a id="3878" class="Keyword">record</a> <a id="3885" class="Symbol">{</a>
    <a id="3891" class="Field">Obj</a> <a id="3895" class="Symbol">=</a> <a id="3897" href="MJ.Semantics.Objects.Flat.html#Obj" class="Function">Obj</a> <a id="3901" class="Symbol">;</a>
    <a id="3907" class="Field">weaken-obj</a> <a id="3918" class="Symbol">=</a> <a id="3920" class="Symbol">λ</a> <a id="3922" href="MJ.Semantics.Objects.Flat.html#3922" class="Bound">cid</a> <a id="3926" href="MJ.Semantics.Objects.Flat.html#3926" class="Bound">ext</a> <a id="3930" href="MJ.Semantics.Objects.Flat.html#3930" class="Bound">O</a> <a id="3932" class="Symbol">→</a> <a id="3934" href="MJ.Semantics.Objects.Flat.html#weaken-obj" class="Function">weaken-obj</a> <a id="3945" href="MJ.Semantics.Objects.Flat.html#3922" class="Bound">cid</a> <a id="3949" href="MJ.Semantics.Objects.Flat.html#3926" class="Bound">ext</a> <a id="3953" href="MJ.Semantics.Objects.Flat.html#3930" class="Bound">O</a> <a id="3955" class="Symbol">;</a>
    <a id="3961" class="Field">getter</a> <a id="3968" class="Symbol">=</a> <a id="3970" href="MJ.Semantics.Objects.Flat.html#getter" class="Function">getter</a> <a id="3977" class="Symbol">;</a>
    <a id="3983" class="Field">setter</a> <a id="3990" class="Symbol">=</a> <a id="3992" href="MJ.Semantics.Objects.Flat.html#setter" class="Function">setter</a> <a id="3999" class="Symbol">;</a>
    <a id="4005" class="Field">defaultObject</a> <a id="4019" class="Symbol">=</a> <a id="4021" class="Symbol">λ</a> <a id="4023" href="MJ.Semantics.Objects.Flat.html#4023" class="Bound">cid</a> <a id="4027" class="Symbol">→</a> <a id="4029" href="MJ.Semantics.Objects.Flat.html#defaultObject%27" class="Function">defaultObject&#39;</a> <a id="4044" class="Symbol">(</a><a id="4045" href="MJ.Classtable.Core.html#2541" class="Function">rooted</a> <a id="4052" href="MJ.Semantics.Objects.Flat.html#4023" class="Bound">cid</a><a id="4055" class="Symbol">)</a>
  <a id="4059" class="Symbol">}</a>
</pre></body></html>