<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>STLCSF.Semantics</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="Agda.Primitive.html" class="Module">Agda.Primitive</a>
<a id="28" class="Keyword">open</a> <a id="33" class="Keyword">import</a> <a id="40" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="50" class="Keyword">open</a> <a id="55" class="Keyword">import</a> <a id="62" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="71" class="Keyword">hiding</a> <a id="78" class="Symbol">(</a><a id="79" href="Data.Nat.Base.html#_%E2%8A%94_" class="Function Operator">_⊔_</a> <a id="83" class="Symbol">;</a> <a id="85" href="Data.Nat.Base.html#_%5E_" class="Function Operator">_^_</a><a id="88" class="Symbol">)</a>
<a id="90" class="Keyword">open</a> <a id="95" class="Keyword">import</a> <a id="102" href="Data.Integer.html" class="Module">Data.Integer</a> <a id="115" class="Keyword">hiding</a> <a id="122" class="Symbol">(</a><a id="123" href="Data.Integer.Base.html#_%E2%8A%94_" class="Function Operator">_⊔_</a><a id="126" class="Symbol">)</a>
<a id="128" class="Keyword">open</a> <a id="133" class="Keyword">import</a> <a id="140" href="Data.List.Most.html" class="Module">Data.List.Most</a>
<a id="155" class="Keyword">open</a> <a id="160" class="Keyword">import</a> <a id="167" href="Data.Product.html" class="Module">Data.Product</a>
<a id="180" class="Keyword">open</a> <a id="185" class="Keyword">import</a> <a id="192" href="Data.Maybe.html" class="Module">Data.Maybe</a> <a id="203" class="Keyword">hiding</a> <a id="210" class="Symbol">(</a><a id="211" href="Data.Maybe.Base.html#All" class="Datatype">All</a><a id="214" class="Symbol">)</a>
<a id="216" class="Keyword">open</a> <a id="221" class="Keyword">import</a> <a id="228" href="Data.List.All.html" class="Module">Data.List.All</a> <a id="242" class="Symbol">as</a> <a id="245" class="Module">List∀</a>
<a id="251" class="Keyword">open</a> <a id="256" class="Keyword">import</a> <a id="263" href="Data.List.Any.html" class="Module">Data.List.Any</a>
<a id="277" class="Keyword">open</a> <a id="282" class="Keyword">import</a> <a id="289" href="Data.List.Prefix.html" class="Module">Data.List.Prefix</a>
<a id="306" class="Keyword">open</a> <a id="311" class="Keyword">import</a> <a id="318" href="Data.List.Properties.Extra.html" class="Module">Data.List.Properties.Extra</a>
<a id="345" class="Keyword">open</a> <a id="350" class="Keyword">import</a> <a id="357" href="Data.List.All.Properties.Extra.html" class="Module">Data.List.All.Properties.Extra</a>
<a id="388" class="Keyword">open</a> <a id="393" class="Keyword">import</a> <a id="400" href="Function.html" class="Module">Function</a>
<a id="409" class="Keyword">open</a> <a id="414" class="Keyword">import</a> <a id="421" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="459" class="Keyword">hiding</a> <a id="466" class="Symbol">(</a><a id="467" href="Relation.Binary.PropositionalEquality.html#Reveal_%C2%B7_is_.%5B_%5D" class="InductiveConstructor Operator">[_]</a><a id="470" class="Symbol">)</a>
<a id="472" class="Keyword">open</a> <a id="477" href="Relation.Binary.PropositionalEquality.html#%E2%89%A1-Reasoning" class="Module">≡-Reasoning</a>
<a id="489" class="Keyword">open</a> <a id="494" class="Keyword">import</a> <a id="501" href="Common.Weakening.html" class="Module">Common.Weakening</a>

<a id="519" class="Comment">-- This file contains the definitional interpreter for STLC using</a>
<a id="585" class="Comment">-- scopes and frames, described in Section 4 of the paper.</a>

<a id="645" class="Comment">-- The scopes-and-frames library assumes that we are given a</a>
<a id="706" class="Comment">-- particular scope graph, with `k` scopes.  The following module is</a>
<a id="775" class="Comment">-- parameterized by a `k` representing the number of scopes that a</a>
<a id="842" class="Comment">-- particular object language program has.</a>

<a id="886" class="Keyword">module</a> <a id="893" href="STLCSF.Semantics.html" class="Module">STLCSF.Semantics</a> <a id="910" class="Symbol">(</a><a id="911" href="STLCSF.Semantics.html#911" class="Bound">k</a> <a id="913" class="Symbol">:</a> <a id="915" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a><a id="916" class="Symbol">)</a> <a id="918" class="Keyword">where</a>


<a id="926" class="Comment">-----------</a>
<a id="938" class="Comment">-- TYPES --</a>
<a id="950" class="Comment">-----------</a>

<a id="963" class="Keyword">data</a> <a id="Ty" href="STLCSF.Semantics.html#Ty" class="Datatype">Ty</a> <a id="971" class="Symbol">:</a> <a id="973" class="PrimitiveType">Set</a> <a id="977" class="Keyword">where</a>
  <a id="Ty.unit" href="STLCSF.Semantics.html#Ty.unit" class="InductiveConstructor">unit</a> <a id="990" class="Symbol">:</a> <a id="992" href="STLCSF.Semantics.html#Ty" class="Datatype">Ty</a>
  <a id="Ty._⇒_" href="STLCSF.Semantics.html#Ty._%E2%87%92_" class="InductiveConstructor Operator">_⇒_</a>  <a id="1002" class="Symbol">:</a> <a id="1004" class="Symbol">(</a><a id="1005" href="STLCSF.Semantics.html#1005" class="Bound">a</a> <a id="1007" href="STLCSF.Semantics.html#1007" class="Bound">b</a> <a id="1009" class="Symbol">:</a> <a id="1011" href="STLCSF.Semantics.html#Ty" class="Datatype">Ty</a><a id="1013" class="Symbol">)</a> <a id="1015" class="Symbol">→</a> <a id="1017" href="STLCSF.Semantics.html#Ty" class="Datatype">Ty</a>
  <a id="Ty.int" href="STLCSF.Semantics.html#Ty.int" class="InductiveConstructor">int</a>  <a id="1027" class="Symbol">:</a> <a id="1029" href="STLCSF.Semantics.html#Ty" class="Datatype">Ty</a>

<a id="1033" class="Comment">-- The library is loaded and passed two arguments:</a>
<a id="1084" class="Comment">--</a>
<a id="1087" class="Comment">-- * `k` is the size of the scope graph for an object program</a>
<a id="1149" class="Comment">--</a>
<a id="1152" class="Comment">-- * `Ty` is the type of declarations in the scope graph</a>

<a id="1210" class="Keyword">open</a> <a id="1215" class="Keyword">import</a> <a id="1222" href="ScopesFrames.ScopesFrames.html" class="Module">ScopesFrames.ScopesFrames</a> <a id="1248" href="STLCSF.Semantics.html#911" class="Bound">k</a> <a id="1250" href="STLCSF.Semantics.html#Ty" class="Datatype">Ty</a>

<a id="1254" class="Comment">-- Our interpreter is parameterized by a scope graph, via the module</a>
<a id="1323" class="Comment">-- below.</a>

<a id="1334" class="Keyword">module</a> <a id="Syntax" href="STLCSF.Semantics.html#Syntax" class="Module">Syntax</a> <a id="1348" class="Symbol">(</a><a id="1349" href="STLCSF.Semantics.html#1349" class="Bound">g</a> <a id="1351" class="Symbol">:</a> <a id="1353" href="ScopesFrames.ScopesFrames.html#1611" class="Function">Graph</a><a id="1358" class="Symbol">)</a> <a id="1360" class="Keyword">where</a>

  <a id="1369" class="Comment">-- We load all the scope graph definitions in the scope graph</a>
  <a id="1433" class="Comment">-- library, by passing the object scope graph `g` as module</a>
  <a id="1495" class="Comment">-- parameter:</a>
  <a id="1511" class="Keyword">open</a> <a id="1516" href="ScopesFrames.ScopesFrames.html#UsesGraph" class="Module">UsesGraph</a> <a id="1526" href="STLCSF.Semantics.html#1349" class="Bound">g</a>


  <a id="1532" class="Comment">------------</a>
  <a id="1547" class="Comment">-- SYNTAX --</a>
  <a id="1562" class="Comment">------------</a>

  <a id="1578" class="Comment">-- We can now define our well-typed syntax as described in the paper</a>
  <a id="1649" class="Comment">-- Section 4.2:</a>
  <a id="1667" class="Keyword">data</a> <a id="Syntax.Expr" href="STLCSF.Semantics.html#Syntax.Expr" class="Datatype">Expr</a> <a id="1677" class="Symbol">(</a><a id="1678" href="STLCSF.Semantics.html#1678" class="Bound">s</a> <a id="1680" class="Symbol">:</a> <a id="1682" href="ScopesFrames.ScopesFrames.html#1597" class="Function">Scope</a><a id="1687" class="Symbol">)</a> <a id="1689" class="Symbol">:</a> <a id="1691" href="STLCSF.Semantics.html#Ty" class="Datatype">Ty</a> <a id="1694" class="Symbol">→</a> <a id="1696" class="PrimitiveType">Set</a> <a id="1700" class="Keyword">where</a>
    <a id="Syntax.Expr.unit" href="STLCSF.Semantics.html#Syntax.Expr.unit" class="InductiveConstructor">unit</a>  <a id="1716" class="Symbol">:</a> <a id="1718" href="STLCSF.Semantics.html#Syntax.Expr" class="Datatype">Expr</a> <a id="1723" href="STLCSF.Semantics.html#1678" class="Bound">s</a> <a id="1725" href="STLCSF.Semantics.html#Ty.unit" class="InductiveConstructor">unit</a>
    <a id="Syntax.Expr.var" href="STLCSF.Semantics.html#Syntax.Expr.var" class="InductiveConstructor">var</a>   <a id="1740" class="Symbol">:</a> <a id="1742" class="Symbol">∀</a> <a id="1744" class="Symbol">{</a><a id="1745" href="STLCSF.Semantics.html#1745" class="Bound">t</a><a id="1746" class="Symbol">}</a> <a id="1748" class="Symbol">→</a> <a id="1750" class="Symbol">(</a><a id="1751" href="STLCSF.Semantics.html#1678" class="Bound">s</a> <a id="1753" href="ScopesFrames.ScopesFrames.html#2347" class="Datatype Operator">↦</a> <a id="1755" href="STLCSF.Semantics.html#1745" class="Bound">t</a><a id="1756" class="Symbol">)</a> <a id="1758" class="Symbol">→</a> <a id="1760" href="STLCSF.Semantics.html#Syntax.Expr" class="Datatype">Expr</a> <a id="1765" href="STLCSF.Semantics.html#1678" class="Bound">s</a> <a id="1767" href="STLCSF.Semantics.html#1745" class="Bound">t</a>
    <a id="Syntax.Expr.ƛ" href="STLCSF.Semantics.html#Syntax.Expr.%C6%9B" class="InductiveConstructor">ƛ</a>     <a id="1779" class="Symbol">:</a> <a id="1781" class="Symbol">∀</a> <a id="1783" class="Symbol">{</a><a id="1784" href="STLCSF.Semantics.html#1784" class="Bound">s&#39;</a> <a id="1787" href="STLCSF.Semantics.html#1787" class="Bound">a</a> <a id="1789" href="STLCSF.Semantics.html#1789" class="Bound">b</a><a id="1790" class="Symbol">}</a> <a id="1792" class="Symbol">→</a> <a id="1794" class="Symbol">⦃</a> <a id="1796" href="STLCSF.Semantics.html#1796" class="Bound">shape</a> <a id="1802" class="Symbol">:</a> <a id="1804" href="STLCSF.Semantics.html#1349" class="Bound">g</a> <a id="1806" href="STLCSF.Semantics.html#1784" class="Bound">s&#39;</a> <a id="1809" href="Agda.Builtin.Equality.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="1811" class="Symbol">(</a> <a id="1813" href="Data.List.Base.html#%5B_%5D" class="Function Operator">[</a> <a id="1815" href="STLCSF.Semantics.html#1787" class="Bound">a</a> <a id="1817" href="Data.List.Base.html#%5B_%5D" class="Function Operator">]</a> <a id="1819" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1821" href="Data.List.Base.html#%5B_%5D" class="Function Operator">[</a> <a id="1823" href="STLCSF.Semantics.html#1678" class="Bound">s</a> <a id="1825" href="Data.List.Base.html#%5B_%5D" class="Function Operator">]</a> <a id="1827" class="Symbol">)</a> <a id="1829" class="Symbol">⦄</a> <a id="1831" class="Symbol">→</a> <a id="1833" href="STLCSF.Semantics.html#Syntax.Expr" class="Datatype">Expr</a> <a id="1838" href="STLCSF.Semantics.html#1784" class="Bound">s&#39;</a> <a id="1841" href="STLCSF.Semantics.html#1789" class="Bound">b</a> <a id="1843" class="Symbol">→</a> <a id="1845" href="STLCSF.Semantics.html#Syntax.Expr" class="Datatype">Expr</a> <a id="1850" href="STLCSF.Semantics.html#1678" class="Bound">s</a> <a id="1852" class="Symbol">(</a><a id="1853" href="STLCSF.Semantics.html#1787" class="Bound">a</a> <a id="1855" href="STLCSF.Semantics.html#Ty._%E2%87%92_" class="InductiveConstructor Operator">⇒</a> <a id="1857" href="STLCSF.Semantics.html#1789" class="Bound">b</a><a id="1858" class="Symbol">)</a>
    <a id="Syntax.Expr._·_" href="STLCSF.Semantics.html#Syntax.Expr._%C2%B7_" class="InductiveConstructor Operator">_·_</a>   <a id="1870" class="Symbol">:</a> <a id="1872" class="Symbol">∀</a> <a id="1874" class="Symbol">{</a><a id="1875" href="STLCSF.Semantics.html#1875" class="Bound">a</a> <a id="1877" href="STLCSF.Semantics.html#1877" class="Bound">b</a><a id="1878" class="Symbol">}</a> <a id="1880" class="Symbol">→</a> <a id="1882" href="STLCSF.Semantics.html#Syntax.Expr" class="Datatype">Expr</a> <a id="1887" href="STLCSF.Semantics.html#1678" class="Bound">s</a> <a id="1889" class="Symbol">(</a><a id="1890" href="STLCSF.Semantics.html#1875" class="Bound">a</a> <a id="1892" href="STLCSF.Semantics.html#Ty._%E2%87%92_" class="InductiveConstructor Operator">⇒</a> <a id="1894" href="STLCSF.Semantics.html#1877" class="Bound">b</a><a id="1895" class="Symbol">)</a> <a id="1897" class="Symbol">→</a> <a id="1899" href="STLCSF.Semantics.html#Syntax.Expr" class="Datatype">Expr</a> <a id="1904" href="STLCSF.Semantics.html#1678" class="Bound">s</a> <a id="1906" href="STLCSF.Semantics.html#1875" class="Bound">a</a> <a id="1908" class="Symbol">→</a> <a id="1910" href="STLCSF.Semantics.html#Syntax.Expr" class="Datatype">Expr</a> <a id="1915" href="STLCSF.Semantics.html#1678" class="Bound">s</a> <a id="1917" href="STLCSF.Semantics.html#1877" class="Bound">b</a>
    <a id="Syntax.Expr.num" href="STLCSF.Semantics.html#Syntax.Expr.num" class="InductiveConstructor">num</a>   <a id="1929" class="Symbol">:</a> <a id="1931" href="Agda.Builtin.Int.html#%E2%84%A4" class="Datatype">ℤ</a> <a id="1933" class="Symbol">→</a> <a id="1935" href="STLCSF.Semantics.html#Syntax.Expr" class="Datatype">Expr</a> <a id="1940" href="STLCSF.Semantics.html#1678" class="Bound">s</a> <a id="1942" href="STLCSF.Semantics.html#Ty.int" class="InductiveConstructor">int</a>
    <a id="Syntax.Expr.iop" href="STLCSF.Semantics.html#Syntax.Expr.iop" class="InductiveConstructor">iop</a>   <a id="1956" class="Symbol">:</a> <a id="1958" class="Symbol">(</a><a id="1959" href="Agda.Builtin.Int.html#%E2%84%A4" class="Datatype">ℤ</a> <a id="1961" class="Symbol">→</a> <a id="1963" href="Agda.Builtin.Int.html#%E2%84%A4" class="Datatype">ℤ</a> <a id="1965" class="Symbol">→</a> <a id="1967" href="Agda.Builtin.Int.html#%E2%84%A4" class="Datatype">ℤ</a><a id="1968" class="Symbol">)</a> <a id="1970" class="Symbol">→</a> <a id="1972" class="Symbol">(</a><a id="1973" href="STLCSF.Semantics.html#1973" class="Bound">l</a> <a id="1975" href="STLCSF.Semantics.html#1975" class="Bound">r</a> <a id="1977" class="Symbol">:</a> <a id="1979" href="STLCSF.Semantics.html#Syntax.Expr" class="Datatype">Expr</a> <a id="1984" href="STLCSF.Semantics.html#1678" class="Bound">s</a> <a id="1986" href="STLCSF.Semantics.html#Ty.int" class="InductiveConstructor">int</a><a id="1989" class="Symbol">)</a> <a id="1991" class="Symbol">→</a> <a id="1993" href="STLCSF.Semantics.html#Syntax.Expr" class="Datatype">Expr</a> <a id="1998" href="STLCSF.Semantics.html#1678" class="Bound">s</a> <a id="2000" href="STLCSF.Semantics.html#Ty.int" class="InductiveConstructor">int</a>


  <a id="2008" class="Comment">------------</a>
  <a id="2023" class="Comment">-- VALUES --</a>
  <a id="2038" class="Comment">------------</a>

  <a id="2054" class="Comment">-- We can also define well-typed values as described in the paper</a>
  <a id="2122" class="Comment">-- Section 4.4:</a>
  <a id="2140" class="Keyword">data</a> <a id="Syntax.Val" href="STLCSF.Semantics.html#Syntax.Val" class="Datatype">Val</a> <a id="2149" class="Symbol">:</a> <a id="2151" href="STLCSF.Semantics.html#Ty" class="Datatype">Ty</a> <a id="2154" class="Symbol">→</a> <a id="2156" class="Symbol">(</a><a id="2157" href="STLCSF.Semantics.html#2157" class="Bound">Σ</a> <a id="2159" class="Symbol">:</a> <a id="2161" href="ScopesFrames.ScopesFrames.html#2860" class="Function">HeapTy</a><a id="2167" class="Symbol">)</a> <a id="2169" class="Symbol">→</a> <a id="2171" class="PrimitiveType">Set</a> <a id="2175" class="Keyword">where</a>
    <a id="Syntax.Val.unit" href="STLCSF.Semantics.html#Syntax.Val.unit" class="InductiveConstructor">unit</a>   <a id="2192" class="Symbol">:</a> <a id="2194" class="Symbol">∀</a> <a id="2196" class="Symbol">{</a><a id="2197" href="STLCSF.Semantics.html#2197" class="Bound">Σ</a><a id="2198" class="Symbol">}</a> <a id="2200" class="Symbol">→</a> <a id="2202" href="STLCSF.Semantics.html#Syntax.Val" class="Datatype">Val</a> <a id="2206" href="STLCSF.Semantics.html#Ty.unit" class="InductiveConstructor">unit</a> <a id="2211" href="STLCSF.Semantics.html#2197" class="Bound">Σ</a>
    <a id="Syntax.Val.⟨_,_⟩" href="STLCSF.Semantics.html#Syntax.Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟨_,_⟩</a>  <a id="2224" class="Symbol">:</a> <a id="2226" class="Symbol">∀</a> <a id="2228" class="Symbol">{</a><a id="2229" href="STLCSF.Semantics.html#2229" class="Bound">Σ</a> <a id="2231" href="STLCSF.Semantics.html#2231" class="Bound">s</a> <a id="2233" href="STLCSF.Semantics.html#2233" class="Bound">s&#39;</a> <a id="2236" href="STLCSF.Semantics.html#2236" class="Bound">a</a> <a id="2238" href="STLCSF.Semantics.html#2238" class="Bound">b</a><a id="2239" class="Symbol">}⦃</a> <a id="2242" href="STLCSF.Semantics.html#2242" class="Bound">shape</a> <a id="2248" class="Symbol">:</a> <a id="2250" href="STLCSF.Semantics.html#1349" class="Bound">g</a> <a id="2252" href="STLCSF.Semantics.html#2233" class="Bound">s&#39;</a> <a id="2255" href="Agda.Builtin.Equality.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="2257" class="Symbol">(</a> <a id="2259" href="Data.List.Base.html#%5B_%5D" class="Function Operator">[</a> <a id="2261" href="STLCSF.Semantics.html#2236" class="Bound">a</a> <a id="2263" href="Data.List.Base.html#%5B_%5D" class="Function Operator">]</a> <a id="2265" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2267" href="Data.List.Base.html#%5B_%5D" class="Function Operator">[</a> <a id="2269" href="STLCSF.Semantics.html#2231" class="Bound">s</a> <a id="2271" href="Data.List.Base.html#%5B_%5D" class="Function Operator">]</a> <a id="2273" class="Symbol">)</a> <a id="2275" class="Symbol">⦄</a> <a id="2277" class="Symbol">→</a>
             <a id="2292" href="STLCSF.Semantics.html#Syntax.Expr" class="Datatype">Expr</a> <a id="2297" href="STLCSF.Semantics.html#2233" class="Bound">s&#39;</a> <a id="2300" href="STLCSF.Semantics.html#2238" class="Bound">b</a> <a id="2302" class="Symbol">→</a> <a id="2304" href="ScopesFrames.ScopesFrames.html#3004" class="Function">Frame</a> <a id="2310" href="STLCSF.Semantics.html#2231" class="Bound">s</a> <a id="2312" href="STLCSF.Semantics.html#2229" class="Bound">Σ</a> <a id="2314" class="Symbol">→</a> <a id="2316" href="STLCSF.Semantics.html#Syntax.Val" class="Datatype">Val</a> <a id="2320" class="Symbol">(</a><a id="2321" href="STLCSF.Semantics.html#2236" class="Bound">a</a> <a id="2323" href="STLCSF.Semantics.html#Ty._%E2%87%92_" class="InductiveConstructor Operator">⇒</a> <a id="2325" href="STLCSF.Semantics.html#2238" class="Bound">b</a><a id="2326" class="Symbol">)</a> <a id="2328" href="STLCSF.Semantics.html#2229" class="Bound">Σ</a>
    <a id="Syntax.Val.num" href="STLCSF.Semantics.html#Syntax.Val.num" class="InductiveConstructor">num</a>    <a id="2341" class="Symbol">:</a> <a id="2343" class="Symbol">∀</a> <a id="2345" class="Symbol">{</a><a id="2346" href="STLCSF.Semantics.html#2346" class="Bound">Σ</a><a id="2347" class="Symbol">}</a> <a id="2349" class="Symbol">→</a> <a id="2351" href="Agda.Builtin.Int.html#%E2%84%A4" class="Datatype">ℤ</a> <a id="2353" class="Symbol">→</a> <a id="2355" href="STLCSF.Semantics.html#Syntax.Val" class="Datatype">Val</a> <a id="2359" href="STLCSF.Semantics.html#Ty.int" class="InductiveConstructor">int</a> <a id="2363" href="STLCSF.Semantics.html#2346" class="Bound">Σ</a>

  <a id="Syntax.val-weaken" href="STLCSF.Semantics.html#Syntax.val-weaken" class="Function">val-weaken</a> <a id="2379" class="Symbol">:</a> <a id="2381" class="Symbol">∀</a> <a id="2383" class="Symbol">{</a><a id="2384" href="STLCSF.Semantics.html#2384" class="Bound">t</a> <a id="2386" href="STLCSF.Semantics.html#2386" class="Bound">Σ</a> <a id="2388" href="STLCSF.Semantics.html#2388" class="Bound">Σ&#39;</a><a id="2390" class="Symbol">}</a> <a id="2392" class="Symbol">→</a> <a id="2394" href="STLCSF.Semantics.html#2386" class="Bound">Σ</a> <a id="2396" href="Data.List.Prefix.html#_%E2%8A%91_" class="Datatype Operator">⊑</a> <a id="2398" href="STLCSF.Semantics.html#2388" class="Bound">Σ&#39;</a> <a id="2401" class="Symbol">→</a> <a id="2403" href="STLCSF.Semantics.html#Syntax.Val" class="Datatype">Val</a> <a id="2407" href="STLCSF.Semantics.html#2384" class="Bound">t</a> <a id="2409" href="STLCSF.Semantics.html#2386" class="Bound">Σ</a> <a id="2411" class="Symbol">→</a> <a id="2413" href="STLCSF.Semantics.html#Syntax.Val" class="Datatype">Val</a> <a id="2417" href="STLCSF.Semantics.html#2384" class="Bound">t</a> <a id="2419" href="STLCSF.Semantics.html#2388" class="Bound">Σ&#39;</a>
  <a id="2424" href="STLCSF.Semantics.html#Syntax.val-weaken" class="Function">val-weaken</a> <a id="2435" href="STLCSF.Semantics.html#2435" class="Bound">ext</a> <a id="2439" href="STLCSF.Semantics.html#Syntax.Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟨</a> <a id="2441" href="STLCSF.Semantics.html#2441" class="Bound">e</a> <a id="2443" href="STLCSF.Semantics.html#Syntax.Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">,</a> <a id="2445" href="STLCSF.Semantics.html#2445" class="Bound">f</a> <a id="2447" href="STLCSF.Semantics.html#Syntax.Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟩</a> <a id="2449" class="Symbol">=</a> <a id="2451" href="STLCSF.Semantics.html#Syntax.Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟨</a> <a id="2453" href="STLCSF.Semantics.html#2441" class="Bound">e</a> <a id="2455" href="STLCSF.Semantics.html#Syntax.Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">,</a> <a id="2457" href="Common.Weakening.html#746" class="Field">wk</a> <a id="2460" href="STLCSF.Semantics.html#2435" class="Bound">ext</a> <a id="2464" href="STLCSF.Semantics.html#2445" class="Bound">f</a> <a id="2466" href="STLCSF.Semantics.html#Syntax.Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟩</a>
  <a id="2470" href="STLCSF.Semantics.html#Syntax.val-weaken" class="Function">val-weaken</a> <a id="2481" href="STLCSF.Semantics.html#2481" class="Bound">ext</a> <a id="2485" href="STLCSF.Semantics.html#Syntax.Val.unit" class="InductiveConstructor">unit</a>      <a id="2495" class="Symbol">=</a> <a id="2497" href="STLCSF.Semantics.html#Syntax.Val.unit" class="InductiveConstructor">unit</a>
  <a id="2504" href="STLCSF.Semantics.html#Syntax.val-weaken" class="Function">val-weaken</a> <a id="2515" href="STLCSF.Semantics.html#2515" class="Bound">ext</a> <a id="2519" class="Symbol">(</a><a id="2520" href="STLCSF.Semantics.html#Syntax.Val.num" class="InductiveConstructor">num</a> <a id="2524" href="STLCSF.Semantics.html#2524" class="Bound">z</a><a id="2525" class="Symbol">)</a>   <a id="2529" class="Symbol">=</a> <a id="2531" href="STLCSF.Semantics.html#Syntax.Val.num" class="InductiveConstructor">num</a> <a id="2535" href="STLCSF.Semantics.html#2524" class="Bound">z</a>

  <a id="2540" class="Comment">-- We can now load the frames definitions of the scopes-and-frames</a>
  <a id="2609" class="Comment">-- library.  As described in Section 4.3 of the paper, our notion of</a>
  <a id="2680" class="Comment">-- frame assumes a notion of weakenable value, to be passed as</a>
  <a id="2745" class="Comment">-- module arguments to `UsesVal`:</a>
  <a id="2781" class="Keyword">open</a> <a id="2786" href="ScopesFrames.ScopesFrames.html#UsesVal" class="Module">UsesVal</a> <a id="2794" href="STLCSF.Semantics.html#Syntax.Val" class="Datatype">Val</a> <a id="2798" href="STLCSF.Semantics.html#Syntax.val-weaken" class="Function">val-weaken</a> <a id="2809" class="Keyword">renaming</a> <a id="2818" class="Symbol">(</a>getFrame <a id="2828" class="Symbol">to</a> getFrame&#39;<a id="2840" class="Symbol">)</a>

  <a id="2845" class="Comment">-- We rename `getFrame` from the scopes-and-frames library so that</a>
  <a id="2914" class="Comment">-- we can use `getFrame` as the name of the monadic operation which</a>
  <a id="2984" class="Comment">-- returns the &quot;current frame pointer&quot; below.</a>


  <a id="3034" class="Comment">-----------</a>
  <a id="3048" class="Comment">-- MONAD --</a>
  <a id="3062" class="Comment">-----------</a>

  <a id="3077" class="Comment">-- These definitions correspond to Section 4.4.</a>

  <a id="Syntax.M" href="STLCSF.Semantics.html#Syntax.M" class="Function">M</a> <a id="3130" class="Symbol">:</a> <a id="3132" class="Symbol">(</a><a id="3133" href="STLCSF.Semantics.html#3133" class="Bound">s</a> <a id="3135" class="Symbol">:</a> <a id="3137" href="ScopesFrames.ScopesFrames.html#1597" class="Function">Scope</a><a id="3142" class="Symbol">)</a> <a id="3144" class="Symbol">→</a> <a id="3146" class="Symbol">(</a><a id="3147" href="ScopesFrames.ScopesFrames.html#2860" class="Function">HeapTy</a> <a id="3154" class="Symbol">→</a> <a id="3156" class="PrimitiveType">Set</a><a id="3159" class="Symbol">)</a> <a id="3161" class="Symbol">→</a> <a id="3163" href="ScopesFrames.ScopesFrames.html#2860" class="Function">HeapTy</a> <a id="3170" class="Symbol">→</a> <a id="3172" class="PrimitiveType">Set</a>
  <a id="3178" href="STLCSF.Semantics.html#Syntax.M" class="Function">M</a> <a id="3180" href="STLCSF.Semantics.html#3180" class="Bound">s</a> <a id="3182" href="STLCSF.Semantics.html#3182" class="Bound">p</a> <a id="3184" href="STLCSF.Semantics.html#3184" class="Bound">Σ</a> <a id="3186" class="Symbol">=</a> <a id="3188" href="ScopesFrames.ScopesFrames.html#3004" class="Function">Frame</a> <a id="3194" href="STLCSF.Semantics.html#3180" class="Bound">s</a> <a id="3196" href="STLCSF.Semantics.html#3184" class="Bound">Σ</a> <a id="3198" class="Symbol">→</a> <a id="3200" href="ScopesFrames.ScopesFrames.html#4268" class="Function">Heap</a> <a id="3205" href="STLCSF.Semantics.html#3184" class="Bound">Σ</a> <a id="3207" class="Symbol">→</a> <a id="3209" href="Data.Maybe.Base.html#Maybe" class="Datatype">Maybe</a> <a id="3215" class="Symbol">(</a><a id="3216" href="Data.Product.html#%E2%88%83" class="Function">∃</a> <a id="3218" class="Symbol">λ</a> <a id="3220" href="STLCSF.Semantics.html#3220" class="Bound">Σ&#39;</a> <a id="3223" class="Symbol">→</a> <a id="3225" class="Symbol">(</a><a id="3226" href="ScopesFrames.ScopesFrames.html#4268" class="Function">Heap</a> <a id="3231" href="STLCSF.Semantics.html#3220" class="Bound">Σ&#39;</a> <a id="3234" href="Data.Product.html#_%C3%97_" class="Function Operator">×</a> <a id="3236" href="STLCSF.Semantics.html#3182" class="Bound">p</a> <a id="3238" href="STLCSF.Semantics.html#3220" class="Bound">Σ&#39;</a> <a id="3241" href="Data.Product.html#_%C3%97_" class="Function Operator">×</a> <a id="3243" href="STLCSF.Semantics.html#3184" class="Bound">Σ</a> <a id="3245" href="Data.List.Prefix.html#_%E2%8A%91_" class="Datatype Operator">⊑</a> <a id="3247" href="STLCSF.Semantics.html#3220" class="Bound">Σ&#39;</a><a id="3249" class="Symbol">))</a>

  <a id="Syntax._&gt;&gt;=_" href="STLCSF.Semantics.html#Syntax._%3E%3E%3D_" class="Function Operator">_&gt;&gt;=_</a>       <a id="3267" class="Symbol">:</a>  <a id="3270" class="Symbol">∀</a> <a id="3272" class="Symbol">{</a><a id="3273" href="STLCSF.Semantics.html#3273" class="Bound">s</a> <a id="3275" href="STLCSF.Semantics.html#3275" class="Bound">Σ</a><a id="3276" class="Symbol">}{</a><a id="3278" href="STLCSF.Semantics.html#3278" class="Bound">p</a> <a id="3280" href="STLCSF.Semantics.html#3280" class="Bound">q</a> <a id="3282" class="Symbol">:</a> <a id="3284" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="3289" href="ScopesFrames.ScopesFrames.html#1597" class="Function">Scope</a> <a id="3295" class="Symbol">→</a> <a id="3297" class="PrimitiveType">Set</a><a id="3300" class="Symbol">}</a> <a id="3302" class="Symbol">→</a>
                 <a id="3321" href="STLCSF.Semantics.html#Syntax.M" class="Function">M</a> <a id="3323" href="STLCSF.Semantics.html#3273" class="Bound">s</a> <a id="3325" href="STLCSF.Semantics.html#3278" class="Bound">p</a> <a id="3327" href="STLCSF.Semantics.html#3275" class="Bound">Σ</a> <a id="3329" class="Symbol">→</a> <a id="3331" class="Symbol">(∀</a> <a id="3334" class="Symbol">{</a><a id="3335" href="STLCSF.Semantics.html#3335" class="Bound">Σ&#39;</a><a id="3337" class="Symbol">}</a> <a id="3339" class="Symbol">→</a> <a id="3341" href="STLCSF.Semantics.html#3278" class="Bound">p</a> <a id="3343" href="STLCSF.Semantics.html#3335" class="Bound">Σ&#39;</a> <a id="3346" class="Symbol">→</a> <a id="3348" href="STLCSF.Semantics.html#Syntax.M" class="Function">M</a> <a id="3350" href="STLCSF.Semantics.html#3273" class="Bound">s</a> <a id="3352" href="STLCSF.Semantics.html#3280" class="Bound">q</a> <a id="3354" href="STLCSF.Semantics.html#3335" class="Bound">Σ&#39;</a><a id="3356" class="Symbol">)</a> <a id="3358" class="Symbol">→</a> <a id="3360" href="STLCSF.Semantics.html#Syntax.M" class="Function">M</a> <a id="3362" href="STLCSF.Semantics.html#3273" class="Bound">s</a> <a id="3364" href="STLCSF.Semantics.html#3280" class="Bound">q</a> <a id="3366" href="STLCSF.Semantics.html#3275" class="Bound">Σ</a>
  <a id="3370" class="Symbol">(</a><a id="3371" href="STLCSF.Semantics.html#3371" class="Bound">a</a> <a id="3373" href="STLCSF.Semantics.html#Syntax._%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="3377" href="STLCSF.Semantics.html#3377" class="Bound">b</a><a id="3378" class="Symbol">)</a> <a id="3380" href="STLCSF.Semantics.html#3380" class="Bound">f</a> <a id="3382" href="STLCSF.Semantics.html#3382" class="Bound">h</a>
    <a id="3388" class="Keyword">with</a> <a id="3393" class="Symbol">(</a><a id="3394" href="STLCSF.Semantics.html#3371" class="Bound">a</a> <a id="3396" href="STLCSF.Semantics.html#3380" class="Bound">f</a> <a id="3398" href="STLCSF.Semantics.html#3382" class="Bound">h</a><a id="3399" class="Symbol">)</a>
  <a id="3403" class="Symbol">...</a>  <a id="3408" class="Symbol">|</a> <a id="3410" href="Data.Maybe.Base.html#Maybe.nothing" class="InductiveConstructor">nothing</a> <a id="3418" class="Symbol">=</a> <a id="3420" href="Data.Maybe.Base.html#Maybe.nothing" class="InductiveConstructor">nothing</a>
  <a id="3430" class="Symbol">...</a>  <a id="3435" class="Symbol">|</a> <a id="3437" href="Data.Maybe.Base.html#Maybe.just" class="InductiveConstructor">just</a> <a id="3442" class="Symbol">(</a><a id="3443" href="STLCSF.Semantics.html#3443" class="Bound">Σ</a> <a id="3445" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3447" href="STLCSF.Semantics.html#3447" class="Bound">h&#39;</a> <a id="3450" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3452" href="STLCSF.Semantics.html#3452" class="Bound">v</a> <a id="3454" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3456" href="STLCSF.Semantics.html#3456" class="Bound">ext</a><a id="3459" class="Symbol">)</a>
       <a id="3468" class="Keyword">with</a> <a id="3473" class="Symbol">(</a><a id="3474" class="Bound">b</a> <a id="3476" href="STLCSF.Semantics.html#3452" class="Bound">v</a> <a id="3478" class="Symbol">(</a><a id="3479" href="Common.Weakening.html#746" class="Field">wk</a> <a id="3482" href="STLCSF.Semantics.html#3456" class="Bound">ext</a> <a id="3486" class="Bound">f</a><a id="3487" class="Symbol">)</a> <a id="3489" href="STLCSF.Semantics.html#3447" class="Bound">h&#39;</a><a id="3491" class="Symbol">)</a>
  <a id="3495" class="Symbol">...</a>     <a id="3503" class="Symbol">|</a> <a id="3505" href="Data.Maybe.Base.html#Maybe.nothing" class="InductiveConstructor">nothing</a> <a id="3513" class="Symbol">=</a> <a id="3515" href="Data.Maybe.Base.html#Maybe.nothing" class="InductiveConstructor">nothing</a>
  <a id="3525" class="Symbol">...</a>     <a id="3533" class="Symbol">|</a> <a id="3535" href="Data.Maybe.Base.html#Maybe.just" class="InductiveConstructor">just</a> <a id="3540" class="Symbol">(</a><a id="3541" href="STLCSF.Semantics.html#3541" class="Bound">Σ&#39;</a> <a id="3544" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3546" href="STLCSF.Semantics.html#3546" class="Bound">h&#39;&#39;</a> <a id="3550" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3552" href="STLCSF.Semantics.html#3552" class="Bound">v&#39;</a> <a id="3555" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3557" href="STLCSF.Semantics.html#3557" class="Bound">ext&#39;</a><a id="3561" class="Symbol">)</a> <a id="3563" class="Symbol">=</a> <a id="3565" href="Data.Maybe.Base.html#Maybe.just" class="InductiveConstructor">just</a> <a id="3570" class="Symbol">(</a><a id="3571" href="STLCSF.Semantics.html#3541" class="Bound">Σ&#39;</a> <a id="3574" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3576" href="STLCSF.Semantics.html#3546" class="Bound">h&#39;&#39;</a> <a id="3580" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3582" href="STLCSF.Semantics.html#3552" class="Bound">v&#39;</a> <a id="3585" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3587" class="Bound">ext</a> <a id="3591" href="Common.Weakening.html#_%E2%8A%9A_" class="Function Operator">⊚</a> <a id="3593" href="STLCSF.Semantics.html#3557" class="Bound">ext&#39;</a><a id="3597" class="Symbol">)</a>

  <a id="Syntax.return" href="STLCSF.Semantics.html#Syntax.return" class="Function">return</a>      <a id="3614" class="Symbol">:</a>  <a id="3617" class="Symbol">∀</a> <a id="3619" class="Symbol">{</a><a id="3620" href="STLCSF.Semantics.html#3620" class="Bound">s</a> <a id="3622" href="STLCSF.Semantics.html#3622" class="Bound">Σ</a><a id="3623" class="Symbol">}{</a><a id="3625" href="STLCSF.Semantics.html#3625" class="Bound">p</a> <a id="3627" class="Symbol">:</a> <a id="3629" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="3634" href="ScopesFrames.ScopesFrames.html#1597" class="Function">Scope</a> <a id="3640" class="Symbol">→</a> <a id="3642" class="PrimitiveType">Set</a><a id="3645" class="Symbol">}</a> <a id="3647" class="Symbol">→</a> <a id="3649" href="STLCSF.Semantics.html#3625" class="Bound">p</a> <a id="3651" href="STLCSF.Semantics.html#3622" class="Bound">Σ</a> <a id="3653" class="Symbol">→</a> <a id="3655" href="STLCSF.Semantics.html#Syntax.M" class="Function">M</a> <a id="3657" href="STLCSF.Semantics.html#3620" class="Bound">s</a> <a id="3659" href="STLCSF.Semantics.html#3625" class="Bound">p</a> <a id="3661" href="STLCSF.Semantics.html#3622" class="Bound">Σ</a>
  <a id="3665" href="STLCSF.Semantics.html#Syntax.return" class="Function">return</a> <a id="3672" href="STLCSF.Semantics.html#3672" class="Bound">v</a> <a id="3674" href="STLCSF.Semantics.html#3674" class="Bound">f</a> <a id="3676" href="STLCSF.Semantics.html#3676" class="Bound">h</a> <a id="3678" class="Symbol">=</a> <a id="3680" href="Data.Maybe.Base.html#Maybe.just" class="InductiveConstructor">just</a> <a id="3685" class="Symbol">(_</a> <a id="3688" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3690" href="STLCSF.Semantics.html#3676" class="Bound">h</a> <a id="3692" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3694" href="STLCSF.Semantics.html#3672" class="Bound">v</a> <a id="3696" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3698" href="Data.List.Prefix.html#%E2%8A%91-refl" class="Function">⊑-refl</a><a id="3704" class="Symbol">)</a>

  <a id="Syntax.getFrame" href="STLCSF.Semantics.html#Syntax.getFrame" class="Function">getFrame</a>    <a id="3721" class="Symbol">:</a>  <a id="3724" class="Symbol">∀</a> <a id="3726" class="Symbol">{</a><a id="3727" href="STLCSF.Semantics.html#3727" class="Bound">s</a> <a id="3729" href="STLCSF.Semantics.html#3729" class="Bound">Σ</a><a id="3730" class="Symbol">}</a> <a id="3732" class="Symbol">→</a> <a id="3734" href="STLCSF.Semantics.html#Syntax.M" class="Function">M</a> <a id="3736" href="STLCSF.Semantics.html#3727" class="Bound">s</a> <a id="3738" class="Symbol">(</a><a id="3739" href="ScopesFrames.ScopesFrames.html#3004" class="Function">Frame</a> <a id="3745" href="STLCSF.Semantics.html#3727" class="Bound">s</a><a id="3746" class="Symbol">)</a> <a id="3748" href="STLCSF.Semantics.html#3729" class="Bound">Σ</a>
  <a id="3752" href="STLCSF.Semantics.html#Syntax.getFrame" class="Function">getFrame</a> <a id="3761" href="STLCSF.Semantics.html#3761" class="Bound">f</a> <a id="3763" class="Symbol">=</a> <a id="3765" href="STLCSF.Semantics.html#Syntax.return" class="Function">return</a> <a id="3772" href="STLCSF.Semantics.html#3761" class="Bound">f</a> <a id="3774" href="STLCSF.Semantics.html#3761" class="Bound">f</a>

  <a id="Syntax.usingFrame" href="STLCSF.Semantics.html#Syntax.usingFrame" class="Function">usingFrame</a>  <a id="3791" class="Symbol">:</a>  <a id="3794" class="Symbol">∀</a> <a id="3796" class="Symbol">{</a><a id="3797" href="STLCSF.Semantics.html#3797" class="Bound">s</a> <a id="3799" href="STLCSF.Semantics.html#3799" class="Bound">s&#39;</a> <a id="3802" href="STLCSF.Semantics.html#3802" class="Bound">Σ</a><a id="3803" class="Symbol">}{</a><a id="3805" href="STLCSF.Semantics.html#3805" class="Bound">p</a> <a id="3807" class="Symbol">:</a> <a id="3809" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="3814" href="ScopesFrames.ScopesFrames.html#1597" class="Function">Scope</a> <a id="3820" class="Symbol">→</a> <a id="3822" class="PrimitiveType">Set</a><a id="3825" class="Symbol">}</a> <a id="3827" class="Symbol">→</a> <a id="3829" href="ScopesFrames.ScopesFrames.html#3004" class="Function">Frame</a> <a id="3835" href="STLCSF.Semantics.html#3797" class="Bound">s</a> <a id="3837" href="STLCSF.Semantics.html#3802" class="Bound">Σ</a> <a id="3839" class="Symbol">→</a> <a id="3841" href="STLCSF.Semantics.html#Syntax.M" class="Function">M</a> <a id="3843" href="STLCSF.Semantics.html#3797" class="Bound">s</a> <a id="3845" href="STLCSF.Semantics.html#3805" class="Bound">p</a> <a id="3847" href="STLCSF.Semantics.html#3802" class="Bound">Σ</a> <a id="3849" class="Symbol">→</a> <a id="3851" href="STLCSF.Semantics.html#Syntax.M" class="Function">M</a> <a id="3853" href="STLCSF.Semantics.html#3799" class="Bound">s&#39;</a> <a id="3856" href="STLCSF.Semantics.html#3805" class="Bound">p</a> <a id="3858" href="STLCSF.Semantics.html#3802" class="Bound">Σ</a>
  <a id="3862" href="STLCSF.Semantics.html#Syntax.usingFrame" class="Function">usingFrame</a> <a id="3873" href="STLCSF.Semantics.html#3873" class="Bound">f</a> <a id="3875" href="STLCSF.Semantics.html#3875" class="Bound">a</a> <a id="3877" class="Symbol">_</a> <a id="3879" class="Symbol">=</a> <a id="3881" href="STLCSF.Semantics.html#3875" class="Bound">a</a> <a id="3883" href="STLCSF.Semantics.html#3873" class="Bound">f</a>

  <a id="Syntax.timeout" href="STLCSF.Semantics.html#Syntax.timeout" class="Function">timeout</a>     <a id="3900" class="Symbol">:</a>  <a id="3903" class="Symbol">∀</a> <a id="3905" class="Symbol">{</a><a id="3906" href="STLCSF.Semantics.html#3906" class="Bound">s</a> <a id="3908" href="STLCSF.Semantics.html#3908" class="Bound">Σ</a><a id="3909" class="Symbol">}{</a><a id="3911" href="STLCSF.Semantics.html#3911" class="Bound">p</a> <a id="3913" class="Symbol">:</a> <a id="3915" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="3920" href="ScopesFrames.ScopesFrames.html#1597" class="Function">Scope</a> <a id="3926" class="Symbol">→</a> <a id="3928" class="PrimitiveType">Set</a><a id="3931" class="Symbol">}</a> <a id="3933" class="Symbol">→</a> <a id="3935" href="STLCSF.Semantics.html#Syntax.M" class="Function">M</a> <a id="3937" href="STLCSF.Semantics.html#3906" class="Bound">s</a> <a id="3939" href="STLCSF.Semantics.html#3911" class="Bound">p</a> <a id="3941" href="STLCSF.Semantics.html#3908" class="Bound">Σ</a>
  <a id="3945" href="STLCSF.Semantics.html#Syntax.timeout" class="Function">timeout</a> <a id="3953" class="Symbol">_</a> <a id="3955" class="Symbol">_</a> <a id="3957" class="Symbol">=</a> <a id="3959" href="Data.Maybe.Base.html#Maybe.nothing" class="InductiveConstructor">nothing</a>

  <a id="Syntax.init" href="STLCSF.Semantics.html#Syntax.init" class="Function">init</a>        <a id="3982" class="Symbol">:</a>  <a id="3985" class="Symbol">∀</a> <a id="3987" class="Symbol">{</a><a id="3988" href="STLCSF.Semantics.html#3988" class="Bound">Σ</a> <a id="3990" href="STLCSF.Semantics.html#3990" class="Bound">s&#39;</a> <a id="3993" href="STLCSF.Semantics.html#3993" class="Bound">ds</a> <a id="3996" href="STLCSF.Semantics.html#3996" class="Bound">es</a><a id="3998" class="Symbol">}(</a><a id="4000" href="STLCSF.Semantics.html#4000" class="Bound">s</a> <a id="4002" class="Symbol">:</a> <a id="4004" href="ScopesFrames.ScopesFrames.html#1597" class="Function">Scope</a><a id="4009" class="Symbol">)⦃</a> <a id="4012" href="STLCSF.Semantics.html#4012" class="Bound">shape</a> <a id="4018" class="Symbol">:</a> <a id="4020" href="STLCSF.Semantics.html#1349" class="Bound">g</a> <a id="4022" href="STLCSF.Semantics.html#4000" class="Bound">s</a> <a id="4024" href="Agda.Builtin.Equality.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="4026" class="Symbol">(</a><a id="4027" href="STLCSF.Semantics.html#3993" class="Bound">ds</a> <a id="4030" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4032" href="STLCSF.Semantics.html#3996" class="Bound">es</a><a id="4034" class="Symbol">)</a> <a id="4036" class="Symbol">⦄</a> <a id="4038" class="Symbol">→</a>
                 <a id="4057" href="ScopesFrames.ScopesFrames.html#3509" class="Function">Slots</a> <a id="4063" href="STLCSF.Semantics.html#3993" class="Bound">ds</a> <a id="4066" href="STLCSF.Semantics.html#3988" class="Bound">Σ</a> <a id="4068" class="Symbol">→</a> <a id="4070" href="ScopesFrames.ScopesFrames.html#3734" class="Function">Links</a> <a id="4076" href="STLCSF.Semantics.html#3996" class="Bound">es</a> <a id="4079" href="STLCSF.Semantics.html#3988" class="Bound">Σ</a> <a id="4081" class="Symbol">→</a> <a id="4083" href="STLCSF.Semantics.html#Syntax.M" class="Function">M</a> <a id="4085" href="STLCSF.Semantics.html#3990" class="Bound">s&#39;</a> <a id="4088" class="Symbol">(</a><a id="4089" href="ScopesFrames.ScopesFrames.html#3004" class="Function">Frame</a> <a id="4095" href="STLCSF.Semantics.html#4000" class="Bound">s</a><a id="4096" class="Symbol">)</a> <a id="4098" href="STLCSF.Semantics.html#3988" class="Bound">Σ</a>
  <a id="4102" href="STLCSF.Semantics.html#Syntax.init" class="Function">init</a> <a id="4107" class="Symbol">{</a><a id="4108" href="STLCSF.Semantics.html#4108" class="Bound">Σ</a><a id="4109" class="Symbol">}</a> <a id="4111" href="STLCSF.Semantics.html#4111" class="Bound">s</a> <a id="4113" href="STLCSF.Semantics.html#4113" class="Bound">slots</a> <a id="4119" href="STLCSF.Semantics.html#4119" class="Bound">links</a> <a id="4125" class="Symbol">_</a> <a id="4127" href="STLCSF.Semantics.html#4127" class="Bound">h</a>
    <a id="4133" class="Keyword">with</a> <a id="4138" class="Symbol">(</a><a id="4139" href="ScopesFrames.ScopesFrames.html#6075" class="Function">initFrame</a> <a id="4149" href="STLCSF.Semantics.html#4111" class="Bound">s</a> <a id="4151" href="STLCSF.Semantics.html#4113" class="Bound">slots</a> <a id="4157" href="STLCSF.Semantics.html#4119" class="Bound">links</a> <a id="4163" href="STLCSF.Semantics.html#4127" class="Bound">h</a><a id="4164" class="Symbol">)</a>
  <a id="4168" class="Symbol">...</a>  <a id="4173" class="Symbol">|</a> <a id="4175" class="Symbol">(</a><a id="4176" href="STLCSF.Semantics.html#4176" class="Bound">f&#39;</a> <a id="4179" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4181" href="STLCSF.Semantics.html#4181" class="Bound">h&#39;</a><a id="4183" class="Symbol">)</a> <a id="4185" class="Symbol">=</a> <a id="4187" href="Data.Maybe.Base.html#Maybe.just" class="InductiveConstructor">just</a> <a id="4192" class="Symbol">(_</a> <a id="4195" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4197" href="STLCSF.Semantics.html#4181" class="Bound">h&#39;</a> <a id="4200" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4202" href="STLCSF.Semantics.html#4176" class="Bound">f&#39;</a> <a id="4205" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4207" href="Data.List.Prefix.html#%E2%88%B7%CA%B3-%E2%8A%92" class="Function">∷ʳ-⊒</a> <a id="4212" class="Bound">s</a> <a id="4214" class="Bound">Σ</a><a id="4215" class="Symbol">)</a>

  <a id="Syntax.getv" href="STLCSF.Semantics.html#Syntax.getv" class="Function">getv</a>        <a id="4232" class="Symbol">:</a>  <a id="4235" class="Symbol">∀</a> <a id="4237" class="Symbol">{</a><a id="4238" href="STLCSF.Semantics.html#4238" class="Bound">s</a> <a id="4240" href="STLCSF.Semantics.html#4240" class="Bound">t</a> <a id="4242" href="STLCSF.Semantics.html#4242" class="Bound">Σ</a><a id="4243" class="Symbol">}</a> <a id="4245" class="Symbol">→</a> <a id="4247" class="Symbol">(</a><a id="4248" href="STLCSF.Semantics.html#4238" class="Bound">s</a> <a id="4250" href="ScopesFrames.ScopesFrames.html#2347" class="Datatype Operator">↦</a> <a id="4252" href="STLCSF.Semantics.html#4240" class="Bound">t</a><a id="4253" class="Symbol">)</a> <a id="4255" class="Symbol">→</a> <a id="4257" href="STLCSF.Semantics.html#Syntax.M" class="Function">M</a> <a id="4259" href="STLCSF.Semantics.html#4238" class="Bound">s</a> <a id="4261" class="Symbol">(</a><a id="4262" href="STLCSF.Semantics.html#Syntax.Val" class="Datatype">Val</a> <a id="4266" href="STLCSF.Semantics.html#4240" class="Bound">t</a><a id="4267" class="Symbol">)</a> <a id="4269" href="STLCSF.Semantics.html#4242" class="Bound">Σ</a>
  <a id="4273" href="STLCSF.Semantics.html#Syntax.getv" class="Function">getv</a> <a id="4278" href="STLCSF.Semantics.html#4278" class="Bound">p</a> <a id="4280" href="STLCSF.Semantics.html#4280" class="Bound">f</a> <a id="4282" href="STLCSF.Semantics.html#4282" class="Bound">h</a> <a id="4284" class="Symbol">=</a> <a id="4286" href="STLCSF.Semantics.html#Syntax.return" class="Function">return</a> <a id="4293" class="Symbol">(</a><a id="4294" href="ScopesFrames.ScopesFrames.html#9481" class="Function">getVal</a> <a id="4301" href="STLCSF.Semantics.html#4278" class="Bound">p</a> <a id="4303" href="STLCSF.Semantics.html#4280" class="Bound">f</a> <a id="4305" href="STLCSF.Semantics.html#4282" class="Bound">h</a><a id="4306" class="Symbol">)</a> <a id="4308" href="STLCSF.Semantics.html#4280" class="Bound">f</a> <a id="4310" href="STLCSF.Semantics.html#4282" class="Bound">h</a>

  <a id="Syntax._^_" href="STLCSF.Semantics.html#Syntax._%5E_" class="Function Operator">_^_</a>         <a id="4327" class="Symbol">:</a>  <a id="4330" class="Symbol">∀</a> <a id="4332" class="Symbol">{</a><a id="4333" href="STLCSF.Semantics.html#4333" class="Bound">Σ</a> <a id="4335" href="STLCSF.Semantics.html#4335" class="Bound">Γ</a><a id="4336" class="Symbol">}{</a><a id="4338" href="STLCSF.Semantics.html#4338" class="Bound">p</a> <a id="4340" href="STLCSF.Semantics.html#4340" class="Bound">q</a> <a id="4342" class="Symbol">:</a> <a id="4344" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="4349" href="ScopesFrames.ScopesFrames.html#1597" class="Function">Scope</a> <a id="4355" class="Symbol">→</a> <a id="4357" class="PrimitiveType">Set</a><a id="4360" class="Symbol">}</a> <a id="4362" class="Symbol">→</a> <a id="4364" class="Symbol">⦃</a> <a id="4366" href="STLCSF.Semantics.html#4366" class="Bound">w</a> <a id="4368" class="Symbol">:</a> <a id="4370" href="Common.Weakening.html#Weakenable" class="Record">Weakenable</a> <a id="4381" href="STLCSF.Semantics.html#4340" class="Bound">q</a> <a id="4383" class="Symbol">⦄</a> <a id="4385" class="Symbol">→</a>
                 <a id="4404" href="STLCSF.Semantics.html#Syntax.M" class="Function">M</a> <a id="4406" href="STLCSF.Semantics.html#4335" class="Bound">Γ</a> <a id="4408" href="STLCSF.Semantics.html#4338" class="Bound">p</a> <a id="4410" href="STLCSF.Semantics.html#4333" class="Bound">Σ</a> <a id="4412" class="Symbol">→</a> <a id="4414" href="STLCSF.Semantics.html#4340" class="Bound">q</a> <a id="4416" href="STLCSF.Semantics.html#4333" class="Bound">Σ</a> <a id="4418" class="Symbol">→</a> <a id="4420" href="STLCSF.Semantics.html#Syntax.M" class="Function">M</a> <a id="4422" href="STLCSF.Semantics.html#4335" class="Bound">Γ</a> <a id="4424" class="Symbol">(</a><a id="4425" href="STLCSF.Semantics.html#4338" class="Bound">p</a> <a id="4427" href="Common.Weakening.html#_%E2%8A%97_" class="Function Operator">⊗</a> <a id="4429" href="STLCSF.Semantics.html#4340" class="Bound">q</a><a id="4430" class="Symbol">)</a> <a id="4432" href="STLCSF.Semantics.html#4333" class="Bound">Σ</a>
  <a id="4436" class="Symbol">(</a><a id="4437" href="STLCSF.Semantics.html#4437" class="Bound">a</a> <a id="4439" href="STLCSF.Semantics.html#Syntax._%5E_" class="Function Operator">^</a> <a id="4441" href="STLCSF.Semantics.html#4441" class="Bound">x</a><a id="4442" class="Symbol">)</a> <a id="4444" href="STLCSF.Semantics.html#4444" class="Bound">f</a> <a id="4446" href="STLCSF.Semantics.html#4446" class="Bound">h</a>
    <a id="4452" class="Keyword">with</a> <a id="4457" class="Symbol">(</a><a id="4458" href="STLCSF.Semantics.html#4437" class="Bound">a</a> <a id="4460" href="STLCSF.Semantics.html#4444" class="Bound">f</a> <a id="4462" href="STLCSF.Semantics.html#4446" class="Bound">h</a><a id="4463" class="Symbol">)</a>
  <a id="4467" class="Symbol">...</a>  <a id="4472" class="Symbol">|</a> <a id="4474" href="Data.Maybe.Base.html#Maybe.nothing" class="InductiveConstructor">nothing</a> <a id="4482" class="Symbol">=</a> <a id="4484" href="Data.Maybe.Base.html#Maybe.nothing" class="InductiveConstructor">nothing</a>
  <a id="4494" class="Symbol">...</a>  <a id="4499" class="Symbol">|</a> <a id="4501" href="Data.Maybe.Base.html#Maybe.just" class="InductiveConstructor">just</a> <a id="4506" class="Symbol">(</a><a id="4507" href="STLCSF.Semantics.html#4507" class="Bound">Σ</a> <a id="4509" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4511" href="STLCSF.Semantics.html#4511" class="Bound">h&#39;</a> <a id="4514" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4516" href="STLCSF.Semantics.html#4516" class="Bound">v</a> <a id="4518" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4520" href="STLCSF.Semantics.html#4520" class="Bound">ext</a><a id="4523" class="Symbol">)</a> <a id="4525" class="Symbol">=</a> <a id="4527" href="Data.Maybe.Base.html#Maybe.just" class="InductiveConstructor">just</a> <a id="4532" class="Symbol">(</a><a id="4533" href="STLCSF.Semantics.html#4507" class="Bound">Σ</a> <a id="4535" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4537" href="STLCSF.Semantics.html#4511" class="Bound">h&#39;</a> <a id="4540" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4542" class="Symbol">(</a><a id="4543" href="STLCSF.Semantics.html#4516" class="Bound">v</a> <a id="4545" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4547" href="Common.Weakening.html#746" class="Field">wk</a> <a id="4550" href="STLCSF.Semantics.html#4520" class="Bound">ext</a> <a id="4554" class="Bound">x</a><a id="4555" class="Symbol">)</a> <a id="4557" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4559" href="STLCSF.Semantics.html#4520" class="Bound">ext</a><a id="4562" class="Symbol">)</a>

  <a id="Syntax.sₑ" href="STLCSF.Semantics.html#Syntax.s%E2%82%91" class="Function">sₑ</a> <a id="4570" class="Symbol">:</a> <a id="4572" class="Symbol">∀</a> <a id="4574" class="Symbol">{</a><a id="4575" href="STLCSF.Semantics.html#4575" class="Bound">s</a> <a id="4577" href="STLCSF.Semantics.html#4577" class="Bound">t</a><a id="4578" class="Symbol">}</a> <a id="4580" class="Symbol">→</a> <a id="4582" href="STLCSF.Semantics.html#Syntax.Expr" class="Datatype">Expr</a> <a id="4587" href="STLCSF.Semantics.html#4575" class="Bound">s</a> <a id="4589" href="STLCSF.Semantics.html#4577" class="Bound">t</a> <a id="4591" class="Symbol">→</a> <a id="4593" href="ScopesFrames.ScopesFrames.html#1597" class="Function">Scope</a>
  <a id="4601" href="STLCSF.Semantics.html#Syntax.s%E2%82%91" class="Function">sₑ</a> <a id="4604" class="Symbol">{</a><a id="4605" href="STLCSF.Semantics.html#4605" class="Bound">s</a><a id="4606" class="Symbol">}</a> <a id="4608" class="Symbol">_</a> <a id="4610" class="Symbol">=</a> <a id="4612" href="STLCSF.Semantics.html#4605" class="Bound">s</a>

  <a id="Syntax.eval" href="STLCSF.Semantics.html#Syntax.eval" class="Function">eval</a> <a id="4622" class="Symbol">:</a> <a id="4624" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="4626" class="Symbol">→</a> <a id="4628" class="Symbol">∀</a> <a id="4630" class="Symbol">{</a><a id="4631" href="STLCSF.Semantics.html#4631" class="Bound">s</a> <a id="4633" href="STLCSF.Semantics.html#4633" class="Bound">t</a> <a id="4635" href="STLCSF.Semantics.html#4635" class="Bound">Σ</a><a id="4636" class="Symbol">}</a> <a id="4638" class="Symbol">→</a> <a id="4640" href="STLCSF.Semantics.html#Syntax.Expr" class="Datatype">Expr</a> <a id="4645" href="STLCSF.Semantics.html#4631" class="Bound">s</a> <a id="4647" href="STLCSF.Semantics.html#4633" class="Bound">t</a> <a id="4649" class="Symbol">→</a> <a id="4651" href="STLCSF.Semantics.html#Syntax.M" class="Function">M</a> <a id="4653" href="STLCSF.Semantics.html#4631" class="Bound">s</a> <a id="4655" class="Symbol">(</a><a id="4656" href="STLCSF.Semantics.html#Syntax.Val" class="Datatype">Val</a> <a id="4660" href="STLCSF.Semantics.html#4633" class="Bound">t</a><a id="4661" class="Symbol">)</a> <a id="4663" href="STLCSF.Semantics.html#4635" class="Bound">Σ</a>
  <a id="4667" href="STLCSF.Semantics.html#Syntax.eval" class="Function">eval</a> <a id="4672" href="Agda.Builtin.Nat.html#Nat.zero" class="InductiveConstructor">zero</a>     <a id="4681" class="Symbol">_</a>      <a id="4688" class="Symbol">=</a>
    <a id="4694" href="STLCSF.Semantics.html#Syntax.timeout" class="Function">timeout</a>
  <a id="4704" href="STLCSF.Semantics.html#Syntax.eval" class="Function">eval</a> <a id="4709" class="Symbol">(</a><a id="4710" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="4714" href="STLCSF.Semantics.html#4714" class="Bound">k</a><a id="4715" class="Symbol">)</a> <a id="4717" href="STLCSF.Semantics.html#Syntax.Expr.unit" class="InductiveConstructor">unit</a>    <a id="4725" class="Symbol">=</a>
    <a id="4731" href="STLCSF.Semantics.html#Syntax.return" class="Function">return</a> <a id="4738" href="STLCSF.Semantics.html#Syntax.Val.unit" class="InductiveConstructor">unit</a>
  <a id="4745" href="STLCSF.Semantics.html#Syntax.eval" class="Function">eval</a> <a id="4750" class="Symbol">(</a><a id="4751" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="4755" href="STLCSF.Semantics.html#4755" class="Bound">k</a><a id="4756" class="Symbol">)</a> <a id="4758" class="Symbol">(</a><a id="4759" href="STLCSF.Semantics.html#Syntax.Expr.var" class="InductiveConstructor">var</a> <a id="4763" href="STLCSF.Semantics.html#4763" class="Bound">x</a><a id="4764" class="Symbol">)</a> <a id="4766" class="Symbol">=</a>
    <a id="4772" href="STLCSF.Semantics.html#Syntax.getv" class="Function">getv</a> <a id="4777" href="STLCSF.Semantics.html#4763" class="Bound">x</a>
  <a id="4781" href="STLCSF.Semantics.html#Syntax.eval" class="Function">eval</a> <a id="4786" class="Symbol">(</a><a id="4787" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="4791" href="STLCSF.Semantics.html#4791" class="Bound">k</a><a id="4792" class="Symbol">)</a> <a id="4794" class="Symbol">(</a><a id="4795" href="STLCSF.Semantics.html#Syntax.Expr.%C6%9B" class="InductiveConstructor">ƛ</a> <a id="4797" href="STLCSF.Semantics.html#4797" class="Bound">e</a><a id="4798" class="Symbol">)</a>   <a id="4802" class="Symbol">=</a>
    <a id="4808" href="STLCSF.Semantics.html#Syntax.getFrame" class="Function">getFrame</a> <a id="4817" href="STLCSF.Semantics.html#Syntax._%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="4821" class="Symbol">λ</a> <a id="4823" href="STLCSF.Semantics.html#4823" class="Bound">f</a> <a id="4825" class="Symbol">→</a>
    <a id="4831" href="STLCSF.Semantics.html#Syntax.return" class="Function">return</a> <a id="4838" href="STLCSF.Semantics.html#Syntax.Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟨</a> <a id="4840" href="STLCSF.Semantics.html#4797" class="Bound">e</a> <a id="4842" href="STLCSF.Semantics.html#Syntax.Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">,</a> <a id="4844" href="STLCSF.Semantics.html#4823" class="Bound">f</a> <a id="4846" href="STLCSF.Semantics.html#Syntax.Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟩</a>
  <a id="4850" href="STLCSF.Semantics.html#Syntax.eval" class="Function">eval</a> <a id="4855" class="Symbol">(</a><a id="4856" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="4860" href="STLCSF.Semantics.html#4860" class="Bound">k</a><a id="4861" class="Symbol">)</a> <a id="4863" class="Symbol">(</a><a id="4864" href="STLCSF.Semantics.html#4864" class="Bound">l</a> <a id="4866" href="STLCSF.Semantics.html#Syntax.Expr._%C2%B7_" class="InductiveConstructor Operator">·</a> <a id="4868" href="STLCSF.Semantics.html#4868" class="Bound">r</a><a id="4869" class="Symbol">)</a> <a id="4871" class="Symbol">=</a>
    <a id="4877" href="STLCSF.Semantics.html#Syntax.eval" class="Function">eval</a> <a id="4882" href="STLCSF.Semantics.html#4860" class="Bound">k</a> <a id="4884" href="STLCSF.Semantics.html#4864" class="Bound">l</a> <a id="4886" href="STLCSF.Semantics.html#Syntax._%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="4890" class="Symbol">λ{</a> <a id="4893" href="STLCSF.Semantics.html#Syntax.Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟨</a> <a id="4895" href="STLCSF.Semantics.html#4895" class="Bound">e</a> <a id="4897" href="STLCSF.Semantics.html#Syntax.Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">,</a> <a id="4899" href="STLCSF.Semantics.html#4899" class="Bound">f</a> <a id="4901" href="STLCSF.Semantics.html#Syntax.Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟩</a> <a id="4903" class="Symbol">→</a>
    <a id="4909" class="Symbol">(</a><a id="4910" href="STLCSF.Semantics.html#Syntax.eval" class="Function">eval</a> <a id="4915" href="STLCSF.Semantics.html#4860" class="Bound">k</a> <a id="4917" href="STLCSF.Semantics.html#4868" class="Bound">r</a> <a id="4919" href="STLCSF.Semantics.html#Syntax._%5E_" class="Function Operator">^</a> <a id="4921" href="STLCSF.Semantics.html#4899" class="Bound">f</a><a id="4922" class="Symbol">)</a> <a id="4924" href="STLCSF.Semantics.html#Syntax._%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="4928" class="Symbol">λ{</a> <a id="4931" class="Symbol">(</a><a id="4932" href="STLCSF.Semantics.html#4932" class="Bound">v</a> <a id="4934" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4936" href="STLCSF.Semantics.html#4936" class="Bound">f</a><a id="4937" class="Symbol">)</a> <a id="4939" class="Symbol">→</a>
    <a id="4945" href="STLCSF.Semantics.html#Syntax.init" class="Function">init</a> <a id="4950" class="Symbol">(</a><a id="4951" href="STLCSF.Semantics.html#Syntax.s%E2%82%91" class="Function">sₑ</a> <a id="4954" href="STLCSF.Semantics.html#4895" class="Bound">e</a><a id="4955" class="Symbol">)</a> <a id="4957" class="Symbol">(</a><a id="4958" href="STLCSF.Semantics.html#4932" class="Bound">v</a> <a id="4960" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="4962" href="Data.List.All.html#All.%5B%5D" class="InductiveConstructor">[]</a><a id="4964" class="Symbol">)</a> <a id="4966" class="Symbol">(</a><a id="4967" href="STLCSF.Semantics.html#4936" class="Bound">f</a> <a id="4969" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="4971" href="Data.List.All.html#All.%5B%5D" class="InductiveConstructor">[]</a><a id="4973" class="Symbol">)</a> <a id="4975" href="STLCSF.Semantics.html#Syntax._%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="4979" class="Symbol">λ</a> <a id="4981" href="STLCSF.Semantics.html#4981" class="Bound">f&#39;</a> <a id="4984" class="Symbol">→</a>
    <a id="4990" href="STLCSF.Semantics.html#Syntax.usingFrame" class="Function">usingFrame</a> <a id="5001" href="STLCSF.Semantics.html#4981" class="Bound">f&#39;</a> <a id="5004" class="Symbol">(</a><a id="5005" href="STLCSF.Semantics.html#Syntax.eval" class="Function">eval</a> <a id="5010" href="STLCSF.Semantics.html#4860" class="Bound">k</a> <a id="5012" href="STLCSF.Semantics.html#4895" class="Bound">e</a><a id="5013" class="Symbol">)</a> <a id="5015" class="Symbol">}}</a>
  <a id="5020" href="STLCSF.Semantics.html#Syntax.eval" class="Function">eval</a> <a id="5025" class="Symbol">(</a><a id="5026" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="5030" href="STLCSF.Semantics.html#5030" class="Bound">k</a><a id="5031" class="Symbol">)</a> <a id="5033" class="Symbol">(</a><a id="5034" href="STLCSF.Semantics.html#Syntax.Expr.num" class="InductiveConstructor">num</a> <a id="5038" href="STLCSF.Semantics.html#5038" class="Bound">z</a><a id="5039" class="Symbol">)</a> <a id="5041" class="Symbol">=</a>
    <a id="5047" href="STLCSF.Semantics.html#Syntax.return" class="Function">return</a> <a id="5054" class="Symbol">(</a><a id="5055" href="STLCSF.Semantics.html#Syntax.Val.num" class="InductiveConstructor">num</a> <a id="5059" href="STLCSF.Semantics.html#5038" class="Bound">z</a><a id="5060" class="Symbol">)</a>
  <a id="5064" href="STLCSF.Semantics.html#Syntax.eval" class="Function">eval</a> <a id="5069" class="Symbol">(</a><a id="5070" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="5074" href="STLCSF.Semantics.html#5074" class="Bound">k</a><a id="5075" class="Symbol">)</a> <a id="5077" class="Symbol">(</a><a id="5078" href="STLCSF.Semantics.html#Syntax.Expr.iop" class="InductiveConstructor">iop</a> <a id="5082" href="STLCSF.Semantics.html#5082" class="Bound">f</a> <a id="5084" href="STLCSF.Semantics.html#5084" class="Bound">l</a> <a id="5086" href="STLCSF.Semantics.html#5086" class="Bound">r</a><a id="5087" class="Symbol">)</a> <a id="5089" class="Symbol">=</a>
    <a id="5095" href="STLCSF.Semantics.html#Syntax.eval" class="Function">eval</a> <a id="5100" href="STLCSF.Semantics.html#5074" class="Bound">k</a> <a id="5102" href="STLCSF.Semantics.html#5084" class="Bound">l</a> <a id="5104" href="STLCSF.Semantics.html#Syntax._%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5108" class="Symbol">λ{</a> <a id="5111" class="Symbol">(</a><a id="5112" href="STLCSF.Semantics.html#Syntax.Val.num" class="InductiveConstructor">num</a> <a id="5116" href="STLCSF.Semantics.html#5116" class="Bound">z₁</a><a id="5118" class="Symbol">)</a> <a id="5120" class="Symbol">→</a>
    <a id="5126" href="STLCSF.Semantics.html#Syntax.eval" class="Function">eval</a> <a id="5131" href="STLCSF.Semantics.html#5074" class="Bound">k</a> <a id="5133" href="STLCSF.Semantics.html#5086" class="Bound">r</a> <a id="5135" href="STLCSF.Semantics.html#Syntax._%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5139" class="Symbol">λ{</a> <a id="5142" class="Symbol">(</a><a id="5143" href="STLCSF.Semantics.html#Syntax.Val.num" class="InductiveConstructor">num</a> <a id="5147" href="STLCSF.Semantics.html#5147" class="Bound">z₂</a><a id="5149" class="Symbol">)</a> <a id="5151" class="Symbol">→</a>
    <a id="5157" href="STLCSF.Semantics.html#Syntax.return" class="Function">return</a> <a id="5164" class="Symbol">(</a><a id="5165" href="STLCSF.Semantics.html#Syntax.Val.num" class="InductiveConstructor">num</a> <a id="5169" class="Symbol">(</a><a id="5170" href="STLCSF.Semantics.html#5082" class="Bound">f</a> <a id="5172" href="STLCSF.Semantics.html#5116" class="Bound">z₁</a> <a id="5175" href="STLCSF.Semantics.html#5147" class="Bound">z₂</a><a id="5177" class="Symbol">))</a> <a id="5180" class="Symbol">}}</a>
</pre></body></html>