<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>MJ.Classtable.Membership</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Keyword">import</a> <a id="8" href="MJ.Classtable.Core.html" class="Module">MJ.Classtable.Core</a> <a id="27" class="Symbol">as</a> <a id="30" class="Module">Core</a>


<a id="37" class="Keyword">module</a> <a id="44" href="MJ.Classtable.Membership.html" class="Module">MJ.Classtable.Membership</a> <a id="69" class="Symbol">{</a><a id="70" href="MJ.Classtable.Membership.html#70" class="Bound">c</a><a id="71" class="Symbol">}(</a><a id="73" href="MJ.Classtable.Membership.html#73" class="Bound">Ct</a> <a id="76" class="Symbol">:</a> <a id="78" href="MJ.Classtable.Core.html#Classtable" class="Record">Core.Classtable</a> <a id="94" href="MJ.Classtable.Membership.html#70" class="Bound">c</a><a id="95" class="Symbol">)</a> <a id="97" class="Keyword">where</a>

<a id="104" class="Keyword">open</a> <a id="109" href="MJ.Classtable.Core.html" class="Module">Core</a> <a id="114" href="MJ.Classtable.Membership.html#70" class="Bound">c</a>
<a id="116" class="Keyword">open</a> <a id="121" href="MJ.Classtable.Core.html#Classtable" class="Module">Classtable</a> <a id="132" href="MJ.Classtable.Membership.html#73" class="Bound">Ct</a>

<a id="136" class="Keyword">open</a> <a id="141" class="Keyword">import</a> <a id="148" href="Prelude.html" class="Module">Prelude</a>
<a id="156" class="Keyword">open</a> <a id="161" class="Keyword">import</a> <a id="168" href="Data.Star.html" class="Module">Data.Star</a>
<a id="178" class="Keyword">open</a> <a id="183" class="Keyword">import</a> <a id="190" href="Data.List.html" class="Module">Data.List</a>
<a id="200" class="Keyword">open</a> <a id="205" class="Keyword">import</a> <a id="212" href="Data.List.Any.html" class="Module">Data.List.Any</a>
<a id="226" class="Keyword">open</a> <a id="231" class="Keyword">import</a> <a id="238" href="Data.List.Any.Properties.html" class="Module">Data.List.Any.Properties</a>
<a id="263" class="Keyword">open</a> <a id="268" class="Keyword">import</a> <a id="275" href="Data.List.First.Membership.html" class="Module">Data.List.First.Membership</a>
<a id="302" class="Keyword">open</a> <a id="307" class="Keyword">import</a> <a id="314" href="Relation.Binary.Product.Pointwise.html" class="Module">Relation.Binary.Product.Pointwise</a>
<a id="348" class="Keyword">open</a> <a id="353" class="Keyword">import</a> <a id="360" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a>
<a id="387" class="Keyword">open</a> <a id="392" class="Keyword">import</a> <a id="399" href="Data.Vec.html" class="Module">Data.Vec</a> <a id="408" class="Keyword">hiding</a> <a id="415" class="Symbol">(</a><a id="416" href="Data.Vec.html#_%E2%88%88_" class="Datatype Operator">_∈_</a><a id="419" class="Symbol">)</a>
<a id="421" class="Keyword">open</a> <a id="426" class="Keyword">import</a> <a id="433" href="Data.Maybe.html" class="Module">Data.Maybe</a>
<a id="444" class="Keyword">open</a> <a id="449" class="Keyword">import</a> <a id="456" href="Data.String.html" class="Module">Data.String</a> <a id="468" class="Symbol">as</a> <a id="471" class="Module">Str</a>
<a id="475" class="Keyword">open</a> <a id="480" class="Keyword">import</a> <a id="487" href="Function.Equality.html" class="Module">Function.Equality</a> <a id="505" class="Keyword">using</a> <a id="511" class="Symbol">(</a><a id="512" href="Function.Equality.html#%CE%A0" class="Record">Π</a><a id="513" class="Symbol">)</a>
<a id="515" class="Keyword">open</a> <a id="520" class="Keyword">import</a> <a id="527" href="Function.Inverse.html" class="Module">Function.Inverse</a> <a id="544" class="Keyword">using</a> <a id="550" class="Symbol">(</a><a id="551" href="Function.Inverse.html#Inverse" class="Record">Inverse</a><a id="558" class="Symbol">)</a>

<a id="561" class="Keyword">open</a> <a id="566" class="Keyword">import</a> <a id="573" href="MJ.Types.html" class="Module">MJ.Types</a> <a id="582" class="Symbol">as</a> <a id="585" class="Module">Types</a>

<a id="Declares" href="MJ.Classtable.Membership.html#Declares" class="Function">Declares</a> <a id="601" class="Symbol">:</a> <a id="603" href="MJ.Types.html#Cid" class="Datatype">Cid</a> <a id="607" href="MJ.Classtable.Membership.html#70" class="Bound">c</a> <a id="609" class="Symbol">→</a> <a id="611" class="Symbol">(</a><a id="612" href="MJ.Classtable.Membership.html#612" class="Bound">ns</a> <a id="615" class="Symbol">:</a> <a id="617" href="MJ.Classtable.Core.html#334" class="Datatype">NS</a><a id="619" class="Symbol">)</a> <a id="621" class="Symbol">→</a> <a id="623" href="Agda.Builtin.String.html#String" class="Postulate">String</a> <a id="630" class="Symbol">→</a> <a id="632" href="MJ.Classtable.Core.html#378" class="Function">typing</a> <a id="639" href="MJ.Classtable.Membership.html#612" class="Bound">ns</a> <a id="642" class="Symbol">→</a> <a id="644" class="PrimitiveType">Set</a>
<a id="648" href="MJ.Classtable.Membership.html#Declares" class="Function">Declares</a> <a id="657" href="MJ.Classtable.Membership.html#657" class="Bound">cid</a> <a id="661" href="MJ.Classtable.Membership.html#661" class="Bound">ns</a> <a id="664" href="MJ.Classtable.Membership.html#664" class="Bound">m</a> <a id="666" href="MJ.Classtable.Membership.html#666" class="Bound">ty</a> <a id="669" class="Symbol">=</a> <a id="671" class="Keyword">let</a> <a id="675" href="MJ.Classtable.Membership.html#675" class="Bound">cl</a> <a id="678" class="Symbol">=</a> <a id="680" href="MJ.Classtable.Core.html#1316" class="Field">Σ</a> <a id="682" href="MJ.Classtable.Membership.html#657" class="Bound">cid</a> <a id="686" class="Keyword">in</a> <a id="689" class="Symbol">(</a><a id="690" href="MJ.Classtable.Membership.html#664" class="Bound">m</a> <a id="692" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="694" href="MJ.Classtable.Membership.html#666" class="Bound">ty</a><a id="696" class="Symbol">)</a> <a id="698" href="Data.List.First.Membership.html#_%E2%88%88_" class="Function Operator">∈</a> <a id="700" class="Symbol">(</a><a id="701" href="MJ.Classtable.Core.html#910" class="Field">Class.decls</a> <a id="713" href="MJ.Classtable.Membership.html#675" class="Bound">cl</a> <a id="716" href="MJ.Classtable.Membership.html#661" class="Bound">ns</a><a id="718" class="Symbol">)</a>

<a id="721" class="Comment">-- declarative membership</a>
<a id="IsMember" href="MJ.Classtable.Membership.html#IsMember" class="Function">IsMember</a> <a id="756" class="Symbol">:</a> <a id="758" href="MJ.Types.html#Cid" class="Datatype">Cid</a> <a id="762" href="MJ.Classtable.Membership.html#70" class="Bound">c</a> <a id="764" class="Symbol">→</a> <a id="766" class="Symbol">(</a><a id="767" href="MJ.Classtable.Membership.html#767" class="Bound">ns</a> <a id="770" class="Symbol">:</a> <a id="772" href="MJ.Classtable.Core.html#334" class="Datatype">NS</a><a id="774" class="Symbol">)</a> <a id="776" class="Symbol">→</a> <a id="778" href="Agda.Builtin.String.html#String" class="Postulate">String</a> <a id="785" class="Symbol">→</a> <a id="787" href="MJ.Classtable.Core.html#378" class="Function">typing</a> <a id="794" href="MJ.Classtable.Membership.html#767" class="Bound">ns</a> <a id="797" class="Symbol">→</a> <a id="799" class="PrimitiveType">Set</a>
<a id="803" href="MJ.Classtable.Membership.html#IsMember" class="Function">IsMember</a> <a id="812" href="MJ.Classtable.Membership.html#812" class="Bound">cid</a> <a id="816" href="MJ.Classtable.Membership.html#816" class="Bound">ns</a> <a id="819" href="MJ.Classtable.Membership.html#819" class="Bound">m</a> <a id="821" href="MJ.Classtable.Membership.html#821" class="Bound">ty</a> <a id="824" class="Symbol">=</a> <a id="826" class="Keyword">let</a> <a id="830" href="MJ.Classtable.Membership.html#830" class="Bound">C</a> <a id="832" class="Symbol">=</a> <a id="834" href="MJ.Classtable.Core.html#1316" class="Field">Σ</a> <a id="836" href="MJ.Classtable.Membership.html#812" class="Bound">cid</a> <a id="840" class="Keyword">in</a> <a id="843" href="Data.Product.html#%E2%88%83" class="Function">∃</a> <a id="845" class="Symbol">λ</a> <a id="847" href="MJ.Classtable.Membership.html#847" class="Bound">P</a> <a id="849" class="Symbol">→</a> <a id="851" href="MJ.Classtable.Core.html#1316" class="Field">Σ</a> <a id="853" href="MJ.Classtable.Core.html#1181" class="Function Operator">⊢</a> <a id="855" href="MJ.Classtable.Membership.html#812" class="Bound">cid</a> <a id="859" href="MJ.Classtable.Core.html#1181" class="Function Operator">&lt;:</a> <a id="862" href="MJ.Classtable.Membership.html#847" class="Bound">P</a> <a id="864" href="Data.Product.html#_%C3%97_" class="Function Operator">×</a> <a id="866" href="MJ.Classtable.Membership.html#Declares" class="Function">Declares</a> <a id="875" href="MJ.Classtable.Membership.html#847" class="Bound">P</a> <a id="877" href="MJ.Classtable.Membership.html#816" class="Bound">ns</a> <a id="880" href="MJ.Classtable.Membership.html#819" class="Bound">m</a> <a id="882" href="MJ.Classtable.Membership.html#821" class="Bound">ty</a>

<a id="∉Object" href="MJ.Classtable.Membership.html#%E2%88%89Object" class="Function">∉Object</a> <a id="894" class="Symbol">:</a> <a id="896" class="Symbol">∀</a> <a id="898" class="Symbol">{</a><a id="899" href="MJ.Classtable.Membership.html#899" class="Bound">ns</a> <a id="902" href="MJ.Classtable.Membership.html#902" class="Bound">m</a> <a id="904" href="MJ.Classtable.Membership.html#904" class="Bound">a</a><a id="905" class="Symbol">}</a> <a id="907" class="Symbol">→</a> <a id="909" href="Relation.Nullary.html#%C2%AC_" class="Function Operator">¬</a> <a id="911" href="MJ.Classtable.Membership.html#IsMember" class="Function">IsMember</a> <a id="920" href="MJ.Types.html#Cid.Object" class="InductiveConstructor">Object</a> <a id="927" href="MJ.Classtable.Membership.html#899" class="Bound">ns</a> <a id="930" href="MJ.Classtable.Membership.html#902" class="Bound">m</a> <a id="932" href="MJ.Classtable.Membership.html#904" class="Bound">a</a>
<a id="934" href="MJ.Classtable.Membership.html#%E2%88%89Object" class="Function">∉Object</a> <a id="942" class="Symbol">(</a><a id="943" class="DottedPattern Symbol">.</a><a id="944" href="MJ.Types.html#Cid.Object" class="DottedPattern InductiveConstructor">Object</a> <a id="951" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="953" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a> <a id="955" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="957" href="MJ.Classtable.Membership.html#957" class="Bound">mem</a><a id="960" class="Symbol">)</a> <a id="962" class="Keyword">rewrite</a> <a id="970" href="MJ.Classtable.Core.html#1430" class="Field">Σ-Object</a> <a id="979" class="Symbol">=</a> <a id="981" href="Data.List.First.Membership.html#%C2%ACx%E2%88%88%5B%5D" class="Function">¬x∈[]</a> <a id="987" href="MJ.Classtable.Membership.html#957" class="Bound">mem</a>
<a id="991" href="MJ.Classtable.Membership.html#%E2%88%89Object" class="Function">∉Object</a> <a id="999" class="Symbol">(</a><a id="1000" class="DottedPattern Symbol">._</a> <a id="1003" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1005" class="Symbol">()</a> <a id="1008" href="Data.Star.html#Star._%E2%97%85_" class="InductiveConstructor Operator">◅</a> <a id="1010" class="Symbol">_</a> <a id="1012" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1014" class="Symbol">_)</a>

<a id="find-declaration" href="MJ.Classtable.Membership.html#find-declaration" class="Function">find-declaration</a> <a id="1035" class="Symbol">:</a> <a id="1037" class="Symbol">∀</a> <a id="1039" href="MJ.Classtable.Membership.html#1039" class="Bound">cid</a> <a id="1043" href="MJ.Classtable.Membership.html#1043" class="Bound">ns</a> <a id="1046" href="MJ.Classtable.Membership.html#1046" class="Bound">n</a> <a id="1048" href="MJ.Classtable.Membership.html#1048" class="Bound">ty</a> <a id="1051" class="Symbol">→</a> <a id="1053" href="Relation.Nullary.html#Dec" class="Datatype">Dec</a> <a id="1057" class="Symbol">(</a><a id="1058" href="MJ.Classtable.Membership.html#Declares" class="Function">Declares</a> <a id="1067" href="MJ.Classtable.Membership.html#1039" class="Bound">cid</a> <a id="1071" href="MJ.Classtable.Membership.html#1043" class="Bound">ns</a> <a id="1074" href="MJ.Classtable.Membership.html#1046" class="Bound">n</a> <a id="1076" href="MJ.Classtable.Membership.html#1048" class="Bound">ty</a><a id="1078" class="Symbol">)</a>
<a id="1080" href="MJ.Classtable.Membership.html#find-declaration" class="Function">find-declaration</a> <a id="1097" href="MJ.Classtable.Membership.html#1097" class="Bound">cid</a> <a id="1101" href="MJ.Classtable.Membership.html#1101" class="Bound">ns</a> <a id="1104" href="MJ.Classtable.Membership.html#1104" class="Bound">m</a> <a id="1106" href="MJ.Classtable.Membership.html#1106" class="Bound">ty</a> <a id="1109" class="Symbol">=</a> <a id="1111" href="Data.List.First.Membership.html#find" class="Function">find</a> <a id="1116" class="Symbol">(</a><a id="1117" href="Data.String.html#_%E2%89%9F_" class="Function Operator">Str._≟_</a> <a id="1125" href="Relation.Binary.Product.Pointwise.html#_%C3%97-%E2%89%9F_" class="Function Operator">×-≟</a> <a id="1129" href="MJ.Classtable.Core.html#642" class="Function Operator">_typing-≟_</a><a id="1139" class="Symbol">)</a> <a id="1141" class="Symbol">(</a><a id="1142" href="MJ.Classtable.Membership.html#1104" class="Bound">m</a> <a id="1144" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1146" href="MJ.Classtable.Membership.html#1106" class="Bound">ty</a><a id="1148" class="Symbol">)</a> <a id="1150" class="Symbol">(</a><a id="1151" href="MJ.Classtable.Core.html#910" class="Field">Class.decls</a> <a id="1163" class="Symbol">(</a><a id="1164" href="MJ.Classtable.Core.html#1316" class="Field">Σ</a> <a id="1166" href="MJ.Classtable.Membership.html#1097" class="Bound">cid</a><a id="1169" class="Symbol">)</a> <a id="1171" href="MJ.Classtable.Membership.html#1101" class="Bound">ns</a><a id="1173" class="Symbol">)</a>

<a id="find-member" href="MJ.Classtable.Membership.html#find-member" class="Function">find-member</a> <a id="1188" class="Symbol">:</a> <a id="1190" class="Symbol">∀</a> <a id="1192" href="MJ.Classtable.Membership.html#1192" class="Bound">cid</a> <a id="1196" href="MJ.Classtable.Membership.html#1196" class="Bound">ns</a> <a id="1199" href="MJ.Classtable.Membership.html#1199" class="Bound">n</a> <a id="1201" href="MJ.Classtable.Membership.html#1201" class="Bound">ty</a> <a id="1204" class="Symbol">→</a> <a id="1206" href="Relation.Nullary.html#Dec" class="Datatype">Dec</a> <a id="1210" class="Symbol">(</a><a id="1211" href="MJ.Classtable.Membership.html#IsMember" class="Function">IsMember</a> <a id="1220" href="MJ.Classtable.Membership.html#1192" class="Bound">cid</a> <a id="1224" href="MJ.Classtable.Membership.html#1196" class="Bound">ns</a> <a id="1227" href="MJ.Classtable.Membership.html#1199" class="Bound">n</a> <a id="1229" href="MJ.Classtable.Membership.html#1201" class="Bound">ty</a><a id="1231" class="Symbol">)</a>
<a id="1233" href="MJ.Classtable.Membership.html#find-member" class="Function">find-member</a> <a id="1245" href="MJ.Classtable.Membership.html#1245" class="Bound">cid</a> <a id="1249" href="MJ.Classtable.Membership.html#1249" class="Bound">ns</a> <a id="1252" href="MJ.Classtable.Membership.html#1252" class="Bound">n</a> <a id="1254" href="MJ.Classtable.Membership.html#1254" class="Bound">ty</a> <a id="1257" class="Symbol">=</a> <a id="1259" href="MJ.Classtable.Membership.html#1303" class="Function">helper</a> <a id="1266" href="MJ.Classtable.Membership.html#1245" class="Bound">cid</a> <a id="1270" href="MJ.Classtable.Membership.html#1249" class="Bound">ns</a> <a id="1273" href="MJ.Classtable.Membership.html#1252" class="Bound">n</a> <a id="1275" href="MJ.Classtable.Membership.html#1254" class="Bound">ty</a> <a id="1278" class="Symbol">(</a><a id="1279" href="MJ.Classtable.Core.html#1393" class="Field">rooted</a> <a id="1286" href="MJ.Classtable.Membership.html#1245" class="Bound">cid</a><a id="1289" class="Symbol">)</a>
  <a id="1293" class="Keyword">where</a>
    <a id="1303" href="MJ.Classtable.Membership.html#1303" class="Function">helper</a> <a id="1310" class="Symbol">:</a> <a id="1312" class="Symbol">∀</a> <a id="1314" href="MJ.Classtable.Membership.html#1314" class="Bound">cid</a> <a id="1318" href="MJ.Classtable.Membership.html#1318" class="Bound">ns</a> <a id="1321" href="MJ.Classtable.Membership.html#1321" class="Bound">n</a> <a id="1323" href="MJ.Classtable.Membership.html#1323" class="Bound">ty</a> <a id="1326" class="Symbol">→</a> <a id="1328" href="MJ.Classtable.Core.html#1316" class="Field">Σ</a> <a id="1330" href="MJ.Classtable.Core.html#1181" class="Function Operator">⊢</a> <a id="1332" href="MJ.Classtable.Membership.html#1314" class="Bound">cid</a> <a id="1336" href="MJ.Classtable.Core.html#1181" class="Function Operator">&lt;:</a> <a id="1339" href="MJ.Types.html#Cid.Object" class="InductiveConstructor">Object</a> <a id="1346" class="Symbol">→</a> <a id="1348" href="Relation.Nullary.html#Dec" class="Datatype">Dec</a> <a id="1352" class="Symbol">(</a><a id="1353" href="MJ.Classtable.Membership.html#IsMember" class="Function">IsMember</a> <a id="1362" href="MJ.Classtable.Membership.html#1314" class="Bound">cid</a> <a id="1366" href="MJ.Classtable.Membership.html#1318" class="Bound">ns</a> <a id="1369" href="MJ.Classtable.Membership.html#1321" class="Bound">n</a> <a id="1371" href="MJ.Classtable.Membership.html#1323" class="Bound">ty</a><a id="1373" class="Symbol">)</a>
    <a id="1379" href="MJ.Classtable.Membership.html#1303" class="Function">helper</a> <a id="1386" href="MJ.Classtable.Membership.html#1386" class="Bound">cid</a> <a id="1390" href="MJ.Classtable.Membership.html#1390" class="Bound">ns</a> <a id="1393" href="MJ.Classtable.Membership.html#1393" class="Bound">n</a> <a id="1395" href="MJ.Classtable.Membership.html#1395" class="Bound">ty</a> <a id="1398" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a> <a id="1400" class="Symbol">=</a> <a id="1402" href="Relation.Nullary.html#Dec.no" class="InductiveConstructor">no</a> <a id="1405" class="Symbol">(</a><a id="1406" href="Data.Empty.html#%E2%8A%A5-elim" class="Function">⊥-elim</a> <a id="1413" href="Function.html#_%E2%88%98_" class="Function Operator">∘</a> <a id="1415" href="MJ.Classtable.Membership.html#%E2%88%89Object" class="Function">∉Object</a><a id="1422" class="Symbol">)</a>
    <a id="1428" href="MJ.Classtable.Membership.html#1303" class="Function">helper</a> <a id="1435" href="MJ.Classtable.Membership.html#1435" class="Bound">cid</a> <a id="1439" href="MJ.Classtable.Membership.html#1439" class="Bound">ns</a> <a id="1442" href="MJ.Classtable.Membership.html#1442" class="Bound">n</a> <a id="1444" href="MJ.Classtable.Membership.html#1444" class="Bound">ty</a> <a id="1447" class="Symbol">(</a><a id="1448" href="MJ.Classtable.Core.html#1095" class="InductiveConstructor">super</a> <a id="1454" href="Data.Star.html#Star._%E2%97%85_" class="InductiveConstructor Operator">◅</a> <a id="1456" href="MJ.Classtable.Membership.html#1456" class="Bound">p</a><a id="1457" class="Symbol">)</a> <a id="1459" class="Keyword">with</a> <a id="1464" href="MJ.Classtable.Membership.html#find-declaration" class="Function">find-declaration</a> <a id="1481" href="MJ.Classtable.Membership.html#1435" class="Bound">cid</a> <a id="1485" href="MJ.Classtable.Membership.html#1439" class="Bound">ns</a> <a id="1488" href="MJ.Classtable.Membership.html#1442" class="Bound">n</a> <a id="1490" href="MJ.Classtable.Membership.html#1444" class="Bound">ty</a>
    <a id="1497" class="Symbol">...</a> <a id="1501" class="Symbol">|</a> <a id="1503" href="Relation.Nullary.html#Dec.yes" class="InductiveConstructor">yes</a> <a id="1507" href="MJ.Classtable.Membership.html#1507" class="Bound">q</a> <a id="1509" class="Symbol">=</a> <a id="1511" href="Relation.Nullary.html#Dec.yes" class="InductiveConstructor">yes</a> <a id="1515" class="Symbol">(</a><a id="1516" class="Bound">cid</a> <a id="1520" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1522" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a> <a id="1524" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1526" href="MJ.Classtable.Membership.html#1507" class="Bound">q</a><a id="1527" class="Symbol">)</a>
    <a id="1533" class="Symbol">...</a> <a id="1537" class="Symbol">|</a> <a id="1539" href="Relation.Nullary.html#Dec.no" class="InductiveConstructor">no</a> <a id="1542" href="MJ.Classtable.Membership.html#1542" class="Bound">¬q</a> <a id="1545" class="Keyword">with</a> <a id="1550" href="MJ.Classtable.Membership.html#1303" class="Function">helper</a> <a id="1557" class="Symbol">_</a> <a id="1559" class="Bound">ns</a> <a id="1562" class="Bound">n</a> <a id="1564" class="Bound">ty</a> <a id="1567" class="Bound">p</a>
    <a id="1573" class="Symbol">...</a> <a id="1577" class="Symbol">|</a> <a id="1579" href="Relation.Nullary.html#Dec.yes" class="InductiveConstructor">yes</a> <a id="1583" class="Symbol">(</a><a id="1584" href="MJ.Classtable.Membership.html#1584" class="Bound">pid</a> <a id="1588" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1590" href="MJ.Classtable.Membership.html#1590" class="Bound">s</a> <a id="1592" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1594" href="MJ.Classtable.Membership.html#1594" class="Bound">d</a><a id="1595" class="Symbol">)</a> <a id="1597" class="Symbol">=</a> <a id="1599" href="Relation.Nullary.html#Dec.yes" class="InductiveConstructor">yes</a> <a id="1603" class="Symbol">(</a><a id="1604" href="MJ.Classtable.Membership.html#1584" class="Bound">pid</a> <a id="1608" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1610" href="MJ.Classtable.Core.html#1095" class="InductiveConstructor">super</a> <a id="1616" href="Data.Star.html#Star._%E2%97%85_" class="InductiveConstructor Operator">◅</a> <a id="1618" href="MJ.Classtable.Membership.html#1590" class="Bound">s</a> <a id="1620" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1622" href="MJ.Classtable.Membership.html#1594" class="Bound">d</a><a id="1623" class="Symbol">)</a>
    <a id="1629" class="Symbol">...</a> <a id="1633" class="Symbol">|</a> <a id="1635" href="Relation.Nullary.html#Dec.no" class="InductiveConstructor">no</a> <a id="1638" href="MJ.Classtable.Membership.html#1638" class="Bound">¬r</a> <a id="1641" class="Symbol">=</a> <a id="1643" href="Relation.Nullary.html#Dec.no" class="InductiveConstructor">no</a> <a id="1646" href="MJ.Classtable.Membership.html#1677" class="Function">impossible</a>
      <a id="1663" class="Keyword">where</a>
        <a id="1677" href="MJ.Classtable.Membership.html#1677" class="Function">impossible</a> <a id="1688" class="Symbol">:</a> <a id="1690" href="Relation.Nullary.html#%C2%AC_" class="Function Operator">¬</a> <a id="1692" class="Symbol">(</a><a id="1693" href="MJ.Classtable.Membership.html#IsMember" class="Function">IsMember</a> <a id="1702" class="Bound">cid</a> <a id="1706" class="Bound">ns</a> <a id="1709" class="Bound">n</a> <a id="1711" class="Bound">ty</a><a id="1713" class="Symbol">)</a>
        <a id="1723" href="MJ.Classtable.Membership.html#1677" class="Function">impossible</a> <a id="1734" class="Symbol">(_</a> <a id="1737" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1739" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a> <a id="1741" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1743" href="MJ.Classtable.Membership.html#1743" class="Bound">d</a><a id="1744" class="Symbol">)</a> <a id="1746" class="Symbol">=</a> <a id="1748" class="Bound">¬q</a> <a id="1751" href="MJ.Classtable.Membership.html#1743" class="Bound">d</a>
        <a id="1761" href="MJ.Classtable.Membership.html#1677" class="Function">impossible</a> <a id="1772" class="Symbol">(</a><a id="1773" href="MJ.Classtable.Membership.html#1773" class="Bound">pid</a> <a id="1777" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1779" href="MJ.Classtable.Core.html#_%E2%8A%A2_%3C%3A%E2%82%9B_.super" class="InductiveConstructor">Core.super</a> <a id="1790" href="Data.Star.html#Star._%E2%97%85_" class="InductiveConstructor Operator">◅</a> <a id="1792" href="MJ.Classtable.Membership.html#1792" class="Bound">s</a> <a id="1794" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1796" href="MJ.Classtable.Membership.html#1796" class="Bound">d</a><a id="1797" class="Symbol">)</a> <a id="1799" class="Symbol">=</a> <a id="1801" href="MJ.Classtable.Membership.html#1638" class="Bound">¬r</a> <a id="1804" class="Symbol">(</a><a id="1805" href="MJ.Classtable.Membership.html#1773" class="Bound">pid</a> <a id="1809" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1811" href="MJ.Classtable.Membership.html#1792" class="Bound">s</a> <a id="1813" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1815" href="MJ.Classtable.Membership.html#1796" class="Bound">d</a><a id="1816" class="Symbol">)</a>

<a id="1819" class="Comment">-- algorithmic membership: this formalizes a notion of accessible members</a>
<a id="1893" class="Comment">-- because in Java one cannot dot-access an overridden member</a>
<a id="AccMember" href="MJ.Classtable.Membership.html#AccMember" class="Function">AccMember</a> <a id="1965" class="Symbol">:</a> <a id="1967" href="MJ.Types.html#Cid" class="Datatype">Cid</a> <a id="1971" href="MJ.Classtable.Membership.html#70" class="Bound">c</a> <a id="1973" class="Symbol">→</a> <a id="1975" class="Symbol">(</a><a id="1976" href="MJ.Classtable.Membership.html#1976" class="Bound">ns</a> <a id="1979" class="Symbol">:</a> <a id="1981" href="MJ.Classtable.Core.html#334" class="Datatype">NS</a><a id="1983" class="Symbol">)</a> <a id="1985" class="Symbol">→</a> <a id="1987" href="Agda.Builtin.String.html#String" class="Postulate">String</a> <a id="1994" class="Symbol">→</a> <a id="1996" href="MJ.Classtable.Core.html#378" class="Function">typing</a> <a id="2003" href="MJ.Classtable.Membership.html#1976" class="Bound">ns</a> <a id="2006" class="Symbol">→</a> <a id="2008" class="PrimitiveType">Set</a>
<a id="2012" href="MJ.Classtable.Membership.html#AccMember" class="Function">AccMember</a> <a id="2022" href="MJ.Classtable.Membership.html#2022" class="Bound">cid</a> <a id="2026" href="MJ.Classtable.Membership.html#2026" class="Bound">ns</a> <a id="2029" href="MJ.Classtable.Membership.html#2029" class="Bound">n</a> <a id="2031" href="MJ.Classtable.Membership.html#2031" class="Bound">ty</a> <a id="2034" class="Symbol">=</a> <a id="2036" href="Relation.Nullary.Decidable.html#True" class="Function">True</a> <a id="2041" class="Symbol">(</a><a id="2042" href="MJ.Classtable.Membership.html#find-member" class="Function">find-member</a> <a id="2054" href="MJ.Classtable.Membership.html#2022" class="Bound">cid</a> <a id="2058" href="MJ.Classtable.Membership.html#2026" class="Bound">ns</a> <a id="2061" href="MJ.Classtable.Membership.html#2029" class="Bound">n</a> <a id="2063" href="MJ.Classtable.Membership.html#2031" class="Bound">ty</a><a id="2065" class="Symbol">)</a>

<a id="sound" href="MJ.Classtable.Membership.html#sound" class="Function">sound</a> <a id="2074" class="Symbol">:</a> <a id="2076" class="Symbol">∀</a> <a id="2078" class="Symbol">{</a><a id="2079" href="MJ.Classtable.Membership.html#2079" class="Bound">cid</a> <a id="2083" href="MJ.Classtable.Membership.html#2083" class="Bound">ns</a> <a id="2086" href="MJ.Classtable.Membership.html#2086" class="Bound">n</a> <a id="2088" href="MJ.Classtable.Membership.html#2088" class="Bound">ty</a><a id="2090" class="Symbol">}</a> <a id="2092" class="Symbol">→</a> <a id="2094" href="MJ.Classtable.Membership.html#AccMember" class="Function">AccMember</a> <a id="2104" href="MJ.Classtable.Membership.html#2079" class="Bound">cid</a> <a id="2108" href="MJ.Classtable.Membership.html#2083" class="Bound">ns</a> <a id="2111" href="MJ.Classtable.Membership.html#2086" class="Bound">n</a> <a id="2113" href="MJ.Classtable.Membership.html#2088" class="Bound">ty</a> <a id="2116" class="Symbol">→</a> <a id="2118" href="MJ.Classtable.Membership.html#IsMember" class="Function">IsMember</a> <a id="2127" href="MJ.Classtable.Membership.html#2079" class="Bound">cid</a> <a id="2131" href="MJ.Classtable.Membership.html#2083" class="Bound">ns</a> <a id="2134" href="MJ.Classtable.Membership.html#2086" class="Bound">n</a> <a id="2136" href="MJ.Classtable.Membership.html#2088" class="Bound">ty</a>
<a id="2139" href="MJ.Classtable.Membership.html#sound" class="Function">sound</a> <a id="2145" href="MJ.Classtable.Membership.html#2145" class="Bound">p</a> <a id="2147" class="Symbol">=</a> <a id="2149" href="Relation.Nullary.Decidable.html#toWitness" class="Function">toWitness</a> <a id="2159" href="MJ.Classtable.Membership.html#2145" class="Bound">p</a>

<a id="inherit&#39;" href="MJ.Classtable.Membership.html#inherit%27" class="Function">inherit&#39;</a> <a id="2171" class="Symbol">:</a> <a id="2173" class="Symbol">∀</a> <a id="2175" class="Symbol">{</a><a id="2176" href="MJ.Classtable.Membership.html#2176" class="Bound">C</a> <a id="2178" href="MJ.Classtable.Membership.html#2178" class="Bound">P</a> <a id="2180" href="MJ.Classtable.Membership.html#2180" class="Bound">ns</a> <a id="2183" href="MJ.Classtable.Membership.html#2183" class="Bound">m</a> <a id="2185" href="MJ.Classtable.Membership.html#2185" class="Bound">a</a><a id="2186" class="Symbol">}</a> <a id="2188" class="Symbol">→</a> <a id="2190" href="MJ.Classtable.Core.html#1316" class="Field">Σ</a> <a id="2192" href="MJ.Classtable.Core.html#1181" class="Function Operator">⊢</a> <a id="2194" href="MJ.Classtable.Membership.html#2176" class="Bound">C</a> <a id="2196" href="MJ.Classtable.Core.html#1181" class="Function Operator">&lt;:</a> <a id="2199" href="MJ.Classtable.Membership.html#2178" class="Bound">P</a> <a id="2201" class="Symbol">→</a> <a id="2203" href="MJ.Classtable.Membership.html#IsMember" class="Function">IsMember</a> <a id="2212" href="MJ.Classtable.Membership.html#2178" class="Bound">P</a> <a id="2214" href="MJ.Classtable.Membership.html#2180" class="Bound">ns</a> <a id="2217" href="MJ.Classtable.Membership.html#2183" class="Bound">m</a> <a id="2219" href="MJ.Classtable.Membership.html#2185" class="Bound">a</a> <a id="2221" class="Symbol">→</a> <a id="2223" href="MJ.Classtable.Membership.html#IsMember" class="Function">IsMember</a> <a id="2232" href="MJ.Classtable.Membership.html#2176" class="Bound">C</a> <a id="2234" href="MJ.Classtable.Membership.html#2180" class="Bound">ns</a> <a id="2237" href="MJ.Classtable.Membership.html#2183" class="Bound">m</a> <a id="2239" href="MJ.Classtable.Membership.html#2185" class="Bound">a</a>
<a id="2241" href="MJ.Classtable.Membership.html#inherit%27" class="Function">inherit&#39;</a> <a id="2250" href="MJ.Classtable.Membership.html#2250" class="Bound">S</a> <a id="2252" class="Symbol">(_</a> <a id="2255" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2257" href="MJ.Classtable.Membership.html#2257" class="Bound">S&#39;</a> <a id="2260" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2262" href="MJ.Classtable.Membership.html#2262" class="Bound">def</a><a id="2265" class="Symbol">)</a> <a id="2267" class="Symbol">=</a> <a id="2269" href="Data.Product.html#%2C_" class="Function Operator">,</a> <a id="2271" href="MJ.Classtable.Membership.html#2250" class="Bound">S</a> <a id="2273" href="Data.Star.html#_%E2%97%85%E2%97%85_" class="Function Operator">◅◅</a> <a id="2276" href="MJ.Classtable.Membership.html#2257" class="Bound">S&#39;</a> <a id="2279" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2281" href="MJ.Classtable.Membership.html#2262" class="Bound">def</a>

<a id="inherit" href="MJ.Classtable.Membership.html#inherit" class="Function">inherit</a> <a id="2294" class="Symbol">:</a> <a id="2296" class="Symbol">∀</a> <a id="2298" class="Symbol">{</a><a id="2299" href="MJ.Classtable.Membership.html#2299" class="Bound">m</a> <a id="2301" href="MJ.Classtable.Membership.html#2301" class="Bound">ns</a> <a id="2304" href="MJ.Classtable.Membership.html#2304" class="Bound">ty</a> <a id="2307" href="MJ.Classtable.Membership.html#2307" class="Bound">pid</a><a id="2310" class="Symbol">}</a> <a id="2312" href="MJ.Classtable.Membership.html#2312" class="Bound">cid</a> <a id="2316" class="Symbol">→</a> <a id="2318" href="MJ.Classtable.Core.html#1316" class="Field">Σ</a> <a id="2320" href="MJ.Classtable.Core.html#1181" class="Function Operator">⊢</a> <a id="2322" href="MJ.Classtable.Membership.html#2312" class="Bound">cid</a> <a id="2326" href="MJ.Classtable.Core.html#1181" class="Function Operator">&lt;:</a> <a id="2329" href="MJ.Classtable.Membership.html#2307" class="Bound">pid</a> <a id="2333" class="Symbol">→</a> <a id="2335" href="MJ.Classtable.Membership.html#AccMember" class="Function">AccMember</a> <a id="2345" href="MJ.Classtable.Membership.html#2307" class="Bound">pid</a> <a id="2349" href="MJ.Classtable.Membership.html#2301" class="Bound">ns</a> <a id="2352" href="MJ.Classtable.Membership.html#2299" class="Bound">m</a> <a id="2354" href="MJ.Classtable.Membership.html#2304" class="Bound">ty</a> <a id="2357" class="Symbol">→</a> <a id="2359" href="MJ.Classtable.Membership.html#AccMember" class="Function">AccMember</a> <a id="2369" href="MJ.Classtable.Membership.html#2312" class="Bound">cid</a> <a id="2373" href="MJ.Classtable.Membership.html#2301" class="Bound">ns</a> <a id="2376" href="MJ.Classtable.Membership.html#2299" class="Bound">m</a> <a id="2378" href="MJ.Classtable.Membership.html#2304" class="Bound">ty</a>
<a id="2381" href="MJ.Classtable.Membership.html#inherit" class="Function">inherit</a> <a id="2389" class="Symbol">{</a><a id="2390" href="MJ.Classtable.Membership.html#2390" class="Bound">m</a><a id="2391" class="Symbol">}{</a><a id="2393" href="MJ.Classtable.Membership.html#2393" class="Bound">ns</a><a id="2395" class="Symbol">}{</a><a id="2397" href="MJ.Classtable.Membership.html#2397" class="Bound">ty</a><a id="2399" class="Symbol">}</a> <a id="2401" href="MJ.Classtable.Membership.html#2401" class="Bound">cid</a> <a id="2405" href="MJ.Classtable.Membership.html#2405" class="Bound">s</a> <a id="2407" href="MJ.Classtable.Membership.html#2407" class="Bound">mb</a> <a id="2410" class="Keyword">with</a> <a id="2415" href="MJ.Classtable.Membership.html#find-member" class="Function">find-member</a> <a id="2427" href="MJ.Classtable.Membership.html#2401" class="Bound">cid</a> <a id="2431" href="MJ.Classtable.Membership.html#2393" class="Bound">ns</a> <a id="2434" href="MJ.Classtable.Membership.html#2390" class="Bound">m</a> <a id="2436" href="MJ.Classtable.Membership.html#2397" class="Bound">ty</a>
<a id="2439" class="Symbol">...</a> <a id="2443" class="Symbol">|</a> <a id="2445" href="Relation.Nullary.html#Dec.yes" class="InductiveConstructor">yes</a> <a id="2449" href="MJ.Classtable.Membership.html#2449" class="Bound">mb&#39;</a> <a id="2453" class="Symbol">=</a> <a id="2455" href="Agda.Builtin.Unit.html#%E2%8A%A4.tt" class="InductiveConstructor">tt</a>
<a id="2458" class="Symbol">...</a> <a id="2462" class="Symbol">|</a> <a id="2464" href="Relation.Nullary.html#Dec.no" class="InductiveConstructor">no</a> <a id="2467" href="MJ.Classtable.Membership.html#2467" class="Bound">¬mb</a> <a id="2471" class="Symbol">=</a> <a id="2473" href="Data.Empty.html#%E2%8A%A5-elim" class="Function">⊥-elim</a> <a id="2480" class="Symbol">(</a><a id="2481" href="MJ.Classtable.Membership.html#2467" class="Bound">¬mb</a> <a id="2485" class="Symbol">(</a><a id="2486" href="MJ.Classtable.Membership.html#inherit%27" class="Function">inherit&#39;</a> <a id="2495" class="Bound">s</a> <a id="2497" class="Symbol">(</a><a id="2498" href="MJ.Classtable.Membership.html#sound" class="Function">sound</a> <a id="2504" class="Bound">mb</a><a id="2506" class="Symbol">)))</a>
</pre></body></html>