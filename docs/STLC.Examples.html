<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>STLC.Examples</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Keyword">module</a> <a id="8" href="STLC.Examples.html" class="Module">STLC.Examples</a> <a id="22" class="Keyword">where</a>

<a id="29" class="Comment">-- This file contains a few example programs for the definitional</a>
<a id="95" class="Comment">-- interpreter for STLC in Section 2.</a>

<a id="134" class="Keyword">open</a> <a id="139" class="Keyword">import</a> <a id="146" href="STLC.Semantics.html" class="Module">STLC.Semantics</a>
<a id="161" class="Keyword">open</a> <a id="166" class="Keyword">import</a> <a id="173" href="Data.List.Most.html" class="Module">Data.List.Most</a>
<a id="188" class="Keyword">open</a> <a id="193" class="Keyword">import</a> <a id="200" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="238" class="Comment">-- for de Bruijn numerals</a>
<a id="264" class="Keyword">open</a> <a id="269" class="Keyword">import</a> <a id="276" href="Data.Integer.html" class="Module">Data.Integer</a> <a id="289" class="Keyword">hiding</a> <a id="296" class="Symbol">(</a><a id="297" href="Data.Integer.Base.html#suc" class="Function">suc</a><a id="300" class="Symbol">)</a>
<a id="302" class="Keyword">open</a> <a id="307" class="Keyword">import</a> <a id="314" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a> <a id="331" class="Keyword">hiding</a> <a id="338" class="Symbol">(</a><a id="339" href="Agda.Builtin.Nat.html#_%2B_" class="Primitive Operator">_+_</a><a id="342" class="Symbol">)</a>
<a id="344" class="Keyword">open</a> <a id="349" class="Keyword">import</a> <a id="356" href="Data.Maybe.html" class="Module">Data.Maybe</a>

<a id="368" class="Comment">-- The identity function: λ x . x</a>
<a id="402" class="Comment">--</a>
<a id="405" class="Comment">-- Variables are represented as de Bruijn indices, assumed to have</a>
<a id="472" class="Comment">-- been elaborated from a surface language with names to the nameless</a>
<a id="542" class="Comment">-- representation used in the abstract syntax in `STLC.Semantics`.</a>
<a id="idexpr" href="STLC.Examples.html#idexpr" class="Function">idexpr</a> <a id="616" class="Symbol">:</a> <a id="618" href="STLC.Semantics.html#Expr" class="Datatype">Expr</a> <a id="623" href="Agda.Builtin.List.html#List.%5B%5D" class="InductiveConstructor">[]</a> <a id="626" class="Symbol">(</a><a id="627" href="STLC.Semantics.html#Ty.unit" class="InductiveConstructor">unit</a> <a id="632" href="STLC.Semantics.html#Ty._%E2%87%92_" class="InductiveConstructor Operator">⇒</a> <a id="634" href="STLC.Semantics.html#Ty.unit" class="InductiveConstructor">unit</a><a id="638" class="Symbol">)</a>
<a id="640" href="STLC.Examples.html#idexpr" class="Function">idexpr</a> <a id="647" class="Symbol">=</a> <a id="649" href="STLC.Semantics.html#Expr.%C6%9B" class="InductiveConstructor">ƛ</a> <a id="651" class="Symbol">(</a><a id="652" href="STLC.Semantics.html#Expr.var" class="InductiveConstructor">var</a> <a id="656" class="Symbol">(</a><a id="657" href="Data.List.Any.html#Any.here" class="InductiveConstructor">here</a> <a id="662" href="Agda.Builtin.Equality.html#_%E2%89%A1_.refl" class="InductiveConstructor">refl</a><a id="666" class="Symbol">))</a>

<a id="670" class="Comment">-- id () = ()</a>
<a id="test-idexpr" href="STLC.Examples.html#test-idexpr" class="Function">test-idexpr</a> <a id="696" class="Symbol">:</a> <a id="698" href="STLC.Semantics.html#eval" class="Function">eval</a> <a id="703" class="Number">2</a> <a id="705" class="Symbol">(</a><a id="706" href="STLC.Examples.html#idexpr" class="Function">idexpr</a> <a id="713" href="STLC.Semantics.html#Expr._%C2%B7_" class="InductiveConstructor Operator">·</a> <a id="715" href="STLC.Semantics.html#Expr.unit" class="InductiveConstructor">unit</a><a id="719" class="Symbol">)</a> <a id="721" href="Data.List.All.html#All.%5B%5D" class="InductiveConstructor">[]</a> <a id="724" href="Agda.Builtin.Equality.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="726" href="Data.Maybe.Base.html#Maybe.just" class="InductiveConstructor">just</a> <a id="731" href="STLC.Semantics.html#Val.unit" class="InductiveConstructor">unit</a>
<a id="736" href="STLC.Examples.html#test-idexpr" class="Function">test-idexpr</a> <a id="748" class="Symbol">=</a> <a id="750" href="Agda.Builtin.Equality.html#_%E2%89%A1_.refl" class="InductiveConstructor">refl</a>


<a id="757" class="Comment">-- curried addition: λ x . λ y . y + x</a>
<a id="curry+" href="STLC.Examples.html#curry%2B" class="Function">curry+</a> <a id="803" class="Symbol">:</a> <a id="805" href="STLC.Semantics.html#Expr" class="Datatype">Expr</a> <a id="810" href="Agda.Builtin.List.html#List.%5B%5D" class="InductiveConstructor">[]</a> <a id="813" class="Symbol">(</a><a id="814" href="STLC.Semantics.html#Ty.int" class="InductiveConstructor">int</a> <a id="818" href="STLC.Semantics.html#Ty._%E2%87%92_" class="InductiveConstructor Operator">⇒</a> <a id="820" class="Symbol">(</a><a id="821" href="STLC.Semantics.html#Ty.int" class="InductiveConstructor">int</a> <a id="825" href="STLC.Semantics.html#Ty._%E2%87%92_" class="InductiveConstructor Operator">⇒</a> <a id="827" href="STLC.Semantics.html#Ty.int" class="InductiveConstructor">int</a><a id="830" class="Symbol">))</a>
<a id="833" href="STLC.Examples.html#curry%2B" class="Function">curry+</a> <a id="840" class="Symbol">=</a> <a id="842" href="STLC.Semantics.html#Expr.%C6%9B" class="InductiveConstructor">ƛ</a> <a id="844" class="Symbol">(</a><a id="845" href="STLC.Semantics.html#Expr.%C6%9B" class="InductiveConstructor">ƛ</a> <a id="847" class="Symbol">(</a><a id="848" href="STLC.Semantics.html#Expr.iop" class="InductiveConstructor">iop</a> <a id="852" href="Data.Integer.Base.html#_%2B_" class="Function Operator">_+_</a> <a id="856" class="Symbol">(</a><a id="857" href="STLC.Semantics.html#Expr.var" class="InductiveConstructor">var</a> <a id="861" class="Symbol">(</a><a id="862" href="Data.List.Any.html#Any.here" class="InductiveConstructor">here</a> <a id="867" href="Agda.Builtin.Equality.html#_%E2%89%A1_.refl" class="InductiveConstructor">refl</a><a id="871" class="Symbol">))</a> <a id="874" class="Symbol">(</a><a id="875" href="STLC.Semantics.html#Expr.var" class="InductiveConstructor">var</a> <a id="879" class="Symbol">(</a><a id="880" href="Data.List.Any.html#Any.there" class="InductiveConstructor">there</a> <a id="886" class="Symbol">(</a><a id="887" href="Data.List.Any.html#Any.here" class="InductiveConstructor">here</a> <a id="892" href="Agda.Builtin.Equality.html#_%E2%89%A1_.refl" class="InductiveConstructor">refl</a><a id="896" class="Symbol">)))))</a>

<a id="903" class="Comment">-- 1 + 1 = 2</a>
<a id="test-curry+" href="STLC.Examples.html#test-curry%2B" class="Function">test-curry+</a> <a id="928" class="Symbol">:</a> <a id="930" href="STLC.Semantics.html#eval" class="Function">eval</a> <a id="935" class="Number">3</a> <a id="937" class="Symbol">((</a><a id="939" href="STLC.Examples.html#curry%2B" class="Function">curry+</a> <a id="946" href="STLC.Semantics.html#Expr._%C2%B7_" class="InductiveConstructor Operator">·</a> <a id="948" class="Symbol">(</a><a id="949" href="STLC.Semantics.html#Expr.num" class="InductiveConstructor">num</a> <a id="953" class="Symbol">(</a><a id="954" href="Agda.Builtin.Int.html#Int.%2B_" class="InductiveConstructor Operator">+</a> <a id="956" class="Number">1</a><a id="957" class="Symbol">)))</a> <a id="961" href="STLC.Semantics.html#Expr._%C2%B7_" class="InductiveConstructor Operator">·</a> <a id="963" class="Symbol">(</a><a id="964" href="STLC.Semantics.html#Expr.num" class="InductiveConstructor">num</a> <a id="968" class="Symbol">(</a><a id="969" href="Agda.Builtin.Int.html#Int.%2B_" class="InductiveConstructor Operator">+</a> <a id="971" class="Number">1</a><a id="972" class="Symbol">)))</a> <a id="976" href="Data.List.All.html#All.%5B%5D" class="InductiveConstructor">[]</a> <a id="979" href="Agda.Builtin.Equality.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="981" href="Data.Maybe.Base.html#Maybe.just" class="InductiveConstructor">just</a> <a id="986" class="Symbol">(</a><a id="987" href="STLC.Semantics.html#Val.num" class="InductiveConstructor">num</a> <a id="991" class="Symbol">(</a><a id="992" href="Agda.Builtin.Int.html#Int.%2B_" class="InductiveConstructor Operator">+</a> <a id="994" class="Number">2</a><a id="995" class="Symbol">))</a>
<a id="998" href="STLC.Examples.html#test-curry%2B" class="Function">test-curry+</a> <a id="1010" class="Symbol">=</a> <a id="1012" href="Agda.Builtin.Equality.html#_%E2%89%A1_.refl" class="InductiveConstructor">refl</a>
</pre></body></html>