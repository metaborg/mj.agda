<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>MJ.Semantics.Monadic</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Keyword">import</a> <a id="8" href="MJ.Classtable.html" class="Module">MJ.Classtable</a>

<a id="23" class="Keyword">import</a> <a id="30" href="MJ.Syntax.html" class="Module">MJ.Syntax</a> <a id="40" class="Symbol">as</a> <a id="43" class="Module">Syntax</a>
<a id="50" class="Keyword">import</a> <a id="57" href="MJ.Semantics.Values.html" class="Module">MJ.Semantics.Values</a> <a id="77" class="Symbol">as</a> <a id="80" class="Module">Values</a>
<a id="87" class="Keyword">import</a> <a id="94" href="MJ.Classtable.Core.html" class="Module">MJ.Classtable.Core</a> <a id="113" class="Symbol">as</a> <a id="116" class="Module">Core</a>
<a id="121" class="Keyword">import</a> <a id="128" href="MJ.Classtable.Code.html" class="Module">MJ.Classtable.Code</a> <a id="147" class="Symbol">as</a> <a id="150" class="Module">Code</a>

<a id="156" class="Comment">--</a>
<a id="159" class="Comment">-- Substitution-free interpretation of welltyped MJ</a>
<a id="211" class="Comment">--</a>

<a id="215" class="Keyword">module</a> <a id="222" href="MJ.Semantics.Monadic.html" class="Module">MJ.Semantics.Monadic</a> <a id="243" class="Symbol">{</a><a id="244" href="MJ.Semantics.Monadic.html#244" class="Bound">c</a><a id="245" class="Symbol">}</a> <a id="247" class="Symbol">(</a><a id="248" href="MJ.Semantics.Monadic.html#248" class="Bound">Ct</a> <a id="251" class="Symbol">:</a> <a id="253" href="MJ.Classtable.Core.html#Classtable" class="Record">Core.Classtable</a> <a id="269" href="MJ.Semantics.Monadic.html#244" class="Bound">c</a><a id="270" class="Symbol">)(</a><a id="272" href="MJ.Semantics.Monadic.html#272" class="Bound">ℂ</a> <a id="274" class="Symbol">:</a> <a id="276" href="MJ.Classtable.Code.html#Code" class="Function">Code.Code</a> <a id="286" href="MJ.Semantics.Monadic.html#248" class="Bound">Ct</a><a id="288" class="Symbol">)</a> <a id="290" class="Keyword">where</a>

<a id="297" class="Keyword">open</a> <a id="302" class="Keyword">import</a> <a id="309" href="Prelude.html" class="Module">Prelude</a> <a id="317" class="Keyword">hiding</a> <a id="324" class="Symbol">(</a><a id="325" href="Data.Nat.Base.html#_%5E_" class="Function Operator">_^_</a><a id="328" class="Symbol">)</a>
<a id="330" class="Keyword">open</a> <a id="335" class="Keyword">import</a> <a id="342" href="Data.Vec.html" class="Module">Data.Vec</a> <a id="351" class="Keyword">hiding</a> <a id="358" class="Symbol">(</a><a id="359" href="Data.Vec.html#init" class="Function">init</a><a id="363" class="Symbol">;</a> <a id="365" href="Data.Vec.html#_%3E%3E%3D_" class="Function Operator">_&gt;&gt;=_</a><a id="370" class="Symbol">;</a> <a id="372" href="Data.Vec.html#_%E2%88%88_" class="Datatype Operator">_∈_</a><a id="375" class="Symbol">)</a>
<a id="377" class="Keyword">open</a> <a id="382" class="Keyword">import</a> <a id="389" href="Data.Vec.All.Properties.Extra.html" class="Module">Data.Vec.All.Properties.Extra</a> <a id="419" class="Symbol">as</a> <a id="422" class="Module">Vec∀++</a>
<a id="429" class="Keyword">open</a> <a id="434" class="Keyword">import</a> <a id="441" href="Data.List.Most.html" class="Module">Data.List.Most</a>
<a id="456" class="Keyword">open</a> <a id="461" class="Keyword">import</a> <a id="468" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a>
<a id="495" class="Keyword">open</a> <a id="500" class="Keyword">import</a> <a id="507" href="Data.Star.html" class="Module">Data.Star</a> <a id="517" class="Keyword">hiding</a> <a id="524" class="Symbol">(</a><a id="525" href="Data.Star.html#return" class="Function">return</a><a id="531" class="Symbol">;</a> <a id="533" href="Data.Star.html#_%3E%3E%3D_" class="Function Operator">_&gt;&gt;=_</a><a id="538" class="Symbol">)</a>
<a id="540" class="Keyword">open</a> <a id="545" class="Keyword">import</a> <a id="552" href="Data.Sum.html" class="Module">Data.Sum</a> <a id="561" class="Keyword">using</a> <a id="567" class="Symbol">(</a><a id="568" href="Data.Sum.html#_%E2%8A%8E_" class="Datatype Operator">_⊎_</a><a id="571" class="Symbol">;</a> <a id="573" href="Data.Sum.html#_%E2%8A%8E_.inj%E2%82%81" class="InductiveConstructor">inj₁</a><a id="577" class="Symbol">;</a> <a id="579" href="Data.Sum.html#_%E2%8A%8E_.inj%E2%82%82" class="InductiveConstructor">inj₂</a><a id="583" class="Symbol">)</a>

<a id="586" class="Keyword">import</a> <a id="593" href="Data.Vec.All.html" class="Module">Data.Vec.All</a> <a id="606" class="Symbol">as</a> <a id="609" class="Module">Vec∀</a>

<a id="615" class="Keyword">open</a> <a id="620" href="MJ.Semantics.Values.html" class="Module">Values</a> <a id="627" href="MJ.Semantics.Monadic.html#248" class="Bound">Ct</a>
<a id="630" class="Keyword">open</a> <a id="635" href="MJ.Syntax.html" class="Module">Syntax</a> <a id="642" href="MJ.Semantics.Monadic.html#248" class="Bound">Ct</a>
<a id="645" class="Keyword">open</a> <a id="650" href="MJ.Classtable.Code.html" class="Module">Code</a> <a id="655" href="MJ.Semantics.Monadic.html#248" class="Bound">Ct</a>
<a id="658" class="Keyword">open</a> <a id="663" href="MJ.Classtable.Core.html" class="Module">Core</a> <a id="668" href="MJ.Semantics.Monadic.html#244" class="Bound">c</a>
<a id="670" class="Keyword">open</a> <a id="675" href="MJ.Classtable.Core.html#Classtable" class="Module">Classtable</a> <a id="686" href="MJ.Semantics.Monadic.html#248" class="Bound">Ct</a>

<a id="690" class="Keyword">open</a> <a id="695" class="Keyword">import</a> <a id="702" href="MJ.Syntax.Program.html" class="Module">MJ.Syntax.Program</a> <a id="720" href="MJ.Semantics.Monadic.html#248" class="Bound">Ct</a>
<a id="723" class="Keyword">open</a> <a id="728" class="Keyword">import</a> <a id="735" href="MJ.Classtable.Membership.html" class="Module">MJ.Classtable.Membership</a> <a id="760" href="MJ.Semantics.Monadic.html#248" class="Bound">Ct</a>
<a id="763" class="Keyword">open</a> <a id="768" class="Keyword">import</a> <a id="775" href="MJ.Types.html" class="Module">MJ.Types</a>
<a id="784" class="Keyword">open</a> <a id="789" class="Keyword">import</a> <a id="796" href="MJ.LexicalScope.html" class="Module">MJ.LexicalScope</a> <a id="812" href="MJ.Semantics.Monadic.html#248" class="Bound">Ct</a>
<a id="815" class="Keyword">open</a> <a id="820" class="Keyword">import</a> <a id="827" href="MJ.Semantics.Objects.Flat.html" class="Module">MJ.Semantics.Objects.Flat</a> <a id="853" href="MJ.Semantics.Monadic.html#248" class="Bound">Ct</a> <a id="856" href="MJ.Semantics.Monadic.html#272" class="Bound">ℂ</a> <a id="858" class="Keyword">using</a> <a id="864" class="Symbol">(</a>encoding<a id="873" class="Symbol">)</a>
<a id="875" class="Keyword">open</a> <a id="880" class="Keyword">import</a> <a id="887" href="Common.Weakening.html" class="Module">Common.Weakening</a>
<a id="904" class="Keyword">open</a> <a id="909" href="Common.Weakening.html#Weakenable" class="Module">Weakenable</a> <a id="920" class="Symbol">⦃...⦄</a>

<a id="927" class="Keyword">open</a> <a id="932" href="MJ.Semantics.Values.html#ObjEncoding" class="Module">ObjEncoding</a> <a id="944" href="MJ.Semantics.Objects.Flat.html#encoding" class="Function">encoding</a>

<a id="WSet" href="MJ.Semantics.Monadic.html#WSet" class="Function">WSet</a> <a id="959" class="Symbol">=</a> <a id="961" href="MJ.Types.html#World" class="Function">World</a> <a id="967" href="MJ.Semantics.Monadic.html#244" class="Bound">c</a> <a id="969" class="Symbol">→</a> <a id="971" class="PrimitiveType">Set</a>

<a id="976" class="Keyword">data</a> <a id="Exception" href="MJ.Semantics.Monadic.html#Exception" class="Datatype">Exception</a> <a id="991" class="Symbol">:</a> <a id="993" class="PrimitiveType">Set</a> <a id="997" class="Keyword">where</a>
  <a id="Exception.nullderef" href="MJ.Semantics.Monadic.html#Exception.nullderef" class="InductiveConstructor">nullderef</a> <a id="1015" class="Symbol">:</a> <a id="1017" href="MJ.Semantics.Monadic.html#Exception" class="Datatype">Exception</a>
  <a id="Exception.other" href="MJ.Semantics.Monadic.html#Exception.other" class="InductiveConstructor">other</a>     <a id="1039" class="Symbol">:</a> <a id="1041" href="MJ.Semantics.Monadic.html#Exception" class="Datatype">Exception</a>

<a id="1052" class="Keyword">data</a> <a id="Result" href="MJ.Semantics.Monadic.html#Result" class="Datatype">Result</a> <a id="1064" class="Symbol">(</a><a id="1065" href="MJ.Semantics.Monadic.html#1065" class="Bound">W</a> <a id="1067" class="Symbol">:</a> <a id="1069" href="MJ.Types.html#World" class="Function">World</a> <a id="1075" href="MJ.Semantics.Monadic.html#244" class="Bound">c</a><a id="1076" class="Symbol">)(</a><a id="1078" href="MJ.Semantics.Monadic.html#1078" class="Bound">A</a> <a id="1080" class="Symbol">:</a> <a id="1082" href="MJ.Semantics.Monadic.html#WSet" class="Function">WSet</a><a id="1086" class="Symbol">)</a> <a id="1088" class="Symbol">:</a> <a id="1090" class="PrimitiveType">Set</a> <a id="1094" class="Keyword">where</a>
  <a id="Result.exception" href="MJ.Semantics.Monadic.html#Result.exception" class="InductiveConstructor">exception</a> <a id="1112" class="Symbol">:</a> <a id="1114" class="Symbol">∀</a> <a id="1116" class="Symbol">{</a><a id="1117" href="MJ.Semantics.Monadic.html#1117" class="Bound">W&#39;</a><a id="1119" class="Symbol">}</a> <a id="1121" class="Symbol">→</a> <a id="1123" href="MJ.Semantics.Monadic.html#1117" class="Bound">W&#39;</a> <a id="1126" href="Data.List.Prefix.html#_%E2%8A%92_" class="Function Operator">⊒</a> <a id="1128" href="MJ.Semantics.Monadic.html#1065" class="Bound">W</a> <a id="1130" class="Symbol">→</a> <a id="1132" href="MJ.Semantics.Values.html#1757" class="Function">Store</a> <a id="1138" href="MJ.Semantics.Monadic.html#1117" class="Bound">W&#39;</a> <a id="1141" class="Symbol">→</a> <a id="1143" href="MJ.Semantics.Monadic.html#Exception" class="Datatype">Exception</a> <a id="1153" class="Symbol">→</a> <a id="1155" href="MJ.Semantics.Monadic.html#Result" class="Datatype">Result</a> <a id="1162" href="MJ.Semantics.Monadic.html#1065" class="Bound">W</a> <a id="1164" href="MJ.Semantics.Monadic.html#1078" class="Bound">A</a>
  <a id="Result.timeout" href="MJ.Semantics.Monadic.html#Result.timeout" class="InductiveConstructor">timeout</a>   <a id="1178" class="Symbol">:</a> <a id="1180" href="MJ.Semantics.Monadic.html#Result" class="Datatype">Result</a> <a id="1187" href="MJ.Semantics.Monadic.html#1065" class="Bound">W</a> <a id="1189" href="MJ.Semantics.Monadic.html#1078" class="Bound">A</a>
  <a id="Result.returns" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a>   <a id="1203" class="Symbol">:</a> <a id="1205" class="Symbol">∀</a> <a id="1207" class="Symbol">{</a><a id="1208" href="MJ.Semantics.Monadic.html#1208" class="Bound">W&#39;</a><a id="1210" class="Symbol">}</a> <a id="1212" class="Symbol">→</a> <a id="1214" href="MJ.Semantics.Monadic.html#1208" class="Bound">W&#39;</a> <a id="1217" href="Data.List.Prefix.html#_%E2%8A%92_" class="Function Operator">⊒</a> <a id="1219" href="MJ.Semantics.Monadic.html#1065" class="Bound">W</a> <a id="1221" class="Symbol">→</a> <a id="1223" href="MJ.Semantics.Values.html#1757" class="Function">Store</a> <a id="1229" href="MJ.Semantics.Monadic.html#1208" class="Bound">W&#39;</a> <a id="1232" class="Symbol">→</a> <a id="1234" href="MJ.Semantics.Monadic.html#1078" class="Bound">A</a> <a id="1236" href="MJ.Semantics.Monadic.html#1208" class="Bound">W&#39;</a> <a id="1239" class="Symbol">→</a> <a id="1241" href="MJ.Semantics.Monadic.html#Result" class="Datatype">Result</a> <a id="1248" href="MJ.Semantics.Monadic.html#1065" class="Bound">W</a> <a id="1250" href="MJ.Semantics.Monadic.html#1078" class="Bound">A</a>

<a id="result-strengthen" href="MJ.Semantics.Monadic.html#result-strengthen" class="Function">result-strengthen</a> <a id="1271" class="Symbol">:</a> <a id="1273" class="Symbol">∀</a> <a id="1275" class="Symbol">{</a><a id="1276" href="MJ.Semantics.Monadic.html#1276" class="Bound">W</a> <a id="1278" href="MJ.Semantics.Monadic.html#1278" class="Bound">W&#39;</a><a id="1280" class="Symbol">}{</a><a id="1282" href="MJ.Semantics.Monadic.html#1282" class="Bound">A</a> <a id="1284" class="Symbol">:</a> <a id="1286" href="MJ.Semantics.Monadic.html#WSet" class="Function">WSet</a><a id="1290" class="Symbol">}</a> <a id="1292" class="Symbol">→</a> <a id="1294" href="MJ.Semantics.Monadic.html#1276" class="Bound">W</a> <a id="1296" href="Data.List.Prefix.html#_%E2%8A%92_" class="Function Operator">⊒</a> <a id="1298" href="MJ.Semantics.Monadic.html#1278" class="Bound">W&#39;</a> <a id="1301" class="Symbol">→</a> <a id="1303" href="MJ.Semantics.Monadic.html#Result" class="Datatype">Result</a> <a id="1310" href="MJ.Semantics.Monadic.html#1276" class="Bound">W</a> <a id="1312" href="MJ.Semantics.Monadic.html#1282" class="Bound">A</a> <a id="1314" class="Symbol">→</a> <a id="1316" href="MJ.Semantics.Monadic.html#Result" class="Datatype">Result</a> <a id="1323" href="MJ.Semantics.Monadic.html#1278" class="Bound">W&#39;</a> <a id="1326" href="MJ.Semantics.Monadic.html#1282" class="Bound">A</a>
<a id="1328" href="MJ.Semantics.Monadic.html#result-strengthen" class="Function">result-strengthen</a> <a id="1346" href="MJ.Semantics.Monadic.html#1346" class="Bound">ext</a> <a id="1350" class="Symbol">(</a><a id="1351" href="MJ.Semantics.Monadic.html#Result.exception" class="InductiveConstructor">exception</a> <a id="1361" href="MJ.Semantics.Monadic.html#1361" class="Bound">ext&#39;</a> <a id="1366" href="MJ.Semantics.Monadic.html#1366" class="Bound">μ</a> <a id="1368" href="MJ.Semantics.Monadic.html#1368" class="Bound">e</a><a id="1369" class="Symbol">)</a> <a id="1371" class="Symbol">=</a> <a id="1373" href="MJ.Semantics.Monadic.html#Result.exception" class="InductiveConstructor">exception</a> <a id="1383" class="Symbol">(</a><a id="1384" href="MJ.Semantics.Monadic.html#1346" class="Bound">ext</a> <a id="1388" href="Common.Weakening.html#_%E2%8A%9A_" class="Function Operator">⊚</a> <a id="1390" href="MJ.Semantics.Monadic.html#1361" class="Bound">ext&#39;</a><a id="1394" class="Symbol">)</a> <a id="1396" href="MJ.Semantics.Monadic.html#1366" class="Bound">μ</a> <a id="1398" href="MJ.Semantics.Monadic.html#1368" class="Bound">e</a>
<a id="1400" href="MJ.Semantics.Monadic.html#result-strengthen" class="Function">result-strengthen</a> <a id="1418" href="MJ.Semantics.Monadic.html#1418" class="Bound">ext</a> <a id="1422" href="MJ.Semantics.Monadic.html#Result.timeout" class="InductiveConstructor">timeout</a> <a id="1430" class="Symbol">=</a> <a id="1432" href="MJ.Semantics.Monadic.html#Result.timeout" class="InductiveConstructor">timeout</a>
<a id="1440" href="MJ.Semantics.Monadic.html#result-strengthen" class="Function">result-strengthen</a> <a id="1458" href="MJ.Semantics.Monadic.html#1458" class="Bound">ext</a> <a id="1462" class="Symbol">(</a><a id="1463" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a> <a id="1471" href="MJ.Semantics.Monadic.html#1471" class="Bound">ext&#39;</a> <a id="1476" href="MJ.Semantics.Monadic.html#1476" class="Bound">μ</a> <a id="1478" href="MJ.Semantics.Monadic.html#1478" class="Bound">v</a><a id="1479" class="Symbol">)</a> <a id="1481" class="Symbol">=</a> <a id="1483" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a> <a id="1491" class="Symbol">(</a><a id="1492" href="MJ.Semantics.Monadic.html#1458" class="Bound">ext</a> <a id="1496" href="Common.Weakening.html#_%E2%8A%9A_" class="Function Operator">⊚</a> <a id="1498" href="MJ.Semantics.Monadic.html#1471" class="Bound">ext&#39;</a><a id="1502" class="Symbol">)</a> <a id="1504" href="MJ.Semantics.Monadic.html#1476" class="Bound">μ</a> <a id="1506" href="MJ.Semantics.Monadic.html#1478" class="Bound">v</a>

<a id="1509" class="Comment">-- monad that threads a readonly environment, store and propagates</a>
<a id="1576" class="Comment">-- semantic errors</a>
<a id="M" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="1597" class="Symbol">:</a> <a id="1599" href="MJ.LexicalScope.html#226" class="Function">Ctx</a> <a id="1603" class="Symbol">→</a> <a id="1605" href="MJ.Types.html#World" class="Function">World</a> <a id="1611" href="MJ.Semantics.Monadic.html#244" class="Bound">c</a> <a id="1613" class="Symbol">→</a> <a id="1615" href="MJ.Semantics.Monadic.html#WSet" class="Function">WSet</a> <a id="1620" class="Symbol">→</a> <a id="1622" class="PrimitiveType">Set</a>
<a id="1626" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="1628" href="MJ.Semantics.Monadic.html#1628" class="Bound">Γ</a> <a id="1630" href="MJ.Semantics.Monadic.html#1630" class="Bound">W</a> <a id="1632" href="MJ.Semantics.Monadic.html#1632" class="Bound">A</a> <a id="1634" class="Symbol">=</a> <a id="1636" href="MJ.Semantics.Values.html#982" class="Function">Env</a> <a id="1640" href="MJ.Semantics.Monadic.html#1628" class="Bound">Γ</a> <a id="1642" href="MJ.Semantics.Monadic.html#1630" class="Bound">W</a> <a id="1644" class="Symbol">→</a> <a id="1646" href="MJ.Semantics.Values.html#1757" class="Function">Store</a> <a id="1652" href="MJ.Semantics.Monadic.html#1630" class="Bound">W</a> <a id="1654" class="Symbol">→</a> <a id="1656" href="MJ.Semantics.Monadic.html#Result" class="Datatype">Result</a> <a id="1663" href="MJ.Semantics.Monadic.html#1630" class="Bound">W</a> <a id="1665" href="MJ.Semantics.Monadic.html#1632" class="Bound">A</a>

<a id="return" href="MJ.Semantics.Monadic.html#return" class="Function">return</a>  <a id="1676" class="Symbol">:</a> <a id="1678" class="Symbol">∀</a> <a id="1680" class="Symbol">{</a><a id="1681" href="MJ.Semantics.Monadic.html#1681" class="Bound">Γ</a> <a id="1683" href="MJ.Semantics.Monadic.html#1683" class="Bound">W</a><a id="1684" class="Symbol">}{</a><a id="1686" href="MJ.Semantics.Monadic.html#1686" class="Bound">A</a> <a id="1688" class="Symbol">:</a> <a id="1690" href="MJ.Semantics.Monadic.html#WSet" class="Function">WSet</a><a id="1694" class="Symbol">}</a> <a id="1696" class="Symbol">→</a> <a id="1698" href="MJ.Semantics.Monadic.html#1686" class="Bound">A</a> <a id="1700" href="MJ.Semantics.Monadic.html#1683" class="Bound">W</a> <a id="1702" class="Symbol">→</a> <a id="1704" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="1706" href="MJ.Semantics.Monadic.html#1681" class="Bound">Γ</a> <a id="1708" href="MJ.Semantics.Monadic.html#1683" class="Bound">W</a> <a id="1710" href="MJ.Semantics.Monadic.html#1686" class="Bound">A</a>
<a id="1712" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="1719" href="MJ.Semantics.Monadic.html#1719" class="Bound">v</a> <a id="1721" class="Symbol">_</a> <a id="1723" href="MJ.Semantics.Monadic.html#1723" class="Bound">μ</a> <a id="1725" class="Symbol">=</a> <a id="1727" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a> <a id="1735" href="Data.List.Prefix.html#%E2%8A%91-refl" class="Function">⊑-refl</a> <a id="1742" href="MJ.Semantics.Monadic.html#1723" class="Bound">μ</a> <a id="1744" href="MJ.Semantics.Monadic.html#1719" class="Bound">v</a>

<a id="doTimeout" href="MJ.Semantics.Monadic.html#doTimeout" class="Function">doTimeout</a> <a id="1757" class="Symbol">:</a> <a id="1759" class="Symbol">∀</a> <a id="1761" class="Symbol">{</a><a id="1762" href="MJ.Semantics.Monadic.html#1762" class="Bound">Γ</a> <a id="1764" href="MJ.Semantics.Monadic.html#1764" class="Bound">W</a><a id="1765" class="Symbol">}{</a><a id="1767" href="MJ.Semantics.Monadic.html#1767" class="Bound">A</a> <a id="1769" class="Symbol">:</a> <a id="1771" href="MJ.Semantics.Monadic.html#WSet" class="Function">WSet</a><a id="1775" class="Symbol">}</a> <a id="1777" class="Symbol">→</a> <a id="1779" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="1781" href="MJ.Semantics.Monadic.html#1762" class="Bound">Γ</a> <a id="1783" href="MJ.Semantics.Monadic.html#1764" class="Bound">W</a> <a id="1785" href="MJ.Semantics.Monadic.html#1767" class="Bound">A</a>
<a id="1787" href="MJ.Semantics.Monadic.html#doTimeout" class="Function">doTimeout</a> <a id="1797" class="Symbol">_</a> <a id="1799" class="Symbol">_</a> <a id="1801" class="Symbol">=</a> <a id="1803" href="MJ.Semantics.Monadic.html#Result.timeout" class="InductiveConstructor">timeout</a>

<a id="raiseM" href="MJ.Semantics.Monadic.html#raiseM" class="Function">raiseM</a> <a id="1819" class="Symbol">:</a> <a id="1821" class="Symbol">∀</a> <a id="1823" class="Symbol">{</a><a id="1824" href="MJ.Semantics.Monadic.html#1824" class="Bound">Γ</a> <a id="1826" href="MJ.Semantics.Monadic.html#1826" class="Bound">W</a><a id="1827" class="Symbol">}{</a><a id="1829" href="MJ.Semantics.Monadic.html#1829" class="Bound">A</a> <a id="1831" class="Symbol">:</a> <a id="1833" href="MJ.Semantics.Monadic.html#WSet" class="Function">WSet</a><a id="1837" class="Symbol">}</a> <a id="1839" class="Symbol">→</a> <a id="1841" href="MJ.Semantics.Monadic.html#Exception" class="Datatype">Exception</a> <a id="1851" class="Symbol">→</a> <a id="1853" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="1855" href="MJ.Semantics.Monadic.html#1824" class="Bound">Γ</a> <a id="1857" href="MJ.Semantics.Monadic.html#1826" class="Bound">W</a> <a id="1859" href="MJ.Semantics.Monadic.html#1829" class="Bound">A</a>
<a id="1861" href="MJ.Semantics.Monadic.html#raiseM" class="Function">raiseM</a> <a id="1868" href="MJ.Semantics.Monadic.html#1868" class="Bound">exc</a> <a id="1872" href="MJ.Semantics.Monadic.html#1872" class="Bound">E</a> <a id="1874" href="MJ.Semantics.Monadic.html#1874" class="Bound">μ</a> <a id="1876" class="Symbol">=</a> <a id="1878" href="MJ.Semantics.Monadic.html#Result.exception" class="InductiveConstructor">exception</a> <a id="1888" href="Data.List.Prefix.html#%E2%8A%91-refl" class="Function">⊑-refl</a> <a id="1895" href="MJ.Semantics.Monadic.html#1874" class="Bound">μ</a> <a id="1897" href="MJ.Semantics.Monadic.html#1868" class="Bound">exc</a>

<a id="sval-weaken" href="MJ.Semantics.Monadic.html#sval-weaken" class="Function">sval-weaken</a> <a id="1914" class="Symbol">:</a> <a id="1916" class="Symbol">∀</a> <a id="1918" class="Symbol">{</a><a id="1919" href="MJ.Semantics.Monadic.html#1919" class="Bound">W</a> <a id="1921" href="MJ.Semantics.Monadic.html#1921" class="Bound">W&#39;</a> <a id="1924" href="MJ.Semantics.Monadic.html#1924" class="Bound">a</a><a id="1925" class="Symbol">}</a> <a id="1927" class="Symbol">→</a> <a id="1929" href="MJ.Semantics.Monadic.html#1921" class="Bound">W&#39;</a> <a id="1932" href="Data.List.Prefix.html#_%E2%8A%92_" class="Function Operator">⊒</a> <a id="1934" href="MJ.Semantics.Monadic.html#1919" class="Bound">W</a> <a id="1936" class="Symbol">→</a> <a id="1938" href="MJ.Semantics.Values.html#1610" class="Datatype">StoreVal</a> <a id="1947" href="MJ.Semantics.Monadic.html#1919" class="Bound">W</a> <a id="1949" href="MJ.Semantics.Monadic.html#1924" class="Bound">a</a> <a id="1951" class="Symbol">→</a> <a id="1953" href="MJ.Semantics.Values.html#1610" class="Datatype">StoreVal</a> <a id="1962" href="MJ.Semantics.Monadic.html#1921" class="Bound">W&#39;</a> <a id="1965" href="MJ.Semantics.Monadic.html#1924" class="Bound">a</a>
<a id="1967" href="MJ.Semantics.Monadic.html#sval-weaken" class="Function">sval-weaken</a> <a id="1979" href="MJ.Semantics.Monadic.html#1979" class="Bound">ext</a> <a id="1983" class="Symbol">(</a><a id="1984" href="MJ.Semantics.Values.html#1657" class="InductiveConstructor">val</a> <a id="1988" href="MJ.Semantics.Monadic.html#1988" class="Bound">x</a><a id="1989" class="Symbol">)</a> <a id="1991" class="Symbol">=</a> <a id="1993" href="MJ.Semantics.Values.html#1657" class="InductiveConstructor">val</a> <a id="1997" href="Function.html#_%24_" class="Function Operator">$</a> <a id="1999" href="MJ.Semantics.Values.html#1831" class="Function">weaken-val</a> <a id="2010" href="MJ.Semantics.Monadic.html#1979" class="Bound">ext</a> <a id="2014" href="MJ.Semantics.Monadic.html#1988" class="Bound">x</a>
<a id="2016" href="MJ.Semantics.Monadic.html#sval-weaken" class="Function">sval-weaken</a> <a id="2028" href="MJ.Semantics.Monadic.html#2028" class="Bound">ext</a> <a id="2032" class="Symbol">(</a><a id="2033" href="MJ.Semantics.Values.html#1707" class="InductiveConstructor">obj</a> <a id="2037" href="MJ.Semantics.Monadic.html#2037" class="Bound">cid</a> <a id="2041" href="MJ.Semantics.Monadic.html#2041" class="Bound">x</a><a id="2042" class="Symbol">)</a> <a id="2044" class="Symbol">=</a> <a id="2046" href="MJ.Semantics.Values.html#1707" class="InductiveConstructor">obj</a> <a id="2050" href="MJ.Semantics.Monadic.html#2037" class="Bound">cid</a> <a id="2054" class="Symbol">(</a><a id="2055" href="MJ.Semantics.Values.html#1358" class="Function">weaken-obj</a> <a id="2066" href="MJ.Semantics.Monadic.html#2037" class="Bound">cid</a> <a id="2070" href="MJ.Semantics.Monadic.html#2028" class="Bound">ext</a> <a id="2074" href="MJ.Semantics.Monadic.html#2041" class="Bound">x</a><a id="2075" class="Symbol">)</a>

<a id="2078" class="Keyword">instance</a>
  <a id="storeval-weakenable" href="MJ.Semantics.Monadic.html#storeval-weakenable" class="Function">storeval-weakenable</a> <a id="2109" class="Symbol">:</a> <a id="2111" class="Symbol">∀</a> <a id="2113" class="Symbol">{</a><a id="2114" href="MJ.Semantics.Monadic.html#2114" class="Bound">a</a><a id="2115" class="Symbol">}</a> <a id="2117" class="Symbol">→</a> <a id="2119" href="Common.Weakening.html#Weakenable" class="Record">Weakenable</a> <a id="2130" class="Symbol">(λ</a> <a id="2133" href="MJ.Semantics.Monadic.html#2133" class="Bound">W</a> <a id="2135" class="Symbol">→</a> <a id="2137" href="MJ.Semantics.Values.html#1610" class="Datatype">StoreVal</a> <a id="2146" href="MJ.Semantics.Monadic.html#2133" class="Bound">W</a> <a id="2148" href="MJ.Semantics.Monadic.html#2114" class="Bound">a</a><a id="2149" class="Symbol">)</a>
  <a id="2153" href="MJ.Semantics.Monadic.html#storeval-weakenable" class="Function">storeval-weakenable</a> <a id="2173" class="Symbol">=</a> <a id="2175" class="Keyword">record</a> <a id="2182" class="Symbol">{</a><a id="2183" class="Field">wk</a> <a id="2186" class="Symbol">=</a> <a id="2188" href="MJ.Semantics.Monadic.html#sval-weaken" class="Function">sval-weaken</a> <a id="2200" class="Symbol">}</a>

<a id="2203" class="Keyword">infixl</a> <a id="2210" class="Number">10</a> <a id="2213" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">_&gt;&gt;=_</a>
<a id="_&gt;&gt;=_" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">_&gt;&gt;=_</a>   <a id="2227" class="Symbol">:</a> <a id="2229" class="Symbol">∀</a> <a id="2231" class="Symbol">{</a><a id="2232" href="MJ.Semantics.Monadic.html#2232" class="Bound">Γ</a> <a id="2234" href="MJ.Semantics.Monadic.html#2234" class="Bound">W</a><a id="2235" class="Symbol">}{</a><a id="2237" href="MJ.Semantics.Monadic.html#2237" class="Bound">A</a> <a id="2239" href="MJ.Semantics.Monadic.html#2239" class="Bound">B</a> <a id="2241" class="Symbol">:</a> <a id="2243" href="MJ.Semantics.Monadic.html#WSet" class="Function">WSet</a><a id="2247" class="Symbol">}</a> <a id="2249" class="Symbol">→</a> <a id="2251" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="2253" href="MJ.Semantics.Monadic.html#2232" class="Bound">Γ</a> <a id="2255" href="MJ.Semantics.Monadic.html#2234" class="Bound">W</a> <a id="2257" href="MJ.Semantics.Monadic.html#2237" class="Bound">A</a> <a id="2259" class="Symbol">→</a> <a id="2261" class="Symbol">(∀</a> <a id="2264" class="Symbol">{</a><a id="2265" href="MJ.Semantics.Monadic.html#2265" class="Bound">W&#39;</a><a id="2267" class="Symbol">}</a> <a id="2269" class="Symbol">→</a> <a id="2271" href="MJ.Semantics.Monadic.html#2237" class="Bound">A</a> <a id="2273" href="MJ.Semantics.Monadic.html#2265" class="Bound">W&#39;</a> <a id="2276" class="Symbol">→</a> <a id="2278" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="2280" href="MJ.Semantics.Monadic.html#2232" class="Bound">Γ</a> <a id="2282" href="MJ.Semantics.Monadic.html#2265" class="Bound">W&#39;</a> <a id="2285" href="MJ.Semantics.Monadic.html#2239" class="Bound">B</a><a id="2286" class="Symbol">)</a> <a id="2288" class="Symbol">→</a>
          <a id="2300" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="2302" href="MJ.Semantics.Monadic.html#2232" class="Bound">Γ</a> <a id="2304" href="MJ.Semantics.Monadic.html#2234" class="Bound">W</a> <a id="2306" href="MJ.Semantics.Monadic.html#2239" class="Bound">B</a>
<a id="2308" class="Symbol">(</a><a id="2309" href="MJ.Semantics.Monadic.html#2309" class="Bound">k</a> <a id="2311" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="2315" href="MJ.Semantics.Monadic.html#2315" class="Bound">f</a><a id="2316" class="Symbol">)</a> <a id="2318" href="MJ.Semantics.Monadic.html#2318" class="Bound">E</a> <a id="2320" href="MJ.Semantics.Monadic.html#2320" class="Bound">μ</a> <a id="2322" class="Keyword">with</a> <a id="2327" href="MJ.Semantics.Monadic.html#2309" class="Bound">k</a> <a id="2329" href="MJ.Semantics.Monadic.html#2318" class="Bound">E</a> <a id="2331" href="MJ.Semantics.Monadic.html#2320" class="Bound">μ</a>
<a id="2333" class="Symbol">...</a> <a id="2337" class="Symbol">|</a> <a id="2339" href="MJ.Semantics.Monadic.html#Result.exception" class="InductiveConstructor">exception</a> <a id="2349" href="MJ.Semantics.Monadic.html#2349" class="Bound">ext</a> <a id="2353" href="MJ.Semantics.Monadic.html#2353" class="Bound">μ&#39;</a> <a id="2356" href="MJ.Semantics.Monadic.html#2356" class="Bound">e</a> <a id="2358" class="Symbol">=</a> <a id="2360" href="MJ.Semantics.Monadic.html#Result.exception" class="InductiveConstructor">exception</a> <a id="2370" href="MJ.Semantics.Monadic.html#2349" class="Bound">ext</a> <a id="2374" href="MJ.Semantics.Monadic.html#2353" class="Bound">μ&#39;</a> <a id="2377" href="MJ.Semantics.Monadic.html#2356" class="Bound">e</a>
<a id="2379" class="Symbol">...</a> <a id="2383" class="Symbol">|</a> <a id="2385" href="MJ.Semantics.Monadic.html#Result.timeout" class="InductiveConstructor">timeout</a> <a id="2393" class="Symbol">=</a> <a id="2395" href="MJ.Semantics.Monadic.html#Result.timeout" class="InductiveConstructor">timeout</a>
<a id="2403" class="Symbol">...</a> <a id="2407" class="Symbol">|</a> <a id="2409" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a> <a id="2417" href="MJ.Semantics.Monadic.html#2417" class="Bound">ext</a> <a id="2421" href="MJ.Semantics.Monadic.html#2421" class="Bound">μ&#39;</a> <a id="2424" href="MJ.Semantics.Monadic.html#2424" class="Bound">v</a> <a id="2426" class="Symbol">=</a> <a id="2428" href="MJ.Semantics.Monadic.html#result-strengthen" class="Function">result-strengthen</a> <a id="2446" href="MJ.Semantics.Monadic.html#2417" class="Bound">ext</a> <a id="2450" href="Function.html#_%24_" class="Function Operator">$</a> <a id="2452" class="Bound">f</a> <a id="2454" href="MJ.Semantics.Monadic.html#2424" class="Bound">v</a> <a id="2456" class="Symbol">(</a><a id="2457" href="Data.List.All.html#map-all" class="Function">map-all</a> <a id="2465" class="Symbol">(</a><a id="2466" href="Common.Weakening.html#228" class="Field">wk</a> <a id="2469" href="MJ.Semantics.Monadic.html#2417" class="Bound">ext</a><a id="2472" class="Symbol">)</a> <a id="2474" class="Bound">E</a><a id="2475" class="Symbol">)</a> <a id="2477" href="MJ.Semantics.Monadic.html#2421" class="Bound">μ&#39;</a>

<a id="2481" class="Keyword">open</a> <a id="2486" class="Keyword">import</a> <a id="2493" href="Common.Strength.html" class="Module">Common.Strength</a>
<a id="2509" class="Keyword">infixl</a> <a id="2516" class="Number">10</a> <a id="2519" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">_^_</a>
<a id="_^_" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">_^_</a>  <a id="2528" class="Symbol">:</a>  <a id="2531" class="Symbol">∀</a> <a id="2533" class="Symbol">{</a><a id="2534" href="MJ.Semantics.Monadic.html#2534" class="Bound">Σ</a> <a id="2536" href="MJ.Semantics.Monadic.html#2536" class="Bound">Γ</a><a id="2537" class="Symbol">}{</a><a id="2539" href="MJ.Semantics.Monadic.html#2539" class="Bound">A</a> <a id="2541" href="MJ.Semantics.Monadic.html#2541" class="Bound">B</a> <a id="2543" class="Symbol">:</a> <a id="2545" href="MJ.Semantics.Monadic.html#WSet" class="Function">WSet</a><a id="2549" class="Symbol">}</a> <a id="2551" class="Symbol">⦃</a> <a id="2553" href="MJ.Semantics.Monadic.html#2553" class="Bound">w</a> <a id="2555" class="Symbol">:</a> <a id="2557" href="Common.Weakening.html#Weakenable" class="Record">Weakenable</a> <a id="2568" href="MJ.Semantics.Monadic.html#2541" class="Bound">B</a> <a id="2570" class="Symbol">⦄</a> <a id="2572" class="Symbol">→</a> <a id="2574" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="2576" href="MJ.Semantics.Monadic.html#2536" class="Bound">Γ</a> <a id="2578" href="MJ.Semantics.Monadic.html#2534" class="Bound">Σ</a> <a id="2580" href="MJ.Semantics.Monadic.html#2539" class="Bound">A</a> <a id="2582" class="Symbol">→</a> <a id="2584" href="MJ.Semantics.Monadic.html#2541" class="Bound">B</a> <a id="2586" href="MJ.Semantics.Monadic.html#2534" class="Bound">Σ</a> <a id="2588" class="Symbol">→</a> <a id="2590" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="2592" href="MJ.Semantics.Monadic.html#2536" class="Bound">Γ</a> <a id="2594" href="MJ.Semantics.Monadic.html#2534" class="Bound">Σ</a> <a id="2596" class="Symbol">(</a><a id="2597" href="MJ.Semantics.Monadic.html#2539" class="Bound">A</a> <a id="2599" href="Common.Strength.html#_%E2%8A%97_" class="Datatype Operator">⊗</a> <a id="2601" href="MJ.Semantics.Monadic.html#2541" class="Bound">B</a><a id="2602" class="Symbol">)</a>
<a id="2604" class="Symbol">(</a><a id="2605" href="MJ.Semantics.Monadic.html#2605" class="Bound">f</a> <a id="2607" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="2609" href="MJ.Semantics.Monadic.html#2609" class="Bound">x</a><a id="2610" class="Symbol">)</a> <a id="2612" href="MJ.Semantics.Monadic.html#2612" class="Bound">E</a> <a id="2614" href="MJ.Semantics.Monadic.html#2614" class="Bound">μ</a> <a id="2616" class="Keyword">with</a> <a id="2621" class="Symbol">(</a><a id="2622" href="MJ.Semantics.Monadic.html#2605" class="Bound">f</a> <a id="2624" href="MJ.Semantics.Monadic.html#2612" class="Bound">E</a> <a id="2626" href="MJ.Semantics.Monadic.html#2614" class="Bound">μ</a><a id="2627" class="Symbol">)</a>
<a id="2629" class="Symbol">...</a>  <a id="2634" class="Symbol">|</a> <a id="2636" href="MJ.Semantics.Monadic.html#Result.timeout" class="InductiveConstructor">timeout</a> <a id="2644" class="Symbol">=</a> <a id="2646" href="MJ.Semantics.Monadic.html#Result.timeout" class="InductiveConstructor">timeout</a>
<a id="2654" class="Symbol">...</a>  <a id="2659" class="Symbol">|</a> <a id="2661" href="MJ.Semantics.Monadic.html#Result.exception" class="InductiveConstructor">exception</a> <a id="2671" href="MJ.Semantics.Monadic.html#2671" class="Bound">ext</a> <a id="2675" href="MJ.Semantics.Monadic.html#2675" class="Bound">μ&#39;</a> <a id="2678" href="MJ.Semantics.Monadic.html#2678" class="Bound">e</a> <a id="2680" class="Symbol">=</a> <a id="2682" href="MJ.Semantics.Monadic.html#Result.exception" class="InductiveConstructor">exception</a> <a id="2692" href="MJ.Semantics.Monadic.html#2671" class="Bound">ext</a> <a id="2696" href="MJ.Semantics.Monadic.html#2675" class="Bound">μ&#39;</a> <a id="2699" href="MJ.Semantics.Monadic.html#2678" class="Bound">e</a>
<a id="2701" class="Symbol">...</a>  <a id="2706" class="Symbol">|</a> <a id="2708" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a> <a id="2716" href="MJ.Semantics.Monadic.html#2716" class="Bound">ext</a> <a id="2720" href="MJ.Semantics.Monadic.html#2720" class="Bound">μ&#39;</a> <a id="2723" href="MJ.Semantics.Monadic.html#2723" class="Bound">v</a> <a id="2725" class="Symbol">=</a> <a id="2727" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a> <a id="2735" href="MJ.Semantics.Monadic.html#2716" class="Bound">ext</a> <a id="2739" href="MJ.Semantics.Monadic.html#2720" class="Bound">μ&#39;</a> <a id="2742" class="Symbol">(</a><a id="2743" href="MJ.Semantics.Monadic.html#2723" class="Bound">v</a> <a id="2745" href="Common.Strength.html#_%E2%8A%97_._%2C_" class="InductiveConstructor Operator">,</a> <a id="2747" href="Common.Weakening.html#228" class="Field">wk</a> <a id="2750" href="MJ.Semantics.Monadic.html#2716" class="Bound">ext</a> <a id="2754" class="Bound">x</a><a id="2755" class="Symbol">)</a>

<a id="_recoverWith_" href="MJ.Semantics.Monadic.html#_recoverWith_" class="Function Operator">_recoverWith_</a> <a id="2772" class="Symbol">:</a> <a id="2774" class="Symbol">∀</a> <a id="2776" class="Symbol">{</a><a id="2777" href="MJ.Semantics.Monadic.html#2777" class="Bound">Γ</a> <a id="2779" href="MJ.Semantics.Monadic.html#2779" class="Bound">W</a><a id="2780" class="Symbol">}{</a><a id="2782" href="MJ.Semantics.Monadic.html#2782" class="Bound">A</a> <a id="2784" class="Symbol">:</a> <a id="2786" href="MJ.Semantics.Monadic.html#WSet" class="Function">WSet</a><a id="2790" class="Symbol">}</a> <a id="2792" class="Symbol">→</a> <a id="2794" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="2796" href="MJ.Semantics.Monadic.html#2777" class="Bound">Γ</a> <a id="2798" href="MJ.Semantics.Monadic.html#2779" class="Bound">W</a> <a id="2800" href="MJ.Semantics.Monadic.html#2782" class="Bound">A</a> <a id="2802" class="Symbol">→</a>
                <a id="2820" class="Symbol">(∀</a> <a id="2823" class="Symbol">{</a><a id="2824" href="MJ.Semantics.Monadic.html#2824" class="Bound">W&#39;</a><a id="2826" class="Symbol">}</a> <a id="2828" class="Symbol">→</a> <a id="2830" href="MJ.Semantics.Monadic.html#Exception" class="Datatype">Exception</a> <a id="2840" class="Symbol">→</a> <a id="2842" href="MJ.Semantics.Monadic.html#2824" class="Bound">W&#39;</a> <a id="2845" href="Data.List.Prefix.html#_%E2%8A%92_" class="Function Operator">⊒</a> <a id="2847" href="MJ.Semantics.Monadic.html#2779" class="Bound">W</a> <a id="2849" class="Symbol">→</a> <a id="2851" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="2853" href="MJ.Semantics.Monadic.html#2777" class="Bound">Γ</a> <a id="2855" href="MJ.Semantics.Monadic.html#2824" class="Bound">W&#39;</a> <a id="2858" href="MJ.Semantics.Monadic.html#2782" class="Bound">A</a><a id="2859" class="Symbol">)</a> <a id="2861" class="Symbol">→</a>
                <a id="2879" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="2881" href="MJ.Semantics.Monadic.html#2777" class="Bound">Γ</a> <a id="2883" href="MJ.Semantics.Monadic.html#2779" class="Bound">W</a> <a id="2885" href="MJ.Semantics.Monadic.html#2782" class="Bound">A</a>
<a id="2887" class="Symbol">(</a><a id="2888" href="MJ.Semantics.Monadic.html#2888" class="Bound">k</a> <a id="2890" href="MJ.Semantics.Monadic.html#_recoverWith_" class="Function Operator">recoverWith</a> <a id="2902" href="MJ.Semantics.Monadic.html#2902" class="Bound">f</a><a id="2903" class="Symbol">)</a> <a id="2905" href="MJ.Semantics.Monadic.html#2905" class="Bound">E</a> <a id="2907" href="MJ.Semantics.Monadic.html#2907" class="Bound">μ</a> <a id="2909" class="Keyword">with</a> <a id="2914" href="MJ.Semantics.Monadic.html#2888" class="Bound">k</a> <a id="2916" href="MJ.Semantics.Monadic.html#2905" class="Bound">E</a> <a id="2918" href="MJ.Semantics.Monadic.html#2907" class="Bound">μ</a>
<a id="2920" class="Symbol">...</a> <a id="2924" class="Symbol">|</a> <a id="2926" href="MJ.Semantics.Monadic.html#Result.timeout" class="InductiveConstructor">timeout</a> <a id="2934" class="Symbol">=</a> <a id="2936" href="MJ.Semantics.Monadic.html#Result.timeout" class="InductiveConstructor">timeout</a>
<a id="2944" class="Symbol">...</a> <a id="2948" class="Symbol">|</a> <a id="2950" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a> <a id="2958" href="MJ.Semantics.Monadic.html#2958" class="Bound">ext</a> <a id="2962" href="MJ.Semantics.Monadic.html#2962" class="Bound">μ&#39;</a> <a id="2965" href="MJ.Semantics.Monadic.html#2965" class="Bound">x</a> <a id="2967" class="Symbol">=</a> <a id="2969" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a> <a id="2977" href="MJ.Semantics.Monadic.html#2958" class="Bound">ext</a> <a id="2981" href="MJ.Semantics.Monadic.html#2962" class="Bound">μ&#39;</a> <a id="2984" href="MJ.Semantics.Monadic.html#2965" class="Bound">x</a>
<a id="2986" class="Symbol">...</a> <a id="2990" class="Symbol">|</a> <a id="2992" href="MJ.Semantics.Monadic.html#Result.exception" class="InductiveConstructor">exception</a> <a id="3002" href="MJ.Semantics.Monadic.html#3002" class="Bound">ext</a> <a id="3006" href="MJ.Semantics.Monadic.html#3006" class="Bound">μ&#39;</a> <a id="3009" href="MJ.Semantics.Monadic.html#3009" class="Bound">e</a> <a id="3011" class="Symbol">=</a> <a id="3013" href="MJ.Semantics.Monadic.html#result-strengthen" class="Function">result-strengthen</a> <a id="3031" href="MJ.Semantics.Monadic.html#3002" class="Bound">ext</a> <a id="3035" href="Function.html#_%24_" class="Function Operator">$</a> <a id="3037" class="Bound">f</a> <a id="3039" href="MJ.Semantics.Monadic.html#3009" class="Bound">e</a> <a id="3041" href="MJ.Semantics.Monadic.html#3002" class="Bound">ext</a> <a id="3045" class="Symbol">(</a><a id="3046" href="Common.Weakening.html#228" class="Field">wk</a> <a id="3049" href="MJ.Semantics.Monadic.html#3002" class="Bound">ext</a> <a id="3053" class="Bound">E</a><a id="3054" class="Symbol">)</a> <a id="3056" href="MJ.Semantics.Monadic.html#3006" class="Bound">μ&#39;</a>

<a id="store" href="MJ.Semantics.Monadic.html#store" class="Function">store</a>   <a id="3068" class="Symbol">:</a> <a id="3070" class="Symbol">∀</a> <a id="3072" class="Symbol">{</a><a id="3073" href="MJ.Semantics.Monadic.html#3073" class="Bound">Γ</a> <a id="3075" href="MJ.Semantics.Monadic.html#3075" class="Bound">W</a> <a id="3077" href="MJ.Semantics.Monadic.html#3077" class="Bound">a</a><a id="3078" class="Symbol">}</a> <a id="3080" class="Symbol">→</a> <a id="3082" href="MJ.Semantics.Values.html#1610" class="Datatype">StoreVal</a> <a id="3091" href="MJ.Semantics.Monadic.html#3075" class="Bound">W</a> <a id="3093" href="MJ.Semantics.Monadic.html#3077" class="Bound">a</a> <a id="3095" class="Symbol">→</a> <a id="3097" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="3099" href="MJ.Semantics.Monadic.html#3073" class="Bound">Γ</a> <a id="3101" href="MJ.Semantics.Monadic.html#3075" class="Bound">W</a> <a id="3103" class="Symbol">(λ</a> <a id="3106" href="MJ.Semantics.Monadic.html#3106" class="Bound">W&#39;</a> <a id="3109" class="Symbol">→</a> <a id="3111" href="MJ.Semantics.Monadic.html#3077" class="Bound">a</a> <a id="3113" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="3115" href="MJ.Semantics.Monadic.html#3106" class="Bound">W&#39;</a><a id="3117" class="Symbol">)</a>
<a id="3119" href="MJ.Semantics.Monadic.html#store" class="Function">store</a> <a id="3125" class="Symbol">{</a><a id="3126" href="MJ.Semantics.Monadic.html#3126" class="Bound">Γ</a><a id="3127" class="Symbol">}{</a><a id="3129" href="MJ.Semantics.Monadic.html#3129" class="Bound">W</a><a id="3130" class="Symbol">}{</a><a id="3132" href="MJ.Semantics.Monadic.html#3132" class="Bound">a</a><a id="3133" class="Symbol">}</a> <a id="3135" href="MJ.Semantics.Monadic.html#3135" class="Bound">sv</a> <a id="3138" href="MJ.Semantics.Monadic.html#3138" class="Bound">E</a> <a id="3140" href="MJ.Semantics.Monadic.html#3140" class="Bound">μ</a> <a id="3142" class="Symbol">=</a>
  <a id="3146" class="Keyword">let</a>
    <a id="3154" href="MJ.Semantics.Monadic.html#3154" class="Bound">ext</a> <a id="3158" class="Symbol">=</a> <a id="3160" href="Data.List.Prefix.html#%E2%88%B7%CA%B3-%E2%8A%92" class="Function">∷ʳ-⊒</a> <a id="3165" href="MJ.Semantics.Monadic.html#3132" class="Bound">a</a> <a id="3167" href="MJ.Semantics.Monadic.html#3129" class="Bound">W</a>
    <a id="3173" href="MJ.Semantics.Monadic.html#3173" class="Bound">μ&#39;</a>  <a id="3177" class="Symbol">=</a> <a id="3179" class="Symbol">(</a><a id="3180" href="Data.List.All.html#map-all" class="Function">map-all</a> <a id="3188" class="Symbol">(</a><a id="3189" href="Common.Weakening.html#228" class="Field">wk</a> <a id="3192" href="MJ.Semantics.Monadic.html#3154" class="Bound">ext</a><a id="3195" class="Symbol">)</a> <a id="3197" href="MJ.Semantics.Monadic.html#3140" class="Bound">μ</a><a id="3198" class="Symbol">)</a> <a id="3200" href="Data.List.All.Properties.Extra.html#_all-%E2%88%B7%CA%B3_" class="Function Operator">all-∷ʳ</a> <a id="3207" class="Symbol">(</a><a id="3208" href="Common.Weakening.html#228" class="Field">wk</a> <a id="3211" href="MJ.Semantics.Monadic.html#3154" class="Bound">ext</a> <a id="3215" href="MJ.Semantics.Monadic.html#3135" class="Bound">sv</a><a id="3217" class="Symbol">)</a>
  <a id="3221" class="Keyword">in</a> <a id="3224" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a> <a id="3232" href="MJ.Semantics.Monadic.html#3154" class="Bound">ext</a> <a id="3236" href="MJ.Semantics.Monadic.html#3173" class="Bound">μ&#39;</a> <a id="3239" class="Symbol">(</a><a id="3240" href="Data.List.Properties.Extra.html#%E2%88%88-%E2%88%B7%CA%B3" class="Function">∈-∷ʳ</a> <a id="3245" href="MJ.Semantics.Monadic.html#3129" class="Bound">W</a> <a id="3247" href="MJ.Semantics.Monadic.html#3132" class="Bound">a</a><a id="3248" class="Symbol">)</a>

<a id="update" href="MJ.Semantics.Monadic.html#update" class="Function">update</a>   <a id="3260" class="Symbol">:</a> <a id="3262" class="Symbol">∀</a> <a id="3264" class="Symbol">{</a><a id="3265" href="MJ.Semantics.Monadic.html#3265" class="Bound">Γ</a> <a id="3267" href="MJ.Semantics.Monadic.html#3267" class="Bound">W</a> <a id="3269" href="MJ.Semantics.Monadic.html#3269" class="Bound">a</a><a id="3270" class="Symbol">}</a> <a id="3272" class="Symbol">→</a> <a id="3274" href="MJ.Semantics.Monadic.html#3269" class="Bound">a</a> <a id="3276" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="3278" href="MJ.Semantics.Monadic.html#3267" class="Bound">W</a> <a id="3280" class="Symbol">→</a> <a id="3282" href="MJ.Semantics.Values.html#1610" class="Datatype">StoreVal</a> <a id="3291" href="MJ.Semantics.Monadic.html#3267" class="Bound">W</a> <a id="3293" href="MJ.Semantics.Monadic.html#3269" class="Bound">a</a> <a id="3295" class="Symbol">→</a> <a id="3297" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="3299" href="MJ.Semantics.Monadic.html#3265" class="Bound">Γ</a> <a id="3301" href="MJ.Semantics.Monadic.html#3267" class="Bound">W</a> <a id="3303" class="Symbol">(λ</a> <a id="3306" href="MJ.Semantics.Monadic.html#3306" class="Bound">W&#39;</a> <a id="3309" class="Symbol">→</a> <a id="3311" href="Agda.Builtin.Unit.html#%E2%8A%A4" class="Record">⊤</a><a id="3312" class="Symbol">)</a>
<a id="3314" href="MJ.Semantics.Monadic.html#update" class="Function">update</a> <a id="3321" href="MJ.Semantics.Monadic.html#3321" class="Bound">ptr</a> <a id="3325" href="MJ.Semantics.Monadic.html#3325" class="Bound">v</a> <a id="3327" href="MJ.Semantics.Monadic.html#3327" class="Bound">E</a> <a id="3329" href="MJ.Semantics.Monadic.html#3329" class="Bound">μ</a> <a id="3331" class="Symbol">=</a> <a id="3333" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a> <a id="3341" href="Data.List.Prefix.html#%E2%8A%91-refl" class="Function">⊑-refl</a> <a id="3348" class="Symbol">(</a><a id="3349" href="MJ.Semantics.Monadic.html#3329" class="Bound">μ</a> <a id="3351" href="Data.List.All.Properties.Extra.html#_All%5B_%5D%E2%89%94%27_" class="Function Operator">All[</a> <a id="3356" href="MJ.Semantics.Monadic.html#3321" class="Bound">ptr</a> <a id="3360" href="Data.List.All.Properties.Extra.html#_All%5B_%5D%E2%89%94%27_" class="Function Operator">]≔&#39;</a> <a id="3364" href="MJ.Semantics.Monadic.html#3325" class="Bound">v</a><a id="3365" class="Symbol">)</a> <a id="3367" href="Agda.Builtin.Unit.html#%E2%8A%A4.tt" class="InductiveConstructor">tt</a>

<a id="deref" href="MJ.Semantics.Monadic.html#deref" class="Function">deref</a> <a id="3377" class="Symbol">:</a> <a id="3379" class="Symbol">∀</a> <a id="3381" class="Symbol">{</a><a id="3382" href="MJ.Semantics.Monadic.html#3382" class="Bound">Γ</a> <a id="3384" href="MJ.Semantics.Monadic.html#3384" class="Bound">W</a> <a id="3386" href="MJ.Semantics.Monadic.html#3386" class="Bound">a</a><a id="3387" class="Symbol">}</a> <a id="3389" class="Symbol">→</a> <a id="3391" href="MJ.Semantics.Monadic.html#3386" class="Bound">a</a> <a id="3393" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="3395" href="MJ.Semantics.Monadic.html#3384" class="Bound">W</a> <a id="3397" class="Symbol">→</a> <a id="3399" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="3401" href="MJ.Semantics.Monadic.html#3382" class="Bound">Γ</a> <a id="3403" href="MJ.Semantics.Monadic.html#3384" class="Bound">W</a> <a id="3405" class="Symbol">(</a><a id="3406" href="Function.html#flip" class="Function">flip</a> <a id="3411" href="MJ.Semantics.Values.html#1610" class="Datatype">StoreVal</a> <a id="3420" href="MJ.Semantics.Monadic.html#3386" class="Bound">a</a><a id="3421" class="Symbol">)</a>
<a id="3423" href="MJ.Semantics.Monadic.html#deref" class="Function">deref</a> <a id="3429" href="MJ.Semantics.Monadic.html#3429" class="Bound">ptr</a> <a id="3433" href="MJ.Semantics.Monadic.html#3433" class="Bound">E</a> <a id="3435" href="MJ.Semantics.Monadic.html#3435" class="Bound">μ</a> <a id="3437" class="Symbol">=</a> <a id="3439" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a> <a id="3447" href="Data.List.Prefix.html#%E2%8A%91-refl" class="Function">⊑-refl</a> <a id="3454" href="MJ.Semantics.Monadic.html#3435" class="Bound">μ</a> <a id="3456" class="Symbol">(</a><a id="3457" href="Data.List.All.Properties.Extra.html#%E2%88%88-all" class="Function">∈-all</a> <a id="3463" href="MJ.Semantics.Monadic.html#3429" class="Bound">ptr</a> <a id="3467" href="MJ.Semantics.Monadic.html#3435" class="Bound">μ</a><a id="3468" class="Symbol">)</a>

<a id="getEnv" href="MJ.Semantics.Monadic.html#getEnv" class="Function">getEnv</a> <a id="3478" class="Symbol">:</a> <a id="3480" class="Symbol">∀</a> <a id="3482" class="Symbol">{</a><a id="3483" href="MJ.Semantics.Monadic.html#3483" class="Bound">Γ</a> <a id="3485" href="MJ.Semantics.Monadic.html#3485" class="Bound">W</a><a id="3486" class="Symbol">}{</a><a id="3488" href="MJ.Semantics.Monadic.html#3488" class="Bound">A</a> <a id="3490" class="Symbol">:</a> <a id="3492" href="MJ.Semantics.Monadic.html#WSet" class="Function">WSet</a><a id="3496" class="Symbol">}</a> <a id="3498" class="Symbol">→</a> <a id="3500" class="Symbol">(</a><a id="3501" href="MJ.Semantics.Values.html#982" class="Function">Env</a> <a id="3505" href="MJ.Semantics.Monadic.html#3483" class="Bound">Γ</a> <a id="3507" href="MJ.Semantics.Monadic.html#3485" class="Bound">W</a> <a id="3509" class="Symbol">→</a> <a id="3511" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="3513" href="MJ.Semantics.Monadic.html#3483" class="Bound">Γ</a> <a id="3515" href="MJ.Semantics.Monadic.html#3485" class="Bound">W</a> <a id="3517" href="MJ.Semantics.Monadic.html#3488" class="Bound">A</a><a id="3518" class="Symbol">)</a> <a id="3520" class="Symbol">→</a> <a id="3522" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="3524" href="MJ.Semantics.Monadic.html#3483" class="Bound">Γ</a> <a id="3526" href="MJ.Semantics.Monadic.html#3485" class="Bound">W</a> <a id="3528" href="MJ.Semantics.Monadic.html#3488" class="Bound">A</a>
<a id="3530" href="MJ.Semantics.Monadic.html#getEnv" class="Function">getEnv</a> <a id="3537" href="MJ.Semantics.Monadic.html#3537" class="Bound">f</a> <a id="3539" href="MJ.Semantics.Monadic.html#3539" class="Bound">E</a> <a id="3541" href="MJ.Semantics.Monadic.html#3541" class="Bound">μ</a> <a id="3543" class="Symbol">=</a> <a id="3545" href="MJ.Semantics.Monadic.html#3537" class="Bound">f</a> <a id="3547" href="MJ.Semantics.Monadic.html#3539" class="Bound">E</a> <a id="3549" href="MJ.Semantics.Monadic.html#3539" class="Bound">E</a> <a id="3551" href="MJ.Semantics.Monadic.html#3541" class="Bound">μ</a>

<a id="usingEnv" href="MJ.Semantics.Monadic.html#usingEnv" class="Function">usingEnv</a> <a id="3563" class="Symbol">:</a> <a id="3565" class="Symbol">∀</a> <a id="3567" class="Symbol">{</a><a id="3568" href="MJ.Semantics.Monadic.html#3568" class="Bound">Γ</a> <a id="3570" href="MJ.Semantics.Monadic.html#3570" class="Bound">Γ&#39;</a> <a id="3573" href="MJ.Semantics.Monadic.html#3573" class="Bound">W</a><a id="3574" class="Symbol">}{</a><a id="3576" href="MJ.Semantics.Monadic.html#3576" class="Bound">A</a> <a id="3578" class="Symbol">:</a> <a id="3580" href="MJ.Semantics.Monadic.html#WSet" class="Function">WSet</a><a id="3584" class="Symbol">}</a> <a id="3586" class="Symbol">→</a> <a id="3588" href="MJ.Semantics.Values.html#982" class="Function">Env</a> <a id="3592" href="MJ.Semantics.Monadic.html#3570" class="Bound">Γ&#39;</a> <a id="3595" href="MJ.Semantics.Monadic.html#3573" class="Bound">W</a> <a id="3597" class="Symbol">→</a> <a id="3599" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="3601" href="MJ.Semantics.Monadic.html#3570" class="Bound">Γ&#39;</a> <a id="3604" href="MJ.Semantics.Monadic.html#3573" class="Bound">W</a> <a id="3606" href="MJ.Semantics.Monadic.html#3576" class="Bound">A</a> <a id="3608" class="Symbol">→</a> <a id="3610" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="3612" href="MJ.Semantics.Monadic.html#3568" class="Bound">Γ</a> <a id="3614" href="MJ.Semantics.Monadic.html#3573" class="Bound">W</a> <a id="3616" href="MJ.Semantics.Monadic.html#3576" class="Bound">A</a>
<a id="3618" href="MJ.Semantics.Monadic.html#usingEnv" class="Function">usingEnv</a> <a id="3627" href="MJ.Semantics.Monadic.html#3627" class="Bound">E</a> <a id="3629" href="MJ.Semantics.Monadic.html#3629" class="Bound">e</a> <a id="3631" class="Symbol">=</a> <a id="3633" href="Function.html#const" class="Function">const</a> <a id="3639" href="Function.html#_%24_" class="Function Operator">$</a> <a id="3641" href="MJ.Semantics.Monadic.html#3629" class="Bound">e</a> <a id="3643" href="MJ.Semantics.Monadic.html#3627" class="Bound">E</a>

<a id="store*" href="MJ.Semantics.Monadic.html#store%2A" class="Function">store*</a>  <a id="3654" class="Symbol">:</a> <a id="3656" class="Symbol">∀</a> <a id="3658" class="Symbol">{</a><a id="3659" href="MJ.Semantics.Monadic.html#3659" class="Bound">Γ</a> <a id="3661" href="MJ.Semantics.Monadic.html#3661" class="Bound">W</a> <a id="3663" href="MJ.Semantics.Monadic.html#3663" class="Bound">as</a><a id="3665" class="Symbol">}</a> <a id="3667" class="Symbol">→</a> <a id="3669" href="Data.List.All.html#All" class="Datatype">All</a> <a id="3673" class="Symbol">(λ</a> <a id="3676" href="MJ.Semantics.Monadic.html#3676" class="Bound">a</a> <a id="3678" class="Symbol">→</a> <a id="3680" href="MJ.Semantics.Values.html#1610" class="Datatype">StoreVal</a> <a id="3689" href="MJ.Semantics.Monadic.html#3661" class="Bound">W</a> <a id="3691" class="Symbol">(</a><a id="3692" href="MJ.Types.html#Ty%E2%81%BA.vty" class="InductiveConstructor">vty</a> <a id="3696" href="MJ.Semantics.Monadic.html#3676" class="Bound">a</a><a id="3697" class="Symbol">))</a> <a id="3700" href="MJ.Semantics.Monadic.html#3663" class="Bound">as</a> <a id="3703" class="Symbol">→</a>
          <a id="3715" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="3717" href="MJ.Semantics.Monadic.html#3659" class="Bound">Γ</a> <a id="3719" href="MJ.Semantics.Monadic.html#3661" class="Bound">W</a> <a id="3721" class="Symbol">(λ</a> <a id="3724" href="MJ.Semantics.Monadic.html#3724" class="Bound">W&#39;</a> <a id="3727" class="Symbol">→</a> <a id="3729" href="Data.List.All.html#All" class="Datatype">All</a> <a id="3733" class="Symbol">(λ</a> <a id="3736" href="MJ.Semantics.Monadic.html#3736" class="Bound">a</a> <a id="3738" class="Symbol">→</a> <a id="3740" class="Symbol">(</a><a id="3741" href="MJ.Types.html#Ty%E2%81%BA.vty" class="InductiveConstructor">vty</a> <a id="3745" href="MJ.Semantics.Monadic.html#3736" class="Bound">a</a><a id="3746" class="Symbol">)</a> <a id="3748" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="3750" href="MJ.Semantics.Monadic.html#3724" class="Bound">W&#39;</a><a id="3752" class="Symbol">)</a> <a id="3754" href="MJ.Semantics.Monadic.html#3663" class="Bound">as</a><a id="3756" class="Symbol">)</a>
<a id="3758" href="MJ.Semantics.Monadic.html#store%2A" class="Function">store*</a> <a id="3765" href="Data.List.All.html#All.%5B%5D" class="InductiveConstructor">[]</a> <a id="3768" class="Symbol">=</a> <a id="3770" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="3777" href="Data.List.All.html#All.%5B%5D" class="InductiveConstructor">[]</a>
<a id="3780" href="MJ.Semantics.Monadic.html#store%2A" class="Function">store*</a> <a id="3787" class="Symbol">(</a><a id="3788" href="MJ.Semantics.Monadic.html#3788" class="Bound">v</a> <a id="3790" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="3792" href="MJ.Semantics.Monadic.html#3792" class="Bound">vs</a><a id="3794" class="Symbol">)</a> <a id="3796" class="Symbol">=</a>
  <a id="3800" href="MJ.Semantics.Monadic.html#store" class="Function">store</a> <a id="3806" href="MJ.Semantics.Monadic.html#3788" class="Bound">v</a> <a id="3808" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="3810" href="MJ.Semantics.Monadic.html#3792" class="Bound">vs</a> <a id="3813" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="3817" class="Symbol">λ{</a> <a id="3820" class="Symbol">(</a><a id="3821" href="MJ.Semantics.Monadic.html#3821" class="Bound">r</a> <a id="3823" href="Common.Strength.html#_%E2%8A%97_._%2C_" class="InductiveConstructor Operator">,</a> <a id="3825" href="MJ.Semantics.Monadic.html#3825" class="Bound">vs</a><a id="3827" class="Symbol">)</a> <a id="3829" class="Symbol">→</a>
  <a id="3833" href="MJ.Semantics.Monadic.html#store%2A" class="Function">store*</a> <a id="3840" href="MJ.Semantics.Monadic.html#3825" class="Bound">vs</a> <a id="3843" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="3845" href="MJ.Semantics.Monadic.html#3821" class="Bound">r</a> <a id="3847" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="3851" class="Symbol">λ{</a> <a id="3854" class="Symbol">(</a><a id="3855" href="MJ.Semantics.Monadic.html#3855" class="Bound">rs</a> <a id="3858" href="Common.Strength.html#_%E2%8A%97_._%2C_" class="InductiveConstructor Operator">,</a> <a id="3860" href="MJ.Semantics.Monadic.html#3860" class="Bound">r</a><a id="3861" class="Symbol">)</a> <a id="3863" class="Symbol">→</a>
  <a id="3867" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="3874" class="Symbol">(</a><a id="3875" href="MJ.Semantics.Monadic.html#3860" class="Bound">r</a> <a id="3877" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="3879" href="MJ.Semantics.Monadic.html#3855" class="Bound">rs</a><a id="3881" class="Symbol">)</a> <a id="3883" class="Symbol">}}</a>

<a id="read-field" href="MJ.Semantics.Monadic.html#read-field" class="Function">read-field</a> <a id="3898" class="Symbol">:</a> <a id="3900" class="Symbol">∀</a> <a id="3902" class="Symbol">{</a><a id="3903" href="MJ.Semantics.Monadic.html#3903" class="Bound">Γ</a> <a id="3905" class="Symbol">:</a> <a id="3907" href="MJ.LexicalScope.html#226" class="Function">Ctx</a><a id="3910" class="Symbol">}{</a><a id="3912" href="MJ.Semantics.Monadic.html#3912" class="Bound">C</a> <a id="3914" href="MJ.Semantics.Monadic.html#3914" class="Bound">W</a> <a id="3916" href="MJ.Semantics.Monadic.html#3916" class="Bound">f</a> <a id="3918" href="MJ.Semantics.Monadic.html#3918" class="Bound">a</a><a id="3919" class="Symbol">}</a> <a id="3921" class="Symbol">→</a> <a id="3923" href="MJ.Classtable.Membership.html#747" class="Function">IsMember</a> <a id="3932" href="MJ.Semantics.Monadic.html#3912" class="Bound">C</a> <a id="3934" href="MJ.Classtable.Core.html#365" class="InductiveConstructor">FIELD</a> <a id="3940" href="MJ.Semantics.Monadic.html#3916" class="Bound">f</a> <a id="3942" href="MJ.Semantics.Monadic.html#3918" class="Bound">a</a> <a id="3944" class="Symbol">→</a> <a id="3946" href="MJ.Semantics.Values.html#656" class="Datatype">Val</a> <a id="3950" href="MJ.Semantics.Monadic.html#3914" class="Bound">W</a> <a id="3952" class="Symbol">(</a><a id="3953" href="MJ.Types.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="3957" href="MJ.Semantics.Monadic.html#3912" class="Bound">C</a><a id="3958" class="Symbol">)</a> <a id="3960" class="Symbol">→</a>
            <a id="3974" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="3976" href="MJ.Semantics.Monadic.html#3903" class="Bound">Γ</a> <a id="3978" href="MJ.Semantics.Monadic.html#3914" class="Bound">W</a> <a id="3980" class="Symbol">(λ</a> <a id="3983" href="MJ.Semantics.Monadic.html#3983" class="Bound">W</a> <a id="3985" class="Symbol">→</a> <a id="3987" href="MJ.Semantics.Values.html#656" class="Datatype">Val</a> <a id="3991" href="MJ.Semantics.Monadic.html#3983" class="Bound">W</a> <a id="3993" href="MJ.Semantics.Monadic.html#3918" class="Bound">a</a><a id="3994" class="Symbol">)</a>
<a id="3996" href="MJ.Semantics.Monadic.html#read-field" class="Function">read-field</a> <a id="4007" href="MJ.Semantics.Monadic.html#4007" class="Bound">m</a> <a id="4009" href="MJ.Semantics.Values.html#738" class="InductiveConstructor">null</a> <a id="4014" class="Symbol">=</a> <a id="4016" href="MJ.Semantics.Monadic.html#raiseM" class="Function">raiseM</a> <a id="4023" href="MJ.Semantics.Monadic.html#Exception.nullderef" class="InductiveConstructor">nullderef</a>
<a id="4033" href="MJ.Semantics.Monadic.html#read-field" class="Function">read-field</a> <a id="4044" href="MJ.Semantics.Monadic.html#4044" class="Bound">m</a> <a id="4046" class="Symbol">(</a><a id="4047" href="MJ.Semantics.Values.html#769" class="InductiveConstructor">ref</a> <a id="4051" href="MJ.Semantics.Monadic.html#4051" class="Bound">o</a> <a id="4053" href="MJ.Semantics.Monadic.html#4053" class="Bound">C&lt;:C&#39;</a><a id="4058" class="Symbol">)</a> <a id="4060" href="MJ.Semantics.Monadic.html#4060" class="Bound">E</a> <a id="4062" href="MJ.Semantics.Monadic.html#4062" class="Bound">μ</a> <a id="4064" class="Keyword">with</a> <a id="4069" href="Data.List.All.Properties.Extra.html#%E2%88%88-all" class="Function">∈-all</a> <a id="4075" href="MJ.Semantics.Monadic.html#4051" class="Bound">o</a> <a id="4077" href="MJ.Semantics.Monadic.html#4062" class="Bound">μ</a>
<a id="4079" href="MJ.Semantics.Monadic.html#read-field" class="Function">read-field</a> <a id="4090" href="MJ.Semantics.Monadic.html#4090" class="Bound">m</a> <a id="4092" class="Symbol">(</a><a id="4093" class="InductiveConstructor">ref</a> <a id="4097" href="MJ.Semantics.Monadic.html#4097" class="Bound">o</a> <a id="4099" href="MJ.Semantics.Monadic.html#4099" class="Bound">C&lt;:C&#39;</a><a id="4104" class="Symbol">)</a> <a id="4106" href="MJ.Semantics.Monadic.html#4106" class="Bound">E</a> <a id="4108" href="MJ.Semantics.Monadic.html#4108" class="Bound">μ</a> <a id="4110" class="Symbol">|</a> <a id="4112" href="MJ.Semantics.Values.html#1707" class="InductiveConstructor">obj</a> <a id="4116" href="MJ.Semantics.Monadic.html#4116" class="Bound">cid</a> <a id="4120" href="MJ.Semantics.Monadic.html#4120" class="Bound">O</a> <a id="4122" class="Symbol">=</a> <a id="4124" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a> <a id="4132" href="Data.List.Prefix.html#%E2%8A%91-refl" class="Function">⊑-refl</a> <a id="4139" href="MJ.Semantics.Monadic.html#4108" class="Bound">μ</a> <a id="4141" class="Symbol">(</a><a id="4142" href="MJ.Semantics.Values.html#1422" class="Function">getter</a> <a id="4149" class="Symbol">_</a> <a id="4151" href="MJ.Semantics.Monadic.html#4120" class="Bound">O</a> <a id="4153" class="Symbol">(</a><a id="4154" href="MJ.Classtable.Membership.html#2162" class="Function">inherit&#39;</a> <a id="4163" href="MJ.Semantics.Monadic.html#4099" class="Bound">C&lt;:C&#39;</a> <a id="4169" href="MJ.Semantics.Monadic.html#4090" class="Bound">m</a><a id="4170" class="Symbol">))</a>

<a id="write-field" href="MJ.Semantics.Monadic.html#write-field" class="Function">write-field</a> <a id="4186" class="Symbol">:</a> <a id="4188" class="Symbol">∀</a> <a id="4190" class="Symbol">{</a><a id="4191" href="MJ.Semantics.Monadic.html#4191" class="Bound">Γ</a> <a id="4193" href="MJ.Semantics.Monadic.html#4193" class="Bound">C</a> <a id="4195" href="MJ.Semantics.Monadic.html#4195" class="Bound">W</a> <a id="4197" href="MJ.Semantics.Monadic.html#4197" class="Bound">f</a> <a id="4199" href="MJ.Semantics.Monadic.html#4199" class="Bound">a</a><a id="4200" class="Symbol">}</a> <a id="4202" class="Symbol">→</a> <a id="4204" href="MJ.Classtable.Membership.html#747" class="Function">IsMember</a> <a id="4213" href="MJ.Semantics.Monadic.html#4193" class="Bound">C</a> <a id="4215" href="MJ.Classtable.Core.html#365" class="InductiveConstructor">FIELD</a> <a id="4221" href="MJ.Semantics.Monadic.html#4197" class="Bound">f</a> <a id="4223" href="MJ.Semantics.Monadic.html#4199" class="Bound">a</a> <a id="4225" class="Symbol">→</a> <a id="4227" href="MJ.Semantics.Values.html#656" class="Datatype">Val</a> <a id="4231" href="MJ.Semantics.Monadic.html#4195" class="Bound">W</a> <a id="4233" class="Symbol">(</a><a id="4234" href="MJ.Types.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="4238" href="MJ.Semantics.Monadic.html#4193" class="Bound">C</a><a id="4239" class="Symbol">)</a> <a id="4241" class="Symbol">→</a> <a id="4243" href="MJ.Semantics.Values.html#656" class="Datatype">Val</a> <a id="4247" href="MJ.Semantics.Monadic.html#4195" class="Bound">W</a> <a id="4249" href="MJ.Semantics.Monadic.html#4199" class="Bound">a</a> <a id="4251" class="Symbol">→</a>
            <a id="4265" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="4267" href="MJ.Semantics.Monadic.html#4191" class="Bound">Γ</a> <a id="4269" href="MJ.Semantics.Monadic.html#4195" class="Bound">W</a> <a id="4271" class="Symbol">(</a><a id="4272" href="Function.html#flip" class="Function">flip</a> <a id="4277" href="MJ.Semantics.Values.html#656" class="Datatype">Val</a> <a id="4281" class="Symbol">(</a><a id="4282" href="MJ.Types.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="4286" href="MJ.Semantics.Monadic.html#4193" class="Bound">C</a><a id="4287" class="Symbol">))</a>
<a id="4290" href="MJ.Semantics.Monadic.html#write-field" class="Function">write-field</a> <a id="4302" href="MJ.Semantics.Monadic.html#4302" class="Bound">m</a> <a id="4304" href="MJ.Semantics.Values.html#738" class="InductiveConstructor">null</a> <a id="4309" href="MJ.Semantics.Monadic.html#4309" class="Bound">v</a> <a id="4311" class="Symbol">=</a> <a id="4313" href="MJ.Semantics.Monadic.html#raiseM" class="Function">raiseM</a> <a id="4320" href="MJ.Semantics.Monadic.html#Exception.nullderef" class="InductiveConstructor">nullderef</a>
<a id="4330" href="MJ.Semantics.Monadic.html#write-field" class="Function">write-field</a> <a id="4342" href="MJ.Semantics.Monadic.html#4342" class="Bound">m</a> <a id="4344" class="Symbol">(</a><a id="4345" href="MJ.Semantics.Values.html#769" class="InductiveConstructor">ref</a> <a id="4349" href="MJ.Semantics.Monadic.html#4349" class="Bound">o</a> <a id="4351" href="MJ.Semantics.Monadic.html#4351" class="Bound">s</a><a id="4352" class="Symbol">)</a> <a id="4354" href="MJ.Semantics.Monadic.html#4354" class="Bound">v</a> <a id="4356" href="MJ.Semantics.Monadic.html#4356" class="Bound">E</a> <a id="4358" href="MJ.Semantics.Monadic.html#4358" class="Bound">μ</a> <a id="4360" class="Keyword">with</a> <a id="4365" href="Data.List.All.Properties.Extra.html#%E2%88%88-all" class="Function">∈-all</a> <a id="4371" href="MJ.Semantics.Monadic.html#4349" class="Bound">o</a> <a id="4373" href="MJ.Semantics.Monadic.html#4358" class="Bound">μ</a>
<a id="4375" href="MJ.Semantics.Monadic.html#write-field" class="Function">write-field</a> <a id="4387" href="MJ.Semantics.Monadic.html#4387" class="Bound">m</a> <a id="4389" class="Symbol">(</a><a id="4390" class="InductiveConstructor">ref</a> <a id="4394" href="MJ.Semantics.Monadic.html#4394" class="Bound">o</a> <a id="4396" href="MJ.Semantics.Monadic.html#4396" class="Bound">s</a><a id="4397" class="Symbol">)</a> <a id="4399" href="MJ.Semantics.Monadic.html#4399" class="Bound">v</a> <a id="4401" href="MJ.Semantics.Monadic.html#4401" class="Bound">E</a> <a id="4403" href="MJ.Semantics.Monadic.html#4403" class="Bound">μ</a> <a id="4405" class="Symbol">|</a> <a id="4407" href="MJ.Semantics.Values.html#1707" class="InductiveConstructor">obj</a> <a id="4411" href="MJ.Semantics.Monadic.html#4411" class="Bound">cid</a> <a id="4415" href="MJ.Semantics.Monadic.html#4415" class="Bound">O</a> <a id="4417" class="Symbol">=</a>
  <a id="4421" class="Keyword">let</a>
    <a id="4429" href="MJ.Semantics.Monadic.html#4429" class="Bound">vobj</a> <a id="4434" class="Symbol">=</a> <a id="4436" href="MJ.Semantics.Values.html#1707" class="InductiveConstructor">obj</a> <a id="4440" href="MJ.Semantics.Monadic.html#4411" class="Bound">cid</a> <a id="4444" class="Symbol">(</a><a id="4445" href="MJ.Semantics.Values.html#1490" class="Function">setter</a> <a id="4452" class="Symbol">_</a> <a id="4454" href="MJ.Semantics.Monadic.html#4415" class="Bound">O</a> <a id="4456" class="Symbol">(</a><a id="4457" href="MJ.Classtable.Membership.html#2162" class="Function">inherit&#39;</a> <a id="4466" href="MJ.Semantics.Monadic.html#4396" class="Bound">s</a> <a id="4468" href="MJ.Semantics.Monadic.html#4387" class="Bound">m</a><a id="4469" class="Symbol">)</a> <a id="4471" href="MJ.Semantics.Monadic.html#4399" class="Bound">v</a><a id="4472" class="Symbol">)</a>
    <a id="4478" href="MJ.Semantics.Monadic.html#4478" class="Bound">μ&#39;</a> <a id="4481" class="Symbol">=</a> <a id="4483" href="MJ.Semantics.Monadic.html#4403" class="Bound">μ</a> <a id="4485" href="Data.List.All.Properties.Extra.html#_All%5B_%5D%E2%89%94%27_" class="Function Operator">All[</a> <a id="4490" href="MJ.Semantics.Monadic.html#4394" class="Bound">o</a> <a id="4492" href="Data.List.All.Properties.Extra.html#_All%5B_%5D%E2%89%94%27_" class="Function Operator">]≔&#39;</a> <a id="4496" href="MJ.Semantics.Monadic.html#4429" class="Bound">vobj</a>
  <a id="4503" class="Keyword">in</a> <a id="4506" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a> <a id="4514" href="Data.List.Prefix.html#%E2%8A%91-refl" class="Function">⊑-refl</a> <a id="4521" href="MJ.Semantics.Monadic.html#4478" class="Bound">μ&#39;</a> <a id="4524" class="Symbol">(</a><a id="4525" href="MJ.Semantics.Values.html#769" class="InductiveConstructor">ref</a> <a id="4529" href="MJ.Semantics.Monadic.html#4394" class="Bound">o</a> <a id="4531" href="MJ.Semantics.Monadic.html#4396" class="Bound">s</a><a id="4532" class="Symbol">)</a>

<a id="4535" class="Comment">-- Get the implementation of any method definition of a class</a>
<a id="mbody" href="MJ.Semantics.Monadic.html#mbody" class="Function">mbody</a> <a id="4603" class="Symbol">:</a> <a id="4605" class="Symbol">∀</a> <a id="4607" class="Symbol">{</a><a id="4608" href="MJ.Semantics.Monadic.html#4608" class="Bound">m</a> <a id="4610" href="MJ.Semantics.Monadic.html#4610" class="Bound">ty</a><a id="4612" class="Symbol">}</a> <a id="4614" href="MJ.Semantics.Monadic.html#4614" class="Bound">cid</a> <a id="4618" class="Symbol">→</a> <a id="4620" href="MJ.Classtable.Membership.html#1955" class="Function">AccMember</a> <a id="4630" href="MJ.Semantics.Monadic.html#4614" class="Bound">cid</a> <a id="4634" href="MJ.Classtable.Core.html#351" class="InductiveConstructor">METHOD</a> <a id="4641" href="MJ.Semantics.Monadic.html#4608" class="Bound">m</a> <a id="4643" href="MJ.Semantics.Monadic.html#4610" class="Bound">ty</a> <a id="4646" class="Symbol">→</a> <a id="4648" href="MJ.Classtable.Code.html#2223" class="Function">InheritedMethod</a> <a id="4664" href="MJ.Semantics.Monadic.html#4614" class="Bound">cid</a> <a id="4668" href="MJ.Semantics.Monadic.html#4608" class="Bound">m</a> <a id="4670" href="MJ.Semantics.Monadic.html#4610" class="Bound">ty</a>
<a id="4673" href="MJ.Semantics.Monadic.html#mbody" class="Function">mbody</a> <a id="4679" href="MJ.Semantics.Monadic.html#4679" class="Bound">cid</a> <a id="4683" href="MJ.Semantics.Monadic.html#4683" class="Bound">mb</a> <a id="4686" class="Keyword">with</a> <a id="4691" href="Relation.Nullary.Decidable.html#toWitness" class="Function">toWitness</a> <a id="4701" href="MJ.Semantics.Monadic.html#4683" class="Bound">mb</a>
<a id="4704" class="Symbol">...</a> <a id="4708" class="Symbol">|</a> <a id="4710" class="Symbol">(</a><a id="4711" href="MJ.Semantics.Monadic.html#4711" class="Bound">pid</a> <a id="4715" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4717" href="MJ.Semantics.Monadic.html#4717" class="Bound">s</a> <a id="4719" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4721" href="MJ.Semantics.Monadic.html#4721" class="Bound">d∈decls</a><a id="4728" class="Symbol">)</a> <a id="4730" class="Symbol">=</a> <a id="4732" href="MJ.Semantics.Monadic.html#4711" class="Bound">pid</a> <a id="4736" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4738" href="MJ.Semantics.Monadic.html#4717" class="Bound">s</a> <a id="4740" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4742" href="Data.List.All.Properties.Extra.html#%E2%88%88-all" class="Function">∈-all</a> <a id="4748" class="Symbol">(</a><a id="4749" href="Data.Product.html#%CE%A3.proj%E2%82%81" class="Field">proj₁</a> <a id="4755" class="Symbol">(</a><a id="4756" href="Data.List.First.Properties.html#first%E2%9F%B6%E2%88%88" class="Function">first⟶∈</a> <a id="4764" href="MJ.Semantics.Monadic.html#4721" class="Bound">d∈decls</a><a id="4771" class="Symbol">))</a> <a id="4774" class="Symbol">(</a><a id="4775" href="MJ.Classtable.Code.html#2114" class="Field">Implementation.mbodies</a> <a id="4798" class="Symbol">(</a><a id="4799" href="MJ.Semantics.Monadic.html#272" class="Bound">ℂ</a> <a id="4801" href="MJ.Semantics.Monadic.html#4711" class="Bound">pid</a><a id="4804" class="Symbol">))</a>

<a id="4808" class="Keyword">mutual</a>

  <a id="4818" class="Comment">--</a>
  <a id="4823" class="Comment">-- object initialization</a>
  <a id="4850" class="Comment">--</a>

  <a id="eval-args" href="MJ.Semantics.Monadic.html#eval-args" class="Function">eval-args</a> <a id="4866" class="Symbol">:</a> <a id="4868" class="Symbol">∀</a> <a id="4870" class="Symbol">{</a><a id="4871" href="MJ.Semantics.Monadic.html#4871" class="Bound">Γ</a> <a id="4873" href="MJ.Semantics.Monadic.html#4873" class="Bound">as</a> <a id="4876" href="MJ.Semantics.Monadic.html#4876" class="Bound">W</a><a id="4877" class="Symbol">}</a> <a id="4879" class="Symbol">→</a> <a id="4881" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="4883" class="Symbol">→</a> <a id="4885" href="Data.List.All.html#All" class="Datatype">All</a> <a id="4889" class="Symbol">(</a><a id="4890" href="MJ.Syntax.Typed.html#678" class="Datatype">Expr</a> <a id="4895" href="MJ.Semantics.Monadic.html#4871" class="Bound">Γ</a><a id="4896" class="Symbol">)</a> <a id="4898" href="MJ.Semantics.Monadic.html#4873" class="Bound">as</a> <a id="4901" class="Symbol">→</a> <a id="4903" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="4905" href="MJ.Semantics.Monadic.html#4871" class="Bound">Γ</a> <a id="4907" href="MJ.Semantics.Monadic.html#4876" class="Bound">W</a> <a id="4909" class="Symbol">(λ</a> <a id="4912" href="MJ.Semantics.Monadic.html#4912" class="Bound">W&#39;</a> <a id="4915" class="Symbol">→</a> <a id="4917" href="Data.List.All.html#All" class="Datatype">All</a> <a id="4921" class="Symbol">(λ</a> <a id="4924" href="MJ.Semantics.Monadic.html#4924" class="Bound">a</a> <a id="4926" class="Symbol">→</a> <a id="4928" class="Symbol">(</a><a id="4929" href="MJ.Types.html#Ty%E2%81%BA.vty" class="InductiveConstructor">vty</a> <a id="4933" href="MJ.Semantics.Monadic.html#4924" class="Bound">a</a><a id="4934" class="Symbol">)</a> <a id="4936" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="4938" href="MJ.Semantics.Monadic.html#4912" class="Bound">W&#39;</a><a id="4940" class="Symbol">)</a> <a id="4942" href="MJ.Semantics.Monadic.html#4873" class="Bound">as</a><a id="4944" class="Symbol">)</a>
  <a id="4948" href="MJ.Semantics.Monadic.html#eval-args" class="Function">eval-args</a> <a id="4958" href="MJ.Semantics.Monadic.html#4958" class="Bound">k</a> <a id="4960" href="MJ.Semantics.Monadic.html#4960" class="Bound">args</a> <a id="4965" class="Symbol">=</a> <a id="4967" href="MJ.Semantics.Monadic.html#eval%E2%82%91%2A" class="Function">evalₑ*</a> <a id="4974" href="MJ.Semantics.Monadic.html#4958" class="Bound">k</a> <a id="4976" href="MJ.Semantics.Monadic.html#4960" class="Bound">args</a> <a id="4981" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="4985" class="Symbol">λ</a> <a id="4987" href="MJ.Semantics.Monadic.html#4987" class="Bound">vs</a> <a id="4990" class="Symbol">→</a> <a id="4992" href="MJ.Semantics.Monadic.html#store%2A" class="Function">store*</a> <a id="4999" class="Symbol">(</a><a id="5000" href="Data.List.All.html#map-all" class="Function">map-all</a> <a id="5008" href="MJ.Semantics.Values.html#1657" class="InductiveConstructor">val</a> <a id="5012" href="MJ.Semantics.Monadic.html#4987" class="Bound">vs</a><a id="5014" class="Symbol">)</a>

  <a id="constructM" href="MJ.Semantics.Monadic.html#constructM" class="Function">constructM</a> <a id="5030" class="Symbol">:</a> <a id="5032" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="5034" class="Symbol">→</a> <a id="5036" class="Symbol">∀</a> <a id="5038" href="MJ.Semantics.Monadic.html#5038" class="Bound">cid</a> <a id="5042" class="Symbol">→</a> <a id="5044" class="Symbol">∀</a> <a id="5046" class="Symbol">{</a><a id="5047" href="MJ.Semantics.Monadic.html#5047" class="Bound">W</a><a id="5048" class="Symbol">}</a> <a id="5050" class="Symbol">→</a> <a id="5052" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="5054" class="Symbol">(</a><a id="5055" href="MJ.Classtable.Core.html#866" class="Field">Class.constr</a> <a id="5068" class="Symbol">(</a><a id="5069" href="MJ.Classtable.Core.html#1316" class="Function">Σ</a> <a id="5071" href="MJ.Semantics.Monadic.html#5038" class="Bound">cid</a><a id="5074" class="Symbol">))</a> <a id="5077" href="MJ.Semantics.Monadic.html#5047" class="Bound">W</a> <a id="5079" class="Symbol">(</a><a id="5080" href="Function.html#flip" class="Function">flip</a> <a id="5085" href="MJ.Semantics.Values.html#656" class="Datatype">Val</a> <a id="5089" class="Symbol">(</a><a id="5090" href="MJ.Types.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="5094" href="MJ.Semantics.Monadic.html#5038" class="Bound">cid</a><a id="5097" class="Symbol">))</a>
  <a id="5102" href="MJ.Semantics.Monadic.html#constructM" class="Function">constructM</a> <a id="5113" href="MJ.Semantics.Monadic.html#5113" class="Bound">k</a> <a id="5115" href="MJ.Semantics.Monadic.html#5115" class="Bound">cid</a> <a id="5119" class="Keyword">with</a> <a id="5124" href="MJ.Semantics.Monadic.html#272" class="Bound">ℂ</a> <a id="5126" href="MJ.Semantics.Monadic.html#5115" class="Bound">cid</a>
  <a id="5132" href="MJ.Semantics.Monadic.html#constructM" class="Function">constructM</a> <a id="5143" href="MJ.Semantics.Monadic.html#5143" class="Bound">k</a> <a id="5145" href="MJ.Semantics.Monadic.html#5145" class="Bound">cid</a> <a id="5149" class="Symbol">|</a> <a id="5151" class="Symbol">(</a><a id="5152" href="MJ.Classtable.Code.html#2027" class="InductiveConstructor">implementation</a> <a id="5167" href="MJ.Semantics.Monadic.html#5167" class="Bound">construct</a> <a id="5177" href="MJ.Semantics.Monadic.html#5177" class="Bound">mbodies</a><a id="5184" class="Symbol">)</a> <a id="5186" class="Symbol">=</a>
    <a id="5192" href="MJ.Semantics.Monadic.html#store" class="Function">store</a> <a id="5198" class="Symbol">(</a><a id="5199" href="MJ.Semantics.Values.html#1707" class="InductiveConstructor">obj</a> <a id="5203" class="Symbol">_</a> <a id="5205" class="Symbol">(</a><a id="5206" href="MJ.Semantics.Values.html#1568" class="Function">defaultObject</a> <a id="5220" href="MJ.Semantics.Monadic.html#5145" class="Bound">cid</a><a id="5223" class="Symbol">))</a> <a id="5226" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5230" class="Symbol">λ</a> <a id="5232" href="MJ.Semantics.Monadic.html#5232" class="Bound">r</a> <a id="5234" class="Symbol">→</a>
    <a id="5240" href="MJ.Semantics.Monadic.html#store" class="Function">store</a> <a id="5246" class="Symbol">(</a><a id="5247" href="MJ.Semantics.Values.html#1657" class="InductiveConstructor">val</a> <a id="5251" class="Symbol">(</a><a id="5252" href="MJ.Semantics.Values.html#769" class="InductiveConstructor">ref</a> <a id="5256" href="MJ.Semantics.Monadic.html#5232" class="Bound">r</a> <a id="5258" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a><a id="5259" class="Symbol">))</a> <a id="5262" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="5264" href="MJ.Semantics.Monadic.html#5232" class="Bound">r</a> <a id="5266" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5270" class="Symbol">λ{</a> <a id="5273" class="Symbol">(</a><a id="5274" href="MJ.Semantics.Monadic.html#5274" class="Bound">r&#39;</a> <a id="5277" href="Common.Strength.html#_%E2%8A%97_._%2C_" class="InductiveConstructor Operator">,</a> <a id="5279" href="MJ.Semantics.Monadic.html#5279" class="Bound">r</a><a id="5280" class="Symbol">)</a> <a id="5282" class="Symbol">→</a>
    <a id="5288" href="MJ.Semantics.Monadic.html#getEnv" class="Function">getEnv</a> <a id="5295" class="Symbol">λ</a> <a id="5297" href="MJ.Semantics.Monadic.html#5297" class="Bound">E</a> <a id="5299" class="Symbol">→</a>
    <a id="5305" href="MJ.Semantics.Monadic.html#usingEnv" class="Function">usingEnv</a> <a id="5314" class="Symbol">(</a><a id="5315" href="MJ.Semantics.Monadic.html#5297" class="Bound">E</a> <a id="5317" href="MJ.Semantics.Values.html#1054" class="Function Operator">⊕</a> <a id="5319" href="MJ.Semantics.Monadic.html#5274" class="Bound">r&#39;</a><a id="5321" class="Symbol">)</a> <a id="5323" class="Symbol">(</a><a id="5324" href="MJ.Semantics.Monadic.html#eval-constructor" class="Function">eval-constructor</a> <a id="5341" href="MJ.Semantics.Monadic.html#5143" class="Bound">k</a> <a id="5343" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a> <a id="5345" href="MJ.Semantics.Monadic.html#5279" class="Bound">r</a> <a id="5347" href="MJ.Semantics.Monadic.html#5167" class="Bound">construct</a><a id="5356" class="Symbol">)</a> <a id="5358" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="5360" href="MJ.Semantics.Monadic.html#5279" class="Bound">r</a> <a id="5362" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5366" class="Symbol">λ{</a> <a id="5369" class="Symbol">(_</a> <a id="5372" href="Common.Strength.html#_%E2%8A%97_._%2C_" class="InductiveConstructor Operator">,</a> <a id="5374" href="MJ.Semantics.Monadic.html#5374" class="Bound">r</a><a id="5375" class="Symbol">)</a> <a id="5377" class="Symbol">→</a>
    <a id="5383" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="5390" href="Function.html#_%24_" class="Function Operator">$</a> <a id="5392" href="MJ.Semantics.Values.html#769" class="InductiveConstructor">ref</a> <a id="5396" href="MJ.Semantics.Monadic.html#5374" class="Bound">r</a> <a id="5398" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a> <a id="5400" class="Symbol">}}</a>

  <a id="eval-constructor" href="MJ.Semantics.Monadic.html#eval-constructor" class="Function">eval-constructor</a> <a id="5423" class="Symbol">:</a> <a id="5425" class="Symbol">∀</a> <a id="5427" class="Symbol">{</a><a id="5428" href="MJ.Semantics.Monadic.html#5428" class="Bound">cid&#39;</a> <a id="5433" href="MJ.Semantics.Monadic.html#5433" class="Bound">cid</a> <a id="5437" href="MJ.Semantics.Monadic.html#5437" class="Bound">W</a><a id="5438" class="Symbol">}</a> <a id="5440" class="Symbol">→</a> <a id="5442" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="5444" class="Symbol">→</a> <a id="5446" href="MJ.Classtable.Core.html#1316" class="Function">Σ</a> <a id="5448" href="MJ.Classtable.Core.html#1181" class="Function Operator">⊢</a> <a id="5450" href="MJ.Semantics.Monadic.html#5428" class="Bound">cid&#39;</a> <a id="5455" href="MJ.Classtable.Core.html#1181" class="Function Operator">&lt;:</a> <a id="5458" href="MJ.Semantics.Monadic.html#5433" class="Bound">cid</a> <a id="5462" class="Symbol">→</a> <a id="5464" class="Symbol">(</a><a id="5465" href="MJ.Types.html#Ty%E2%81%BA.obj" class="InductiveConstructor">obj</a> <a id="5469" href="MJ.Semantics.Monadic.html#5428" class="Bound">cid&#39;</a><a id="5473" class="Symbol">)</a> <a id="5475" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="5477" href="MJ.Semantics.Monadic.html#5437" class="Bound">W</a> <a id="5479" class="Symbol">→</a> <a id="5481" href="MJ.Classtable.Code.html#1522" class="Datatype">Constructor</a> <a id="5493" href="MJ.Semantics.Monadic.html#5433" class="Bound">cid</a> <a id="5497" class="Symbol">→</a>
                     <a id="5520" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="5522" class="Symbol">(</a><a id="5523" href="MJ.Classtable.Code.html#849" class="Function">constrctx</a> <a id="5533" href="MJ.Semantics.Monadic.html#5433" class="Bound">cid</a><a id="5536" class="Symbol">)</a> <a id="5538" href="MJ.Semantics.Monadic.html#5437" class="Bound">W</a> <a id="5540" class="Symbol">(</a><a id="5541" href="Function.html#flip" class="Function">flip</a> <a id="5546" href="MJ.Semantics.Values.html#656" class="Datatype">Val</a> <a id="5550" href="MJ.Types.html#Ty.void" class="InductiveConstructor">void</a><a id="5554" class="Symbol">)</a>
  <a id="5558" href="MJ.Semantics.Monadic.html#eval-constructor" class="Function">eval-constructor</a> <a id="5575" href="Agda.Builtin.Nat.html#Nat.zero" class="InductiveConstructor">zero</a> <a id="5580" class="Symbol">_</a> <a id="5582" class="Symbol">_</a> <a id="5584" class="Symbol">_</a> <a id="5586" class="Symbol">=</a> <a id="5588" href="MJ.Semantics.Monadic.html#doTimeout" class="Function">doTimeout</a>
  <a id="5600" href="MJ.Semantics.Monadic.html#eval-constructor" class="Function">eval-constructor</a> <a id="5617" class="Symbol">{_}{</a><a id="5621" href="MJ.Types.html#Cid.Object" class="InductiveConstructor">Object</a><a id="5627" class="Symbol">}</a> <a id="5629" class="Symbol">(</a><a id="5630" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="5634" href="MJ.Semantics.Monadic.html#5634" class="Bound">k</a><a id="5635" class="Symbol">)</a> <a id="5637" class="Symbol">_</a> <a id="5639" class="Symbol">_</a> <a id="5641" class="Symbol">_</a> <a id="5643" class="Symbol">=</a> <a id="5645" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="5652" href="MJ.Semantics.Values.html#718" class="InductiveConstructor">unit</a>
  <a id="5659" href="MJ.Semantics.Monadic.html#eval-constructor" class="Function">eval-constructor</a> <a id="5676" class="Symbol">{_}{</a><a id="5680" href="MJ.Types.html#Cid.cls" class="InductiveConstructor">cls</a> <a id="5684" href="MJ.Semantics.Monadic.html#5684" class="Bound">cid</a><a id="5687" class="Symbol">}</a> <a id="5689" class="Symbol">(</a><a id="5690" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="5694" href="MJ.Semantics.Monadic.html#5694" class="Bound">k</a><a id="5695" class="Symbol">)</a> <a id="5697" href="MJ.Semantics.Monadic.html#5697" class="Bound">s</a> <a id="5699" href="MJ.Semantics.Monadic.html#5699" class="Bound">o∈W</a> <a id="5703" class="Symbol">(</a><a id="5704" href="MJ.Classtable.Code.html#1562" class="InductiveConstructor Operator">super</a> <a id="5710" href="MJ.Semantics.Monadic.html#5710" class="Bound">args</a> <a id="5715" href="MJ.Classtable.Code.html#1562" class="InductiveConstructor Operator">then</a> <a id="5720" href="MJ.Semantics.Monadic.html#5720" class="Bound">b</a><a id="5721" class="Symbol">)</a> <a id="5723" class="Symbol">=</a>
    <a id="5729" class="Comment">-- evaluate super call</a>
    <a id="5756" class="Keyword">let</a>
      <a id="5766" href="MJ.Semantics.Monadic.html#5766" class="Bound">s&#39;</a>   <a id="5771" class="Symbol">=</a> <a id="5773" href="MJ.Semantics.Monadic.html#5697" class="Bound">s</a> <a id="5775" href="Data.Star.html#_%E2%97%85%E2%97%85_" class="Function Operator">◅◅</a> <a id="5778" href="MJ.Classtable.Core.html#1095" class="InductiveConstructor">super</a> <a id="5784" href="Data.Star.html#Star._%E2%97%85_" class="InductiveConstructor Operator">◅</a> <a id="5786" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a>
      <a id="5794" href="MJ.Semantics.Monadic.html#5794" class="Bound">super-con</a> <a id="5804" class="Symbol">=</a> <a id="5806" href="MJ.Classtable.Code.html#2082" class="Field">Implementation.construct</a> <a id="5831" class="Symbol">(</a><a id="5832" href="MJ.Semantics.Monadic.html#272" class="Bound">ℂ</a> <a id="5834" class="Symbol">(</a><a id="5835" href="MJ.Classtable.Core.html#846" class="Field">Class.parent</a> <a id="5848" class="Symbol">(</a><a id="5849" href="MJ.Classtable.Core.html#1316" class="Function">Σ</a> <a id="5851" class="Symbol">(</a><a id="5852" href="MJ.Types.html#Cid.cls" class="InductiveConstructor">cls</a> <a id="5856" href="MJ.Semantics.Monadic.html#5684" class="Bound">cid</a><a id="5859" class="Symbol">))))</a>
    <a id="5868" class="Keyword">in</a>
    <a id="5875" href="MJ.Semantics.Monadic.html#eval-args" class="Function">eval-args</a> <a id="5885" href="MJ.Semantics.Monadic.html#5694" class="Bound">k</a> <a id="5887" href="MJ.Semantics.Monadic.html#5710" class="Bound">args</a> <a id="5892" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="5894" href="MJ.Semantics.Monadic.html#5699" class="Bound">o∈W</a> <a id="5898" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5902" class="Symbol">λ{</a> <a id="5905" class="Symbol">(</a><a id="5906" href="MJ.Semantics.Monadic.html#5906" class="Bound">rvs</a> <a id="5910" href="Common.Strength.html#_%E2%8A%97_._%2C_" class="InductiveConstructor Operator">,</a> <a id="5912" href="MJ.Semantics.Monadic.html#5912" class="Bound">o∈W</a><a id="5915" class="Symbol">)</a> <a id="5917" class="Symbol">→</a> <a id="5919" class="Comment">-- arguments</a>
    <a id="5936" href="MJ.Semantics.Monadic.html#getEnv" class="Function">getEnv</a> <a id="5943" class="Symbol">λ{</a> <a id="5946" class="Symbol">(</a><a id="5947" href="MJ.Semantics.Monadic.html#5947" class="Bound">self</a> <a id="5952" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="5954" class="Symbol">_)</a> <a id="5957" class="Symbol">→</a>
      <a id="5965" class="Comment">-- store a parent pointer for passing to super</a>
      <a id="6018" href="MJ.Semantics.Monadic.html#store" class="Function">store</a> <a id="6024" class="Symbol">(</a><a id="6025" href="MJ.Semantics.Values.html#1657" class="InductiveConstructor">val</a> <a id="6029" class="Symbol">(</a><a id="6030" href="MJ.Semantics.Values.html#769" class="InductiveConstructor">ref</a> <a id="6034" href="MJ.Semantics.Monadic.html#5912" class="Bound">o∈W</a> <a id="6038" href="MJ.Semantics.Monadic.html#5766" class="Bound">s&#39;</a><a id="6040" class="Symbol">))</a> <a id="6043" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="6045" href="MJ.Semantics.Monadic.html#5912" class="Bound">o∈W</a> <a id="6049" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="6051" href="MJ.Semantics.Monadic.html#5906" class="Bound">rvs</a> <a id="6055" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="6059" class="Symbol">λ{</a> <a id="6062" class="Symbol">((</a><a id="6064" href="MJ.Semantics.Monadic.html#6064" class="Bound">sup</a> <a id="6068" href="Common.Strength.html#_%E2%8A%97_._%2C_" class="InductiveConstructor Operator">,</a> <a id="6070" href="MJ.Semantics.Monadic.html#6070" class="Bound">o∈W</a><a id="6073" class="Symbol">)</a> <a id="6075" href="Common.Strength.html#_%E2%8A%97_._%2C_" class="InductiveConstructor Operator">,</a> <a id="6077" href="MJ.Semantics.Monadic.html#6077" class="Bound">rvs</a><a id="6080" class="Symbol">)</a> <a id="6082" class="Symbol">→</a>
      <a id="6090" href="MJ.Semantics.Monadic.html#usingEnv" class="Function">usingEnv</a> <a id="6099" class="Symbol">(</a><a id="6100" href="MJ.Semantics.Monadic.html#6064" class="Bound">sup</a> <a id="6104" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="6106" href="MJ.Semantics.Monadic.html#6077" class="Bound">rvs</a><a id="6109" class="Symbol">)</a> <a id="6111" class="Symbol">(</a><a id="6112" href="MJ.Semantics.Monadic.html#eval-constructor" class="Function">eval-constructor</a> <a id="6129" href="MJ.Semantics.Monadic.html#5694" class="Bound">k</a> <a id="6131" href="MJ.Semantics.Monadic.html#5766" class="Bound">s&#39;</a> <a id="6134" href="MJ.Semantics.Monadic.html#6070" class="Bound">o∈W</a> <a id="6138" href="MJ.Semantics.Monadic.html#5794" class="Bound">super-con</a><a id="6147" class="Symbol">)</a> <a id="6149" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="6153" class="Symbol">λ</a> <a id="6155" href="MJ.Semantics.Monadic.html#6155" class="Bound">_</a> <a id="6157" class="Symbol">→</a>

      <a id="6166" class="Comment">-- evaluate own body</a>
      <a id="6193" href="MJ.Semantics.Monadic.html#eval-body" class="Function">eval-body</a> <a id="6203" href="MJ.Semantics.Monadic.html#5694" class="Bound">k</a> <a id="6205" href="MJ.Semantics.Monadic.html#5720" class="Bound">b</a> <a id="6207" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="6211" class="Symbol">λ</a> <a id="6213" href="MJ.Semantics.Monadic.html#6213" class="Bound">_</a> <a id="6215" class="Symbol">→</a>
      <a id="6223" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="6230" href="MJ.Semantics.Values.html#718" class="InductiveConstructor">unit</a>
    <a id="6239" class="Symbol">}}}</a>
  <a id="6245" href="MJ.Semantics.Monadic.html#eval-constructor" class="Function">eval-constructor</a> <a id="6262" class="Symbol">{_}{</a><a id="6266" href="MJ.Types.html#Cid.cls" class="InductiveConstructor">cls</a> <a id="6270" href="MJ.Semantics.Monadic.html#6270" class="Bound">id</a><a id="6272" class="Symbol">}</a> <a id="6274" class="Symbol">(</a><a id="6275" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="6279" href="MJ.Semantics.Monadic.html#6279" class="Bound">k</a><a id="6280" class="Symbol">)</a> <a id="6282" class="Symbol">_</a> <a id="6284" class="Symbol">_</a> <a id="6286" class="Symbol">(</a><a id="6287" href="MJ.Classtable.Code.html#1906" class="InductiveConstructor">body</a> <a id="6292" href="MJ.Semantics.Monadic.html#6292" class="Bound">x</a><a id="6293" class="Symbol">)</a> <a id="6295" class="Symbol">=</a> <a id="6297" href="MJ.Semantics.Monadic.html#eval-body" class="Function">eval-body</a> <a id="6307" href="MJ.Semantics.Monadic.html#6279" class="Bound">k</a> <a id="6309" href="MJ.Semantics.Monadic.html#6292" class="Bound">x</a> <a id="6311" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="6315" class="Symbol">λ</a> <a id="6317" href="MJ.Semantics.Monadic.html#6317" class="Bound">_</a> <a id="6319" class="Symbol">→</a> <a id="6321" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="6328" href="MJ.Semantics.Values.html#718" class="InductiveConstructor">unit</a>

  <a id="eval-method" href="MJ.Semantics.Monadic.html#eval-method" class="Function">eval-method</a> <a id="6348" class="Symbol">:</a> <a id="6350" class="Symbol">∀</a> <a id="6352" class="Symbol">{</a><a id="6353" href="MJ.Semantics.Monadic.html#6353" class="Bound">cid</a> <a id="6357" href="MJ.Semantics.Monadic.html#6357" class="Bound">m</a> <a id="6359" href="MJ.Semantics.Monadic.html#6359" class="Bound">as</a> <a id="6362" href="MJ.Semantics.Monadic.html#6362" class="Bound">b</a> <a id="6364" href="MJ.Semantics.Monadic.html#6364" class="Bound">pid</a> <a id="6368" href="MJ.Semantics.Monadic.html#6368" class="Bound">W</a> <a id="6370" href="MJ.Semantics.Monadic.html#6370" class="Bound">Γ</a><a id="6371" class="Symbol">}</a> <a id="6373" class="Symbol">→</a> <a id="6375" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="6377" class="Symbol">→</a>
                <a id="6395" href="MJ.Classtable.Core.html#1316" class="Function">Σ</a> <a id="6397" href="MJ.Classtable.Core.html#1181" class="Function Operator">⊢</a> <a id="6399" href="MJ.Semantics.Monadic.html#6353" class="Bound">cid</a> <a id="6403" href="MJ.Classtable.Core.html#1181" class="Function Operator">&lt;:</a> <a id="6406" href="MJ.Semantics.Monadic.html#6364" class="Bound">pid</a> <a id="6410" class="Symbol">→</a> <a id="6412" class="Symbol">(</a><a id="6413" href="MJ.Types.html#Ty%E2%81%BA.obj" class="InductiveConstructor">obj</a> <a id="6417" href="MJ.Semantics.Monadic.html#6353" class="Bound">cid</a><a id="6420" class="Symbol">)</a> <a id="6422" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="6424" href="MJ.Semantics.Monadic.html#6368" class="Bound">W</a> <a id="6426" class="Symbol">→</a>
                <a id="6444" href="Data.List.All.html#All" class="Datatype">All</a> <a id="6448" class="Symbol">(λ</a> <a id="6451" href="MJ.Semantics.Monadic.html#6451" class="Bound">ty</a> <a id="6454" class="Symbol">→</a> <a id="6456" href="MJ.Types.html#Ty%E2%81%BA.vty" class="InductiveConstructor">vty</a> <a id="6460" href="MJ.Semantics.Monadic.html#6451" class="Bound">ty</a> <a id="6463" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="6465" href="MJ.Semantics.Monadic.html#6368" class="Bound">W</a><a id="6466" class="Symbol">)</a> <a id="6468" href="MJ.Semantics.Monadic.html#6359" class="Bound">as</a> <a id="6471" class="Symbol">→</a>
                <a id="6489" href="MJ.Classtable.Code.html#2223" class="Function">InheritedMethod</a> <a id="6505" href="MJ.Semantics.Monadic.html#6364" class="Bound">pid</a> <a id="6509" href="MJ.Semantics.Monadic.html#6357" class="Bound">m</a> <a id="6511" class="Symbol">(</a><a id="6512" href="MJ.Semantics.Monadic.html#6359" class="Bound">as</a> <a id="6515" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="6517" href="MJ.Semantics.Monadic.html#6362" class="Bound">b</a><a id="6518" class="Symbol">)</a> <a id="6520" class="Symbol">→</a> <a id="6522" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="6524" href="MJ.Semantics.Monadic.html#6370" class="Bound">Γ</a> <a id="6526" href="MJ.Semantics.Monadic.html#6368" class="Bound">W</a> <a id="6528" class="Symbol">(</a><a id="6529" href="Function.html#flip" class="Function">flip</a> <a id="6534" href="MJ.Semantics.Values.html#656" class="Datatype">Val</a> <a id="6538" href="MJ.Semantics.Monadic.html#6362" class="Bound">b</a><a id="6539" class="Symbol">)</a>
  <a id="6543" href="MJ.Semantics.Monadic.html#eval-method" class="Function">eval-method</a> <a id="6555" href="Agda.Builtin.Nat.html#Nat.zero" class="InductiveConstructor">zero</a> <a id="6560" class="Symbol">_</a> <a id="6562" class="Symbol">_</a> <a id="6564" class="Symbol">_</a> <a id="6566" class="Symbol">_</a> <a id="6568" class="Symbol">=</a> <a id="6570" href="MJ.Semantics.Monadic.html#doTimeout" class="Function">doTimeout</a>
  <a id="6582" href="MJ.Semantics.Monadic.html#eval-method" class="Function">eval-method</a> <a id="6594" class="Symbol">(</a><a id="6595" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="6599" href="MJ.Semantics.Monadic.html#6599" class="Bound">k</a><a id="6600" class="Symbol">)</a> <a id="6602" href="MJ.Semantics.Monadic.html#6602" class="Bound">s</a> <a id="6604" href="MJ.Semantics.Monadic.html#6604" class="Bound">o</a> <a id="6606" href="MJ.Semantics.Monadic.html#6606" class="Bound">args</a> <a id="6611" class="Symbol">(</a><a id="6612" href="MJ.Semantics.Monadic.html#6612" class="Bound">pid&#39;</a> <a id="6617" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="6619" href="MJ.Semantics.Monadic.html#6619" class="Bound">pid&lt;:pid&#39;</a> <a id="6629" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="6631" href="MJ.Classtable.Code.html#1441" class="InductiveConstructor">body</a> <a id="6636" href="MJ.Semantics.Monadic.html#6636" class="Bound">b</a><a id="6637" class="Symbol">)</a> <a id="6639" class="Symbol">=</a>
    <a id="6645" href="MJ.Semantics.Monadic.html#store" class="Function">store</a> <a id="6651" class="Symbol">(</a><a id="6652" href="MJ.Semantics.Values.html#1657" class="InductiveConstructor">val</a> <a id="6656" class="Symbol">(</a><a id="6657" href="MJ.Semantics.Values.html#769" class="InductiveConstructor">ref</a> <a id="6661" href="MJ.Semantics.Monadic.html#6604" class="Bound">o</a> <a id="6663" class="Symbol">(</a><a id="6664" href="MJ.Semantics.Monadic.html#6602" class="Bound">s</a> <a id="6666" href="Data.Star.html#_%E2%97%85%E2%97%85_" class="Function Operator">◅◅</a> <a id="6669" href="MJ.Semantics.Monadic.html#6619" class="Bound">pid&lt;:pid&#39;</a><a id="6678" class="Symbol">)))</a> <a id="6682" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="6684" href="MJ.Semantics.Monadic.html#6606" class="Bound">args</a> <a id="6689" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="6693" class="Symbol">λ{</a> <a id="6696" class="Symbol">(</a><a id="6697" href="MJ.Semantics.Monadic.html#6697" class="Bound">mutself</a> <a id="6705" href="Common.Strength.html#_%E2%8A%97_._%2C_" class="InductiveConstructor Operator">,</a> <a id="6707" href="MJ.Semantics.Monadic.html#6707" class="Bound">args</a><a id="6711" class="Symbol">)</a> <a id="6713" class="Symbol">→</a>
    <a id="6719" href="MJ.Semantics.Monadic.html#usingEnv" class="Function">usingEnv</a> <a id="6728" class="Symbol">(</a><a id="6729" href="MJ.Semantics.Monadic.html#6697" class="Bound">mutself</a> <a id="6737" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="6739" href="MJ.Semantics.Monadic.html#6707" class="Bound">args</a><a id="6743" class="Symbol">)</a> <a id="6745" class="Symbol">(</a><a id="6746" href="MJ.Semantics.Monadic.html#eval-body" class="Function">eval-body</a> <a id="6756" href="MJ.Semantics.Monadic.html#6599" class="Bound">k</a> <a id="6758" href="MJ.Semantics.Monadic.html#6636" class="Bound">b</a><a id="6759" class="Symbol">)</a> <a id="6761" class="Symbol">}</a>
  <a id="6765" href="MJ.Semantics.Monadic.html#eval-method" class="Function">eval-method</a> <a id="6777" class="Symbol">{_}{</a><a id="6781" href="MJ.Semantics.Monadic.html#6781" class="Bound">m</a><a id="6782" class="Symbol">}{</a><a id="6784" href="MJ.Semantics.Monadic.html#6784" class="Bound">as</a><a id="6786" class="Symbol">}{</a><a id="6788" href="MJ.Semantics.Monadic.html#6788" class="Bound">b</a><a id="6789" class="Symbol">}</a> <a id="6791" class="Symbol">(</a><a id="6792" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="6796" href="MJ.Semantics.Monadic.html#6796" class="Bound">k</a><a id="6797" class="Symbol">)</a> <a id="6799" href="MJ.Semantics.Monadic.html#6799" class="Bound">s</a> <a id="6801" href="MJ.Semantics.Monadic.html#6801" class="Bound">o</a> <a id="6803" href="MJ.Semantics.Monadic.html#6803" class="Bound">args</a> <a id="6808" class="Symbol">(</a><a id="6809" href="MJ.Types.html#Cid.Object" class="InductiveConstructor">Object</a> <a id="6816" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="6818" class="Symbol">_</a> <a id="6820" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="6822" href="MJ.Classtable.Code.html#996" class="InductiveConstructor Operator">super</a> <a id="6828" href="MJ.Semantics.Monadic.html#6828" class="Bound">x</a> <a id="6830" href="MJ.Classtable.Code.html#996" class="InductiveConstructor Operator">⟨</a> <a id="6832" class="Symbol">_</a> <a id="6834" href="MJ.Classtable.Code.html#996" class="InductiveConstructor Operator">⟩then</a> <a id="6840" class="Symbol">_)</a> <a id="6843" class="Keyword">rewrite</a> <a id="6851" href="MJ.Classtable.Core.html#1430" class="Function">Σ-Object</a> <a id="6860" class="Symbol">=</a>
    <a id="6866" class="Comment">-- calling a method on Object is improbable...</a>
    <a id="6917" href="Data.Empty.html#%E2%8A%A5-elim" class="Function">⊥-elim</a> <a id="6924" class="Symbol">(</a><a id="6925" href="MJ.Classtable.Membership.html#886" class="Function">∉Object</a> <a id="6933" class="Symbol">{</a><a id="6934" href="MJ.Classtable.Core.html#351" class="InductiveConstructor">METHOD</a><a id="6940" class="Symbol">}{</a><a id="6942" href="MJ.Semantics.Monadic.html#6781" class="Bound">m</a><a id="6943" class="Symbol">}{(</a><a id="6946" href="MJ.Semantics.Monadic.html#6784" class="Bound">as</a> <a id="6949" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="6951" href="MJ.Semantics.Monadic.html#6788" class="Bound">b</a><a id="6952" class="Symbol">)}(</a><a id="6955" href="MJ.Classtable.Membership.html#2068" class="Function">sound</a> <a id="6961" href="MJ.Semantics.Monadic.html#6828" class="Bound">x</a><a id="6962" class="Symbol">))</a>
  <a id="6967" href="MJ.Semantics.Monadic.html#eval-method" class="Function">eval-method</a> <a id="6979" class="Symbol">(</a><a id="6980" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="6984" href="MJ.Semantics.Monadic.html#6984" class="Bound">k</a><a id="6985" class="Symbol">)</a> <a id="6987" href="MJ.Semantics.Monadic.html#6987" class="Bound">s</a> <a id="6989" href="MJ.Semantics.Monadic.html#6989" class="Bound">o</a> <a id="6991" href="MJ.Semantics.Monadic.html#6991" class="Bound">args</a> <a id="6996" class="Symbol">(</a><a id="6997" href="MJ.Types.html#Cid.cls" class="InductiveConstructor">cls</a> <a id="7001" href="MJ.Semantics.Monadic.html#7001" class="Bound">pid&#39;</a> <a id="7006" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="7008" href="MJ.Semantics.Monadic.html#7008" class="Bound">pid&lt;:pid&#39;</a> <a id="7018" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="7020" href="MJ.Classtable.Code.html#996" class="InductiveConstructor Operator">super</a> <a id="7026" href="MJ.Semantics.Monadic.html#7026" class="Bound">x</a> <a id="7028" href="MJ.Classtable.Code.html#996" class="InductiveConstructor Operator">⟨</a> <a id="7030" href="MJ.Semantics.Monadic.html#7030" class="Bound">supargs</a> <a id="7038" href="MJ.Classtable.Code.html#996" class="InductiveConstructor Operator">⟩then</a> <a id="7044" href="MJ.Semantics.Monadic.html#7044" class="Bound">b</a><a id="7045" class="Symbol">)</a> <a id="7047" class="Symbol">=</a>
    <a id="7053" class="Keyword">let</a> <a id="7057" href="MJ.Semantics.Monadic.html#7057" class="Bound">super-met</a> <a id="7067" class="Symbol">=</a> <a id="7069" href="MJ.Semantics.Monadic.html#mbody" class="Function">mbody</a> <a id="7075" class="Symbol">(</a><a id="7076" href="MJ.Classtable.Core.html#846" class="Field">Class.parent</a> <a id="7089" class="Symbol">(</a><a id="7090" href="MJ.Classtable.Core.html#1316" class="Function">Σ</a> <a id="7092" class="Symbol">(</a><a id="7093" href="MJ.Types.html#Cid.cls" class="InductiveConstructor">cls</a> <a id="7097" href="MJ.Semantics.Monadic.html#7001" class="Bound">pid&#39;</a><a id="7101" class="Symbol">)))</a> <a id="7105" href="MJ.Semantics.Monadic.html#7026" class="Bound">x</a> <a id="7107" class="Keyword">in</a>
      <a id="7116" href="MJ.Semantics.Monadic.html#store" class="Function">store</a> <a id="7122" class="Symbol">(</a><a id="7123" href="MJ.Semantics.Values.html#1657" class="InductiveConstructor">val</a> <a id="7127" class="Symbol">(</a><a id="7128" href="MJ.Semantics.Values.html#769" class="InductiveConstructor">ref</a> <a id="7132" href="MJ.Semantics.Monadic.html#6989" class="Bound">o</a> <a id="7134" class="Symbol">(</a><a id="7135" href="MJ.Semantics.Monadic.html#6987" class="Bound">s</a> <a id="7137" href="Data.Star.html#_%E2%97%85%E2%97%85_" class="Function Operator">◅◅</a> <a id="7140" href="MJ.Semantics.Monadic.html#7008" class="Bound">pid&lt;:pid&#39;</a><a id="7149" class="Symbol">)))</a> <a id="7153" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="7155" class="Symbol">(</a><a id="7156" href="MJ.Semantics.Monadic.html#6991" class="Bound">args</a> <a id="7161" href="Common.Strength.html#_%E2%80%B2_" class="Function Operator">′</a> <a id="7163" href="MJ.Semantics.Monadic.html#6989" class="Bound">o</a><a id="7164" class="Symbol">)</a> <a id="7166" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="7170" class="Symbol">λ{</a> <a id="7173" class="Symbol">(</a><a id="7174" href="MJ.Semantics.Monadic.html#7174" class="Bound">mutself</a> <a id="7182" href="Common.Strength.html#_%E2%8A%97_._%2C_" class="InductiveConstructor Operator">,</a> <a id="7184" href="MJ.Semantics.Monadic.html#7184" class="Bound">args</a> <a id="7189" href="Common.Strength.html#_%E2%8A%97_._%2C_" class="InductiveConstructor Operator">,</a> <a id="7191" href="MJ.Semantics.Monadic.html#7191" class="Bound">o</a><a id="7192" class="Symbol">)</a> <a id="7194" class="Symbol">→</a>
      <a id="7202" class="Comment">-- eval super args in method context</a>
      <a id="7245" href="MJ.Semantics.Monadic.html#usingEnv" class="Function">usingEnv</a> <a id="7254" class="Symbol">(</a><a id="7255" href="MJ.Semantics.Monadic.html#7174" class="Bound">mutself</a> <a id="7263" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="7265" href="MJ.Semantics.Monadic.html#7184" class="Bound">args</a><a id="7269" class="Symbol">)</a> <a id="7271" class="Symbol">(</a><a id="7272" href="MJ.Semantics.Monadic.html#eval-args" class="Function">eval-args</a> <a id="7282" href="MJ.Semantics.Monadic.html#6984" class="Bound">k</a> <a id="7284" href="MJ.Semantics.Monadic.html#7030" class="Bound">supargs</a><a id="7291" class="Symbol">)</a> <a id="7293" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="7295" class="Symbol">(</a><a id="7296" href="MJ.Semantics.Monadic.html#7184" class="Bound">args</a> <a id="7301" href="Common.Strength.html#_%E2%80%B2_" class="Function Operator">′</a> <a id="7303" href="MJ.Semantics.Monadic.html#7191" class="Bound">o</a><a id="7304" class="Symbol">)</a> <a id="7306" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="7310" class="Symbol">λ{</a> <a id="7313" class="Symbol">(</a><a id="7314" href="MJ.Semantics.Monadic.html#7314" class="Bound">rvs</a> <a id="7318" href="Common.Strength.html#_%E2%8A%97_._%2C_" class="InductiveConstructor Operator">,</a> <a id="7320" href="MJ.Semantics.Monadic.html#7320" class="Bound">args</a> <a id="7325" href="Common.Strength.html#_%E2%8A%97_._%2C_" class="InductiveConstructor Operator">,</a> <a id="7327" href="MJ.Semantics.Monadic.html#7327" class="Bound">o</a><a id="7328" class="Symbol">)</a> <a id="7330" class="Symbol">→</a>
      <a id="7338" class="Comment">-- call super</a>
      <a id="7358" href="MJ.Semantics.Monadic.html#eval-method" class="Function">eval-method</a> <a id="7370" href="MJ.Semantics.Monadic.html#6984" class="Bound">k</a> <a id="7372" class="Symbol">(</a><a id="7373" href="MJ.Semantics.Monadic.html#6987" class="Bound">s</a> <a id="7375" href="Data.Star.html#_%E2%97%85%E2%97%85_" class="Function Operator">◅◅</a> <a id="7378" href="MJ.Semantics.Monadic.html#7008" class="Bound">pid&lt;:pid&#39;</a> <a id="7388" href="Data.Star.html#_%E2%97%85%E2%97%85_" class="Function Operator">◅◅</a> <a id="7391" href="MJ.Classtable.Core.html#1095" class="InductiveConstructor">super</a> <a id="7397" href="Data.Star.html#Star._%E2%97%85_" class="InductiveConstructor Operator">◅</a> <a id="7399" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a><a id="7400" class="Symbol">)</a> <a id="7402" href="MJ.Semantics.Monadic.html#7327" class="Bound">o</a> <a id="7404" href="MJ.Semantics.Monadic.html#7314" class="Bound">rvs</a> <a id="7408" href="MJ.Semantics.Monadic.html#7057" class="Bound">super-met</a> <a id="7418" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="7420" class="Symbol">(</a><a id="7421" href="MJ.Semantics.Monadic.html#7320" class="Bound">args</a> <a id="7426" href="Common.Strength.html#_%E2%80%B2_" class="Function Operator">′</a> <a id="7428" href="MJ.Semantics.Monadic.html#7327" class="Bound">o</a><a id="7429" class="Symbol">)</a> <a id="7431" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="7435" class="Symbol">λ{</a> <a id="7438" class="Symbol">(</a><a id="7439" href="MJ.Semantics.Monadic.html#7439" class="Bound">retv</a> <a id="7444" href="Common.Strength.html#_%E2%8A%97_._%2C_" class="InductiveConstructor Operator">,</a> <a id="7446" href="MJ.Semantics.Monadic.html#7446" class="Bound">args</a> <a id="7451" href="Common.Strength.html#_%E2%8A%97_._%2C_" class="InductiveConstructor Operator">,</a> <a id="7453" href="MJ.Semantics.Monadic.html#7453" class="Bound">o</a><a id="7454" class="Symbol">)</a> <a id="7456" class="Symbol">→</a>
      <a id="7464" class="Comment">-- store the super return value to be used as a mutable local</a>
      <a id="7532" href="MJ.Semantics.Monadic.html#store" class="Function">store</a> <a id="7538" class="Symbol">(</a><a id="7539" href="MJ.Semantics.Values.html#1657" class="InductiveConstructor">val</a> <a id="7543" href="MJ.Semantics.Monadic.html#7439" class="Bound">retv</a><a id="7547" class="Symbol">)</a> <a id="7549" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="7551" class="Symbol">(</a><a id="7552" href="MJ.Semantics.Monadic.html#7446" class="Bound">args</a> <a id="7557" href="Common.Strength.html#_%E2%80%B2_" class="Function Operator">′</a> <a id="7559" href="MJ.Semantics.Monadic.html#7453" class="Bound">o</a><a id="7560" class="Symbol">)</a> <a id="7562" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="7566" class="Symbol">λ{</a> <a id="7569" class="Symbol">(</a><a id="7570" href="MJ.Semantics.Monadic.html#7570" class="Bound">mutret</a> <a id="7577" href="Common.Strength.html#_%E2%8A%97_._%2C_" class="InductiveConstructor Operator">,</a> <a id="7579" href="MJ.Semantics.Monadic.html#7579" class="Bound">args</a> <a id="7584" href="Common.Strength.html#_%E2%8A%97_._%2C_" class="InductiveConstructor Operator">,</a> <a id="7586" href="MJ.Semantics.Monadic.html#7586" class="Bound">o</a><a id="7587" class="Symbol">)</a> <a id="7589" class="Symbol">→</a>
      <a id="7597" class="Comment">-- store the mutable &quot;this&quot;</a>
      <a id="7631" href="MJ.Semantics.Monadic.html#store" class="Function">store</a> <a id="7637" class="Symbol">(</a><a id="7638" href="MJ.Semantics.Values.html#1657" class="InductiveConstructor">val</a> <a id="7642" class="Symbol">(</a><a id="7643" href="MJ.Semantics.Values.html#769" class="InductiveConstructor">ref</a> <a id="7647" href="MJ.Semantics.Monadic.html#7586" class="Bound">o</a> <a id="7649" class="Symbol">(</a><a id="7650" href="MJ.Semantics.Monadic.html#6987" class="Bound">s</a> <a id="7652" href="Data.Star.html#_%E2%97%85%E2%97%85_" class="Function Operator">◅◅</a> <a id="7655" href="MJ.Semantics.Monadic.html#7008" class="Bound">pid&lt;:pid&#39;</a><a id="7664" class="Symbol">)))</a> <a id="7668" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="7670" class="Symbol">(</a><a id="7671" href="MJ.Semantics.Monadic.html#7570" class="Bound">mutret</a> <a id="7678" href="Common.Strength.html#_%E2%80%B2_" class="Function Operator">′</a> <a id="7680" href="MJ.Semantics.Monadic.html#7579" class="Bound">args</a><a id="7684" class="Symbol">)</a> <a id="7686" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="7690" class="Symbol">λ{</a> <a id="7693" class="Symbol">(</a><a id="7694" href="MJ.Semantics.Monadic.html#7694" class="Bound">mutself&#39;</a> <a id="7703" href="Common.Strength.html#_%E2%8A%97_._%2C_" class="InductiveConstructor Operator">,</a> <a id="7705" href="MJ.Semantics.Monadic.html#7705" class="Bound">mutret</a> <a id="7712" href="Common.Strength.html#_%E2%8A%97_._%2C_" class="InductiveConstructor Operator">,</a> <a id="7714" href="MJ.Semantics.Monadic.html#7714" class="Bound">args</a><a id="7718" class="Symbol">)</a> <a id="7720" class="Symbol">→</a>
      <a id="7728" class="Comment">-- call body</a>
      <a id="7747" href="MJ.Semantics.Monadic.html#usingEnv" class="Function">usingEnv</a> <a id="7756" class="Symbol">(</a><a id="7757" href="MJ.Semantics.Monadic.html#7705" class="Bound">mutret</a> <a id="7764" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="7766" href="MJ.Semantics.Monadic.html#7694" class="Bound">mutself&#39;</a> <a id="7775" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="7777" href="MJ.Semantics.Monadic.html#7714" class="Bound">args</a><a id="7781" class="Symbol">)</a> <a id="7783" class="Symbol">(</a><a id="7784" href="MJ.Semantics.Monadic.html#eval-body" class="Function">eval-body</a> <a id="7794" href="MJ.Semantics.Monadic.html#6984" class="Bound">k</a> <a id="7796" href="MJ.Semantics.Monadic.html#7044" class="Bound">b</a><a id="7797" class="Symbol">)</a> <a id="7799" class="Symbol">}}}}}</a>

  <a id="7808" class="Comment">--</a>
  <a id="7813" class="Comment">-- evaluation of expressions</a>
  <a id="7844" class="Comment">--</a>

  <a id="evalₑ" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="7856" class="Symbol">:</a> <a id="7858" class="Symbol">∀</a> <a id="7860" class="Symbol">{</a><a id="7861" href="MJ.Semantics.Monadic.html#7861" class="Bound">Γ</a> <a id="7863" class="Symbol">:</a> <a id="7865" href="MJ.LexicalScope.html#226" class="Function">Ctx</a><a id="7868" class="Symbol">}{</a><a id="7870" href="MJ.Semantics.Monadic.html#7870" class="Bound">a</a><a id="7871" class="Symbol">}</a> <a id="7873" class="Symbol">→</a> <a id="7875" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="7877" class="Symbol">→</a> <a id="7879" href="MJ.Syntax.Typed.html#678" class="Datatype">Expr</a> <a id="7884" href="MJ.Semantics.Monadic.html#7861" class="Bound">Γ</a> <a id="7886" href="MJ.Semantics.Monadic.html#7870" class="Bound">a</a> <a id="7888" class="Symbol">→</a> <a id="7890" class="Symbol">∀</a> <a id="7892" class="Symbol">{</a><a id="7893" href="MJ.Semantics.Monadic.html#7893" class="Bound">W</a><a id="7894" class="Symbol">}</a> <a id="7896" class="Symbol">→</a> <a id="7898" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="7900" href="MJ.Semantics.Monadic.html#7861" class="Bound">Γ</a> <a id="7902" href="MJ.Semantics.Monadic.html#7893" class="Bound">W</a> <a id="7904" class="Symbol">(</a><a id="7905" href="Function.html#flip" class="Function">flip</a> <a id="7910" href="MJ.Semantics.Values.html#656" class="Datatype">Val</a> <a id="7914" href="MJ.Semantics.Monadic.html#7870" class="Bound">a</a><a id="7915" class="Symbol">)</a>
  <a id="7919" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="7925" href="Agda.Builtin.Nat.html#Nat.zero" class="InductiveConstructor">zero</a> <a id="7930" class="Symbol">_</a> <a id="7932" class="Symbol">=</a> <a id="7934" href="MJ.Semantics.Monadic.html#doTimeout" class="Function">doTimeout</a>

  <a id="7947" class="Comment">-- primitive values</a>
  <a id="7969" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="7975" class="Symbol">(</a><a id="7976" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="7980" href="MJ.Semantics.Monadic.html#7980" class="Bound">k</a><a id="7981" class="Symbol">)</a> <a id="7983" href="MJ.Syntax.Typed.html#743" class="InductiveConstructor">unit</a> <a id="7988" class="Symbol">=</a>
    <a id="7994" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="8001" href="MJ.Semantics.Values.html#718" class="InductiveConstructor">unit</a>

  <a id="8009" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="8015" class="Symbol">(</a><a id="8016" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="8020" href="MJ.Semantics.Monadic.html#8020" class="Bound">k</a><a id="8021" class="Symbol">)</a> <a id="8023" class="Symbol">(</a><a id="8024" href="MJ.Syntax.Typed.html#804" class="InductiveConstructor">num</a> <a id="8028" href="MJ.Semantics.Monadic.html#8028" class="Bound">n</a><a id="8029" class="Symbol">)</a> <a id="8031" class="Symbol">=</a>
    <a id="8037" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="8044" class="Symbol">(</a><a id="8045" href="MJ.Semantics.Values.html#695" class="InductiveConstructor">num</a> <a id="8049" href="MJ.Semantics.Monadic.html#8028" class="Bound">n</a><a id="8050" class="Symbol">)</a>

  <a id="8055" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="8061" class="Symbol">(</a><a id="8062" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="8066" href="MJ.Semantics.Monadic.html#8066" class="Bound">k</a><a id="8067" class="Symbol">)</a> <a id="8069" href="MJ.Syntax.Typed.html#768" class="InductiveConstructor">null</a> <a id="8074" class="Symbol">=</a>
    <a id="8080" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="8087" href="MJ.Semantics.Values.html#738" class="InductiveConstructor">null</a>

  <a id="8095" class="Comment">-- variable lookup</a>
  <a id="8116" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="8122" class="Symbol">(</a><a id="8123" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="8127" href="MJ.Semantics.Monadic.html#8127" class="Bound">k</a><a id="8128" class="Symbol">)</a> <a id="8130" class="Symbol">(</a><a id="8131" href="MJ.Syntax.Typed.html#860" class="InductiveConstructor">var</a> <a id="8135" href="MJ.Semantics.Monadic.html#8135" class="Bound">x</a><a id="8136" class="Symbol">)</a> <a id="8138" class="Symbol">=</a>
    <a id="8144" href="MJ.Semantics.Monadic.html#getEnv" class="Function">getEnv</a> <a id="8151" class="Symbol">(λ</a> <a id="8154" href="MJ.Semantics.Monadic.html#8154" class="Bound">E</a> <a id="8156" class="Symbol">→</a> <a id="8158" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="8165" href="Function.html#_%24_" class="Function Operator">$</a> <a id="8167" href="MJ.Semantics.Values.html#1158" class="Function">getvar</a> <a id="8174" href="MJ.Semantics.Monadic.html#8135" class="Bound">x</a> <a id="8176" href="MJ.Semantics.Monadic.html#8154" class="Bound">E</a><a id="8177" class="Symbol">)</a> <a id="8179" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="8183" class="Symbol">λ</a> <a id="8185" href="MJ.Semantics.Monadic.html#8185" class="Bound">v</a> <a id="8187" class="Symbol">→</a>
    <a id="8193" href="MJ.Semantics.Monadic.html#deref" class="Function">deref</a> <a id="8199" href="MJ.Semantics.Monadic.html#8185" class="Bound">v</a> <a id="8201" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="8205" class="Symbol">λ{</a> <a id="8208" class="Symbol">(</a><a id="8209" href="MJ.Semantics.Values.html#1657" class="InductiveConstructor">val</a> <a id="8213" href="MJ.Semantics.Monadic.html#8213" class="Bound">w</a><a id="8214" class="Symbol">)</a> <a id="8216" class="Symbol">→</a>
    <a id="8222" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="8229" href="MJ.Semantics.Monadic.html#8213" class="Bound">w</a> <a id="8231" class="Symbol">}</a>

  <a id="8236" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="8242" class="Symbol">(</a><a id="8243" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="8247" href="MJ.Semantics.Monadic.html#8247" class="Bound">k</a><a id="8248" class="Symbol">)</a> <a id="8250" class="Symbol">(</a><a id="8251" href="MJ.Syntax.Typed.html#959" class="InductiveConstructor">upcast</a> <a id="8258" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a> <a id="8260" href="MJ.Semantics.Monadic.html#8260" class="Bound">e</a><a id="8261" class="Symbol">)</a> <a id="8263" class="Symbol">=</a> <a id="8265" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="8271" href="MJ.Semantics.Monadic.html#8247" class="Bound">k</a> <a id="8273" href="MJ.Semantics.Monadic.html#8260" class="Bound">e</a>
  <a id="8277" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="8283" class="Symbol">(</a><a id="8284" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="8288" href="MJ.Semantics.Monadic.html#8288" class="Bound">k</a><a id="8289" class="Symbol">)</a> <a id="8291" class="Symbol">(</a><a id="8292" href="MJ.Syntax.Typed.html#959" class="InductiveConstructor">upcast</a> <a id="8299" href="MJ.Semantics.Monadic.html#8299" class="Bound">s₁</a><a id="8301" class="Symbol">@(_</a> <a id="8305" href="Data.Star.html#Star._%E2%97%85_" class="InductiveConstructor Operator">◅</a> <a id="8307" class="Symbol">_)</a> <a id="8310" href="MJ.Semantics.Monadic.html#8310" class="Bound">e</a><a id="8311" class="Symbol">)</a> <a id="8313" class="Symbol">=</a> <a id="8315" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="8321" href="MJ.Semantics.Monadic.html#8288" class="Bound">k</a> <a id="8323" href="MJ.Semantics.Monadic.html#8310" class="Bound">e</a> <a id="8325" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="8329" class="Symbol">λ{</a>
      <a id="8338" class="Symbol">(</a><a id="8339" href="MJ.Semantics.Values.html#769" class="InductiveConstructor">ref</a> <a id="8343" href="MJ.Semantics.Monadic.html#8343" class="Bound">o</a> <a id="8345" href="MJ.Semantics.Monadic.html#8345" class="Bound">s₂</a> <a id="8348" class="Symbol">)</a> <a id="8350" class="Symbol">→</a> <a id="8352" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="8359" href="Function.html#_%24_" class="Function Operator">$</a> <a id="8361" href="MJ.Semantics.Values.html#769" class="InductiveConstructor">ref</a> <a id="8365" href="MJ.Semantics.Monadic.html#8343" class="Bound">o</a> <a id="8367" class="Symbol">(</a><a id="8368" href="MJ.Semantics.Monadic.html#8345" class="Bound">s₂</a> <a id="8371" href="Data.Star.html#_%E2%97%85%E2%97%85_" class="Function Operator">◅◅</a> <a id="8374" href="MJ.Semantics.Monadic.html#8299" class="Bound">s₁</a><a id="8376" class="Symbol">)</a> <a id="8378" class="Symbol">;</a>
      <a id="8386" href="MJ.Semantics.Values.html#738" class="InductiveConstructor">null</a> <a id="8391" class="Symbol">→</a> <a id="8393" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="8400" href="MJ.Semantics.Values.html#738" class="InductiveConstructor">null</a>
    <a id="8409" class="Symbol">}</a>

  <a id="8414" class="Comment">-- binary interger operations</a>
  <a id="8446" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="8452" class="Symbol">(</a><a id="8453" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="8457" href="MJ.Semantics.Monadic.html#8457" class="Bound">k</a><a id="8458" class="Symbol">)</a> <a id="8460" class="Symbol">(</a><a id="8461" href="MJ.Syntax.Typed.html#900" class="InductiveConstructor">iop</a> <a id="8465" href="MJ.Semantics.Monadic.html#8465" class="Bound">f</a> <a id="8467" href="MJ.Semantics.Monadic.html#8467" class="Bound">l</a> <a id="8469" href="MJ.Semantics.Monadic.html#8469" class="Bound">r</a><a id="8470" class="Symbol">)</a> <a id="8472" class="Symbol">=</a>
    <a id="8478" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="8484" href="MJ.Semantics.Monadic.html#8457" class="Bound">k</a> <a id="8486" href="MJ.Semantics.Monadic.html#8467" class="Bound">l</a> <a id="8488" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="8492" class="Symbol">λ{</a> <a id="8495" class="Symbol">(</a><a id="8496" href="MJ.Semantics.Values.html#695" class="InductiveConstructor">num</a> <a id="8500" href="MJ.Semantics.Monadic.html#8500" class="Bound">vₗ</a><a id="8502" class="Symbol">)</a> <a id="8504" class="Symbol">→</a>
    <a id="8510" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="8516" href="MJ.Semantics.Monadic.html#8457" class="Bound">k</a> <a id="8518" href="MJ.Semantics.Monadic.html#8469" class="Bound">r</a> <a id="8520" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="8524" class="Symbol">λ{</a> <a id="8527" class="Symbol">(</a><a id="8528" href="MJ.Semantics.Values.html#695" class="InductiveConstructor">num</a> <a id="8532" href="MJ.Semantics.Monadic.html#8532" class="Bound">vᵣ</a><a id="8534" class="Symbol">)</a> <a id="8536" class="Symbol">→</a>
    <a id="8542" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="8549" class="Symbol">(</a><a id="8550" href="MJ.Semantics.Values.html#695" class="InductiveConstructor">num</a> <a id="8554" class="Symbol">(</a><a id="8555" href="MJ.Semantics.Monadic.html#8465" class="Bound">f</a> <a id="8557" href="MJ.Semantics.Monadic.html#8500" class="Bound">vₗ</a> <a id="8560" href="MJ.Semantics.Monadic.html#8532" class="Bound">vᵣ</a><a id="8562" class="Symbol">))</a> <a id="8565" class="Symbol">}}</a>

  <a id="8571" class="Comment">-- method calls</a>
  <a id="8589" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="8595" class="Symbol">(</a><a id="8596" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="8600" href="MJ.Semantics.Monadic.html#8600" class="Bound">k</a><a id="8601" class="Symbol">)</a> <a id="8603" class="Symbol">(</a><a id="8604" href="MJ.Syntax.Typed.html#1115" class="InductiveConstructor">call</a> <a id="8609" href="MJ.Semantics.Monadic.html#8609" class="Bound">e</a> <a id="8611" class="Symbol">_</a> <a id="8613" class="Symbol">{</a><a id="8614" class="Argument">acc</a> <a id="8618" class="Symbol">=</a> <a id="8620" href="MJ.Semantics.Monadic.html#8620" class="Bound">mtd</a><a id="8623" class="Symbol">}</a> <a id="8625" href="MJ.Semantics.Monadic.html#8625" class="Bound">args</a><a id="8629" class="Symbol">)</a> <a id="8631" class="Symbol">=</a>
    <a id="8637" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="8643" href="MJ.Semantics.Monadic.html#8600" class="Bound">k</a> <a id="8645" href="MJ.Semantics.Monadic.html#8609" class="Bound">e</a> <a id="8647" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="8651" class="Symbol">λ{</a>
      <a id="8660" href="MJ.Semantics.Values.html#738" class="InductiveConstructor">null</a> <a id="8665" class="Symbol">→</a> <a id="8667" href="MJ.Semantics.Monadic.html#raiseM" class="Function">raiseM</a> <a id="8674" href="MJ.Semantics.Monadic.html#Exception.nullderef" class="InductiveConstructor">nullderef</a> <a id="8684" class="Symbol">;</a>
      <a id="8692" href="MJ.Semantics.Monadic.html#8692" class="Bound">r</a><a id="8693" class="Symbol">@(</a><a id="8695" href="MJ.Semantics.Values.html#769" class="InductiveConstructor">ref</a> <a id="8699" class="Symbol">{</a><a id="8700" href="MJ.Semantics.Monadic.html#8700" class="Bound">dyn-cid</a><a id="8707" class="Symbol">}</a> <a id="8709" href="MJ.Semantics.Monadic.html#8709" class="Bound">o</a> <a id="8711" href="MJ.Semantics.Monadic.html#8711" class="Bound">s₁</a><a id="8713" class="Symbol">)</a> <a id="8715" class="Symbol">→</a>
        <a id="8725" class="Comment">-- evaluate the arguments</a>
        <a id="8759" href="MJ.Semantics.Monadic.html#eval-args" class="Function">eval-args</a> <a id="8769" href="MJ.Semantics.Monadic.html#8600" class="Bound">k</a> <a id="8771" href="MJ.Semantics.Monadic.html#8625" class="Bound">args</a> <a id="8776" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="8778" href="MJ.Semantics.Monadic.html#8709" class="Bound">o</a> <a id="8780" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="8784" class="Symbol">λ{</a> <a id="8787" class="Symbol">(</a><a id="8788" href="MJ.Semantics.Monadic.html#8788" class="Bound">rvs</a> <a id="8792" href="Common.Strength.html#_%E2%8A%97_._%2C_" class="InductiveConstructor Operator">,</a> <a id="8794" href="MJ.Semantics.Monadic.html#8794" class="Bound">o</a><a id="8795" class="Symbol">)</a> <a id="8797" class="Symbol">→</a>
        <a id="8807" href="MJ.Semantics.Monadic.html#store" class="Function">store</a> <a id="8813" class="Symbol">(</a><a id="8814" href="MJ.Semantics.Values.html#1657" class="InductiveConstructor">val</a> <a id="8818" class="Symbol">(</a><a id="8819" href="MJ.Semantics.Values.html#769" class="InductiveConstructor">ref</a> <a id="8823" href="MJ.Semantics.Monadic.html#8794" class="Bound">o</a> <a id="8825" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a><a id="8826" class="Symbol">))</a> <a id="8829" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="8831" class="Symbol">(</a><a id="8832" href="MJ.Semantics.Monadic.html#8794" class="Bound">o</a> <a id="8834" href="Common.Strength.html#_%E2%80%B2_" class="Function Operator">′</a> <a id="8836" href="MJ.Semantics.Monadic.html#8788" class="Bound">rvs</a><a id="8839" class="Symbol">)</a> <a id="8841" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="8845" class="Symbol">λ{</a> <a id="8848" class="Symbol">(</a><a id="8849" href="MJ.Semantics.Monadic.html#8849" class="Bound">mutself</a> <a id="8857" href="Common.Strength.html#_%E2%8A%97_._%2C_" class="InductiveConstructor Operator">,</a> <a id="8859" href="MJ.Semantics.Monadic.html#8859" class="Bound">o</a> <a id="8861" href="Common.Strength.html#_%E2%8A%97_._%2C_" class="InductiveConstructor Operator">,</a> <a id="8863" href="MJ.Semantics.Monadic.html#8863" class="Bound">rvs</a><a id="8866" class="Symbol">)</a> <a id="8868" class="Symbol">→</a>
        <a id="8878" class="Comment">-- dynamic lookup of the method on the runtime class of the reference</a>
        <a id="8956" class="Comment">-- and execution of the call</a>
        <a id="8993" class="Symbol">(</a><a id="8994" href="MJ.Semantics.Monadic.html#eval-method" class="Function">eval-method</a> <a id="9006" href="MJ.Semantics.Monadic.html#8600" class="Bound">k</a> <a id="9008" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a> <a id="9010" href="MJ.Semantics.Monadic.html#8859" class="Bound">o</a> <a id="9012" href="MJ.Semantics.Monadic.html#8863" class="Bound">rvs</a> <a id="9016" class="Symbol">(</a><a id="9017" href="MJ.Semantics.Monadic.html#mbody" class="Function">mbody</a> <a id="9023" href="MJ.Semantics.Monadic.html#8700" class="Bound">dyn-cid</a> <a id="9031" class="Symbol">(</a><a id="9032" href="MJ.Classtable.Membership.html#2286" class="Function">inherit</a> <a id="9040" class="Symbol">_</a> <a id="9042" href="MJ.Semantics.Monadic.html#8711" class="Bound">s₁</a> <a id="9045" href="MJ.Semantics.Monadic.html#8620" class="Bound">mtd</a><a id="9048" class="Symbol">)))</a> <a id="9052" class="Symbol">}}}</a>

  <a id="9059" class="Comment">-- field lookup in the heap</a>
  <a id="9089" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="9095" class="Symbol">(</a><a id="9096" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="9100" href="MJ.Semantics.Monadic.html#9100" class="Bound">k</a><a id="9101" class="Symbol">)</a> <a id="9103" class="Symbol">(</a><a id="9104" href="MJ.Syntax.Typed.html#1263" class="InductiveConstructor">get</a> <a id="9108" href="MJ.Semantics.Monadic.html#9108" class="Bound">e</a> <a id="9110" class="Symbol">_</a> <a id="9112" class="Symbol">{_}{</a><a id="9116" href="MJ.Semantics.Monadic.html#9116" class="Bound">fld</a><a id="9119" class="Symbol">})</a> <a id="9122" class="Symbol">=</a>
    <a id="9128" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="9134" href="MJ.Semantics.Monadic.html#9100" class="Bound">k</a> <a id="9136" href="MJ.Semantics.Monadic.html#9108" class="Bound">e</a> <a id="9138" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="9142" class="Symbol">λ{</a>
      <a id="9151" href="MJ.Semantics.Values.html#738" class="InductiveConstructor">null</a> <a id="9156" class="Symbol">→</a> <a id="9158" href="MJ.Semantics.Monadic.html#raiseM" class="Function">raiseM</a> <a id="9165" href="MJ.Semantics.Monadic.html#Exception.nullderef" class="InductiveConstructor">nullderef</a> <a id="9175" class="Symbol">;</a>
      <a id="9183" class="Symbol">(</a><a id="9184" href="MJ.Semantics.Values.html#769" class="InductiveConstructor">ref</a> <a id="9188" href="MJ.Semantics.Monadic.html#9188" class="Bound">o</a> <a id="9190" href="MJ.Semantics.Monadic.html#9190" class="Bound">s</a><a id="9191" class="Symbol">)</a> <a id="9193" class="Symbol">→</a>
      <a id="9201" href="MJ.Semantics.Monadic.html#deref" class="Function">deref</a> <a id="9207" href="MJ.Semantics.Monadic.html#9188" class="Bound">o</a> <a id="9209" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="9213" class="Symbol">λ{</a> <a id="9216" class="Symbol">(</a><a id="9217" href="MJ.Semantics.Values.html#1707" class="InductiveConstructor">obj</a> <a id="9221" href="MJ.Semantics.Monadic.html#9221" class="Bound">c</a> <a id="9223" href="MJ.Semantics.Monadic.html#9223" class="Bound">O</a><a id="9224" class="Symbol">)</a> <a id="9226" class="Symbol">→</a>
      <a id="9234" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="9241" class="Symbol">(</a><a id="9242" href="MJ.Semantics.Values.html#1422" class="Function">getter</a> <a id="9249" class="Symbol">_</a> <a id="9251" href="MJ.Semantics.Monadic.html#9223" class="Bound">O</a> <a id="9253" href="Function.html#_%24_" class="Function Operator">$</a> <a id="9255" href="MJ.Classtable.Membership.html#2162" class="Function">inherit&#39;</a> <a id="9264" href="MJ.Semantics.Monadic.html#9190" class="Bound">s</a> <a id="9266" class="Symbol">(</a><a id="9267" href="MJ.Classtable.Membership.html#2068" class="Function">sound</a> <a id="9273" href="MJ.Semantics.Monadic.html#9116" class="Bound">fld</a><a id="9276" class="Symbol">))</a> <a id="9279" class="Symbol">}}</a>

  <a id="9285" class="Comment">-- object allocation</a>
  <a id="9308" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="9314" class="Symbol">(</a><a id="9315" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="9319" href="MJ.Semantics.Monadic.html#9319" class="Bound">k</a><a id="9320" class="Symbol">)</a> <a id="9322" class="Symbol">(</a><a id="9323" href="MJ.Syntax.Typed.html#1045" class="InductiveConstructor">new</a> <a id="9327" href="MJ.Semantics.Monadic.html#9327" class="Bound">C</a> <a id="9329" href="MJ.Semantics.Monadic.html#9329" class="Bound">args</a><a id="9333" class="Symbol">)</a> <a id="9335" class="Symbol">=</a>
    <a id="9341" href="MJ.Semantics.Monadic.html#eval-args" class="Function">eval-args</a> <a id="9351" href="MJ.Semantics.Monadic.html#9319" class="Bound">k</a> <a id="9353" href="MJ.Semantics.Monadic.html#9329" class="Bound">args</a> <a id="9358" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="9362" class="Symbol">λ</a> <a id="9364" href="MJ.Semantics.Monadic.html#9364" class="Bound">rvs</a> <a id="9368" class="Symbol">→</a>
    <a id="9374" href="MJ.Semantics.Monadic.html#usingEnv" class="Function">usingEnv</a> <a id="9383" href="MJ.Semantics.Monadic.html#9364" class="Bound">rvs</a> <a id="9387" class="Symbol">(</a><a id="9388" href="MJ.Semantics.Monadic.html#constructM" class="Function">constructM</a> <a id="9399" href="MJ.Semantics.Monadic.html#9319" class="Bound">k</a> <a id="9401" href="MJ.Semantics.Monadic.html#9327" class="Bound">C</a><a id="9402" class="Symbol">)</a>

  <a id="9407" class="Comment">--</a>
  <a id="9412" class="Comment">-- command evaluation</a>
  <a id="9436" class="Comment">--</a>

  <a id="_&gt;&gt;=c_" href="MJ.Semantics.Monadic.html#_%3E%3E%3Dc_" class="Function Operator">_&gt;&gt;=c_</a> <a id="9449" class="Symbol">:</a> <a id="9451" class="Symbol">∀</a> <a id="9453" class="Symbol">{</a><a id="9454" href="MJ.Semantics.Monadic.html#9454" class="Bound">I</a> <a id="9456" href="MJ.Semantics.Monadic.html#9456" class="Bound">O</a> <a id="9458" href="MJ.Semantics.Monadic.html#9458" class="Bound">O&#39;</a> <a id="9461" class="Symbol">:</a> <a id="9463" href="MJ.LexicalScope.html#226" class="Function">Ctx</a><a id="9466" class="Symbol">}{</a><a id="9468" href="MJ.Semantics.Monadic.html#9468" class="Bound">W</a> <a id="9470" class="Symbol">:</a> <a id="9472" href="MJ.Types.html#World" class="Function">World</a> <a id="9478" href="MJ.Semantics.Monadic.html#244" class="Bound">c</a><a id="9479" class="Symbol">}{</a><a id="9481" href="MJ.Semantics.Monadic.html#9481" class="Bound">a</a><a id="9482" class="Symbol">}</a> <a id="9484" class="Symbol">→</a>
           <a id="9497" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="9499" href="MJ.Semantics.Monadic.html#9454" class="Bound">I</a> <a id="9501" href="MJ.Semantics.Monadic.html#9468" class="Bound">W</a> <a id="9503" class="Symbol">(λ</a> <a id="9506" href="MJ.Semantics.Monadic.html#9506" class="Bound">W</a> <a id="9508" class="Symbol">→</a> <a id="9510" href="MJ.Semantics.Values.html#656" class="Datatype">Val</a> <a id="9514" href="MJ.Semantics.Monadic.html#9506" class="Bound">W</a> <a id="9516" href="MJ.Semantics.Monadic.html#9481" class="Bound">a</a> <a id="9518" href="Data.Sum.html#_%E2%8A%8E_" class="Datatype Operator">⊎</a> <a id="9520" href="MJ.Semantics.Values.html#982" class="Function">Env</a> <a id="9524" href="MJ.Semantics.Monadic.html#9456" class="Bound">O</a> <a id="9526" href="MJ.Semantics.Monadic.html#9506" class="Bound">W</a><a id="9527" class="Symbol">)</a> <a id="9529" class="Symbol">→</a>
           <a id="9542" class="Symbol">(∀</a> <a id="9545" class="Symbol">{</a><a id="9546" href="MJ.Semantics.Monadic.html#9546" class="Bound">W&#39;</a><a id="9548" class="Symbol">}</a> <a id="9550" class="Symbol">→</a> <a id="9552" href="MJ.Semantics.Values.html#982" class="Function">Env</a> <a id="9556" href="MJ.Semantics.Monadic.html#9456" class="Bound">O</a> <a id="9558" href="MJ.Semantics.Monadic.html#9546" class="Bound">W&#39;</a> <a id="9561" class="Symbol">→</a> <a id="9563" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="9565" href="MJ.Semantics.Monadic.html#9454" class="Bound">I</a> <a id="9567" href="MJ.Semantics.Monadic.html#9546" class="Bound">W&#39;</a> <a id="9570" class="Symbol">(λ</a> <a id="9573" href="MJ.Semantics.Monadic.html#9573" class="Bound">W</a> <a id="9575" class="Symbol">→</a> <a id="9577" href="MJ.Semantics.Values.html#656" class="Datatype">Val</a> <a id="9581" href="MJ.Semantics.Monadic.html#9573" class="Bound">W</a> <a id="9583" href="MJ.Semantics.Monadic.html#9481" class="Bound">a</a> <a id="9585" href="Data.Sum.html#_%E2%8A%8E_" class="Datatype Operator">⊎</a> <a id="9587" href="MJ.Semantics.Values.html#982" class="Function">Env</a> <a id="9591" href="MJ.Semantics.Monadic.html#9458" class="Bound">O&#39;</a> <a id="9594" href="MJ.Semantics.Monadic.html#9573" class="Bound">W</a><a id="9595" class="Symbol">))</a> <a id="9598" class="Symbol">→</a>
           <a id="9611" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="9613" href="MJ.Semantics.Monadic.html#9454" class="Bound">I</a> <a id="9615" href="MJ.Semantics.Monadic.html#9468" class="Bound">W</a> <a id="9617" class="Symbol">(λ</a> <a id="9620" href="MJ.Semantics.Monadic.html#9620" class="Bound">W</a> <a id="9622" class="Symbol">→</a> <a id="9624" href="MJ.Semantics.Values.html#656" class="Datatype">Val</a> <a id="9628" href="MJ.Semantics.Monadic.html#9620" class="Bound">W</a> <a id="9630" href="MJ.Semantics.Monadic.html#9481" class="Bound">a</a> <a id="9632" href="Data.Sum.html#_%E2%8A%8E_" class="Datatype Operator">⊎</a> <a id="9634" href="MJ.Semantics.Values.html#982" class="Function">Env</a> <a id="9638" href="MJ.Semantics.Monadic.html#9458" class="Bound">O&#39;</a> <a id="9641" href="MJ.Semantics.Monadic.html#9620" class="Bound">W</a><a id="9642" class="Symbol">)</a>
  <a id="9646" href="MJ.Semantics.Monadic.html#9646" class="Bound">m</a> <a id="9648" href="MJ.Semantics.Monadic.html#_%3E%3E%3Dc_" class="Function Operator">&gt;&gt;=c</a> <a id="9653" href="MJ.Semantics.Monadic.html#9653" class="Bound">f</a> <a id="9655" class="Symbol">=</a> <a id="9657" href="MJ.Semantics.Monadic.html#9646" class="Bound">m</a> <a id="9659" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="9663" class="Symbol">λ{</a>
    <a id="9670" class="Symbol">(</a><a id="9671" href="Data.Sum.html#_%E2%8A%8E_.inj%E2%82%81" class="InductiveConstructor">inj₁</a> <a id="9676" href="MJ.Semantics.Monadic.html#9676" class="Bound">v</a><a id="9677" class="Symbol">)</a> <a id="9679" class="Symbol">→</a> <a id="9681" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="9688" class="Symbol">(</a><a id="9689" href="Data.Sum.html#_%E2%8A%8E_.inj%E2%82%81" class="InductiveConstructor">inj₁</a> <a id="9694" href="MJ.Semantics.Monadic.html#9676" class="Bound">v</a><a id="9695" class="Symbol">)</a> <a id="9697" class="Symbol">;</a>
    <a id="9703" class="Symbol">(</a><a id="9704" href="Data.Sum.html#_%E2%8A%8E_.inj%E2%82%82" class="InductiveConstructor">inj₂</a> <a id="9709" href="MJ.Semantics.Monadic.html#9709" class="Bound">E</a><a id="9710" class="Symbol">)</a> <a id="9712" class="Symbol">→</a> <a id="9714" href="MJ.Semantics.Monadic.html#9653" class="Bound">f</a> <a id="9716" href="MJ.Semantics.Monadic.html#9709" class="Bound">E</a> <a id="9718" class="Symbol">}</a>

  <a id="continue" href="MJ.Semantics.Monadic.html#continue" class="Function">continue</a> <a id="9732" class="Symbol">:</a> <a id="9734" class="Symbol">∀</a> <a id="9736" class="Symbol">{</a><a id="9737" href="MJ.Semantics.Monadic.html#9737" class="Bound">Γ</a> <a id="9739" class="Symbol">:</a> <a id="9741" href="MJ.LexicalScope.html#226" class="Function">Ctx</a><a id="9744" class="Symbol">}{</a><a id="9746" href="MJ.Semantics.Monadic.html#9746" class="Bound">W</a> <a id="9748" class="Symbol">:</a> <a id="9750" href="MJ.Types.html#World" class="Function">World</a> <a id="9756" href="MJ.Semantics.Monadic.html#244" class="Bound">c</a><a id="9757" class="Symbol">}{</a><a id="9759" href="MJ.Semantics.Monadic.html#9759" class="Bound">a</a><a id="9760" class="Symbol">}</a> <a id="9762" class="Symbol">→</a> <a id="9764" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="9766" href="MJ.Semantics.Monadic.html#9737" class="Bound">Γ</a> <a id="9768" href="MJ.Semantics.Monadic.html#9746" class="Bound">W</a> <a id="9770" class="Symbol">(λ</a> <a id="9773" href="MJ.Semantics.Monadic.html#9773" class="Bound">W</a> <a id="9775" class="Symbol">→</a> <a id="9777" href="MJ.Semantics.Values.html#656" class="Datatype">Val</a> <a id="9781" href="MJ.Semantics.Monadic.html#9773" class="Bound">W</a> <a id="9783" href="MJ.Semantics.Monadic.html#9759" class="Bound">a</a> <a id="9785" href="Data.Sum.html#_%E2%8A%8E_" class="Datatype Operator">⊎</a> <a id="9787" href="MJ.Semantics.Values.html#982" class="Function">Env</a> <a id="9791" href="MJ.Semantics.Monadic.html#9737" class="Bound">Γ</a> <a id="9793" href="MJ.Semantics.Monadic.html#9773" class="Bound">W</a><a id="9794" class="Symbol">)</a>
  <a id="9798" href="MJ.Semantics.Monadic.html#continue" class="Function">continue</a> <a id="9807" class="Symbol">=</a> <a id="9809" href="MJ.Semantics.Monadic.html#getEnv" class="Function">getEnv</a> <a id="9816" class="Symbol">λ</a> <a id="9818" href="MJ.Semantics.Monadic.html#9818" class="Bound">E</a> <a id="9820" class="Symbol">→</a> <a id="9822" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="9829" class="Symbol">(</a><a id="9830" href="Data.Sum.html#_%E2%8A%8E_.inj%E2%82%82" class="InductiveConstructor">inj₂</a> <a id="9835" href="MJ.Semantics.Monadic.html#9818" class="Bound">E</a><a id="9836" class="Symbol">)</a>

  <a id="evalc" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="9847" class="Symbol">:</a> <a id="9849" class="Symbol">∀</a> <a id="9851" class="Symbol">{</a><a id="9852" href="MJ.Semantics.Monadic.html#9852" class="Bound">I</a> <a id="9854" class="Symbol">:</a> <a id="9856" href="MJ.LexicalScope.html#226" class="Function">Ctx</a><a id="9859" class="Symbol">}{</a><a id="9861" href="MJ.Semantics.Monadic.html#9861" class="Bound">O</a> <a id="9863" class="Symbol">:</a> <a id="9865" href="MJ.LexicalScope.html#226" class="Function">Ctx</a><a id="9868" class="Symbol">}{</a><a id="9870" href="MJ.Semantics.Monadic.html#9870" class="Bound">W</a> <a id="9872" class="Symbol">:</a> <a id="9874" href="MJ.Types.html#World" class="Function">World</a> <a id="9880" href="MJ.Semantics.Monadic.html#244" class="Bound">c</a><a id="9881" class="Symbol">}{</a><a id="9883" href="MJ.Semantics.Monadic.html#9883" class="Bound">a</a><a id="9884" class="Symbol">}</a> <a id="9886" class="Symbol">→</a> <a id="9888" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="9890" class="Symbol">→</a>
          <a id="9902" href="MJ.Syntax.Typed.html#1397" class="Datatype">Stmt</a> <a id="9907" href="MJ.Semantics.Monadic.html#9852" class="Bound">I</a> <a id="9909" href="MJ.Semantics.Monadic.html#9883" class="Bound">a</a> <a id="9911" href="MJ.Semantics.Monadic.html#9861" class="Bound">O</a> <a id="9913" class="Symbol">→</a> <a id="9915" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="9917" href="MJ.Semantics.Monadic.html#9852" class="Bound">I</a> <a id="9919" href="MJ.Semantics.Monadic.html#9870" class="Bound">W</a> <a id="9921" class="Symbol">(λ</a> <a id="9924" href="MJ.Semantics.Monadic.html#9924" class="Bound">W</a> <a id="9926" class="Symbol">→</a> <a id="9928" href="MJ.Semantics.Values.html#656" class="Datatype">Val</a> <a id="9932" href="MJ.Semantics.Monadic.html#9924" class="Bound">W</a> <a id="9934" href="MJ.Semantics.Monadic.html#9883" class="Bound">a</a> <a id="9936" href="Data.Sum.html#_%E2%8A%8E_" class="Datatype Operator">⊎</a> <a id="9938" href="MJ.Semantics.Values.html#982" class="Function">Env</a> <a id="9942" href="MJ.Semantics.Monadic.html#9861" class="Bound">O</a> <a id="9944" href="MJ.Semantics.Monadic.html#9924" class="Bound">W</a><a id="9945" class="Symbol">)</a>

  <a id="9950" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="9956" href="Agda.Builtin.Nat.html#Nat.zero" class="InductiveConstructor">zero</a> <a id="9961" class="Symbol">_</a> <a id="9963" class="Symbol">=</a> <a id="9965" href="MJ.Semantics.Monadic.html#doTimeout" class="Function">doTimeout</a>

  <a id="9978" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="9984" class="Symbol">(</a><a id="9985" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="9989" href="MJ.Semantics.Monadic.html#9989" class="Bound">k</a><a id="9990" class="Symbol">)</a> <a id="9992" href="MJ.Syntax.Typed.html#1741" class="InductiveConstructor">raise</a> <a id="9998" class="Symbol">=</a> <a id="10000" href="MJ.Semantics.Monadic.html#raiseM" class="Function">raiseM</a> <a id="10007" href="MJ.Semantics.Monadic.html#Exception.other" class="InductiveConstructor">other</a>

  <a id="10016" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="10022" class="Symbol">(</a><a id="10023" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="10027" href="MJ.Semantics.Monadic.html#10027" class="Bound">k</a><a id="10028" class="Symbol">)</a> <a id="10030" class="Symbol">(</a><a id="10031" href="MJ.Syntax.Typed.html#1897" class="InductiveConstructor">block</a> <a id="10037" href="MJ.Semantics.Monadic.html#10037" class="Bound">stmts</a><a id="10042" class="Symbol">)</a> <a id="10044" class="Symbol">=</a>
    <a id="10050" href="MJ.Semantics.Monadic.html#eval-stmts" class="Function">eval-stmts</a> <a id="10061" href="MJ.Semantics.Monadic.html#10027" class="Bound">k</a> <a id="10063" href="MJ.Semantics.Monadic.html#10037" class="Bound">stmts</a> <a id="10069" href="MJ.Semantics.Monadic.html#_%3E%3E%3Dc_" class="Function Operator">&gt;&gt;=c</a> <a id="10074" class="Symbol">λ</a> <a id="10076" href="MJ.Semantics.Monadic.html#10076" class="Bound">_</a> <a id="10078" class="Symbol">→</a> <a id="10080" href="MJ.Semantics.Monadic.html#continue" class="Function">continue</a>

  <a id="10092" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="10098" class="Symbol">(</a><a id="10099" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="10103" href="MJ.Semantics.Monadic.html#10103" class="Bound">k</a><a id="10104" class="Symbol">)</a> <a id="10106" class="Symbol">(</a><a id="10107" href="MJ.Syntax.Typed.html#1769" class="InductiveConstructor Operator">try</a> <a id="10111" href="MJ.Semantics.Monadic.html#10111" class="Bound">cs</a> <a id="10114" href="MJ.Syntax.Typed.html#1769" class="InductiveConstructor Operator">catch</a> <a id="10120" href="MJ.Semantics.Monadic.html#10120" class="Bound">cs&#39;</a><a id="10123" class="Symbol">)</a> <a id="10125" class="Symbol">=</a>
    <a id="10131" class="Symbol">(</a><a id="10132" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="10138" href="MJ.Semantics.Monadic.html#10103" class="Bound">k</a> <a id="10140" href="MJ.Semantics.Monadic.html#10111" class="Bound">cs</a> <a id="10143" href="MJ.Semantics.Monadic.html#_%3E%3E%3Dc_" class="Function Operator">&gt;&gt;=c</a> <a id="10148" class="Symbol">λ</a> <a id="10150" href="MJ.Semantics.Monadic.html#10150" class="Bound">_</a> <a id="10152" class="Symbol">→</a> <a id="10154" href="MJ.Semantics.Monadic.html#continue" class="Function">continue</a><a id="10162" class="Symbol">)</a>
    <a id="10168" href="MJ.Semantics.Monadic.html#_recoverWith_" class="Function Operator">recoverWith</a> <a id="10180" class="Symbol">(λ</a> <a id="10183" href="MJ.Semantics.Monadic.html#10183" class="Bound">e</a> <a id="10185" href="MJ.Semantics.Monadic.html#10185" class="Bound">ext</a> <a id="10189" class="Symbol">→</a> <a id="10191" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="10197" href="MJ.Semantics.Monadic.html#10103" class="Bound">k</a> <a id="10199" href="MJ.Semantics.Monadic.html#10120" class="Bound">cs&#39;</a> <a id="10203" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="10207" class="Symbol">λ</a> <a id="10209" href="MJ.Semantics.Monadic.html#10209" class="Bound">_</a> <a id="10211" class="Symbol">→</a> <a id="10213" href="MJ.Semantics.Monadic.html#continue" class="Function">continue</a><a id="10221" class="Symbol">)</a>

  <a id="10226" class="Comment">-- new local variable</a>
  <a id="10250" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="10256" class="Symbol">(</a><a id="10257" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="10261" href="MJ.Semantics.Monadic.html#10261" class="Bound">k</a><a id="10262" class="Symbol">)</a> <a id="10264" class="Symbol">(</a><a id="10265" href="MJ.Syntax.Typed.html#1450" class="InductiveConstructor">loc</a> <a id="10269" href="MJ.Semantics.Monadic.html#10269" class="Bound">a</a><a id="10270" class="Symbol">)</a> <a id="10272" class="Symbol">=</a>
    <a id="10278" href="MJ.Semantics.Monadic.html#store" class="Function">store</a> <a id="10284" class="Symbol">(</a><a id="10285" href="MJ.Semantics.Values.html#1657" class="InductiveConstructor">val</a> <a id="10289" href="Function.html#_%24_" class="Function Operator">$</a> <a id="10291" href="MJ.Semantics.Values.html#828" class="Function">default</a> <a id="10299" href="MJ.Semantics.Monadic.html#10269" class="Bound">a</a><a id="10300" class="Symbol">)</a> <a id="10302" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="10306" class="Symbol">λ</a> <a id="10308" href="MJ.Semantics.Monadic.html#10308" class="Bound">r</a> <a id="10310" class="Symbol">→</a>
    <a id="10316" href="MJ.Semantics.Monadic.html#getEnv" class="Function">getEnv</a> <a id="10323" class="Symbol">λ</a> <a id="10325" href="MJ.Semantics.Monadic.html#10325" class="Bound">E</a> <a id="10327" class="Symbol">→</a> <a id="10329" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="10336" class="Symbol">(</a><a id="10337" href="Data.Sum.html#_%E2%8A%8E_.inj%E2%82%82" class="InductiveConstructor">inj₂</a> <a id="10342" class="Symbol">(</a><a id="10343" href="MJ.Semantics.Monadic.html#10325" class="Bound">E</a> <a id="10345" href="MJ.Semantics.Values.html#1054" class="Function Operator">⊕</a> <a id="10347" href="MJ.Semantics.Monadic.html#10308" class="Bound">r</a><a id="10348" class="Symbol">))</a>

  <a id="10354" class="Comment">-- assigning to a local</a>
  <a id="10380" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="10386" class="Symbol">(</a><a id="10387" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="10391" href="MJ.Semantics.Monadic.html#10391" class="Bound">k</a><a id="10392" class="Symbol">)</a> <a id="10394" class="Symbol">(</a><a id="10395" href="MJ.Syntax.Typed.html#1495" class="InductiveConstructor">asgn</a> <a id="10400" href="MJ.Semantics.Monadic.html#10400" class="Bound">x</a> <a id="10402" href="MJ.Semantics.Monadic.html#10402" class="Bound">e</a><a id="10403" class="Symbol">)</a> <a id="10405" class="Symbol">=</a>
    <a id="10411" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="10417" href="MJ.Semantics.Monadic.html#10391" class="Bound">k</a> <a id="10419" href="MJ.Semantics.Monadic.html#10402" class="Bound">e</a> <a id="10421" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="10425" class="Symbol">λ</a> <a id="10427" href="MJ.Semantics.Monadic.html#10427" class="Bound">v</a> <a id="10429" class="Symbol">→</a>
    <a id="10435" href="MJ.Semantics.Monadic.html#getEnv" class="Function">getEnv</a> <a id="10442" class="Symbol">(λ</a> <a id="10445" href="MJ.Semantics.Monadic.html#10445" class="Bound">E</a> <a id="10447" class="Symbol">→</a> <a id="10449" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="10456" href="Function.html#_%24_" class="Function Operator">$</a> <a id="10458" href="MJ.Semantics.Values.html#1158" class="Function">getvar</a> <a id="10465" href="MJ.Semantics.Monadic.html#10400" class="Bound">x</a> <a id="10467" href="MJ.Semantics.Monadic.html#10445" class="Bound">E</a><a id="10468" class="Symbol">)</a> <a id="10470" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="10472" href="MJ.Semantics.Monadic.html#10427" class="Bound">v</a> <a id="10474" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="10478" class="Symbol">λ{</a> <a id="10481" class="Symbol">(</a><a id="10482" href="MJ.Semantics.Monadic.html#10482" class="Bound">addr</a> <a id="10487" href="Common.Strength.html#_%E2%8A%97_._%2C_" class="InductiveConstructor Operator">,</a> <a id="10489" href="MJ.Semantics.Monadic.html#10489" class="Bound">v</a><a id="10490" class="Symbol">)</a> <a id="10492" class="Symbol">→</a>
    <a id="10498" href="MJ.Semantics.Monadic.html#update" class="Function">update</a> <a id="10505" href="MJ.Semantics.Monadic.html#10482" class="Bound">addr</a> <a id="10510" class="Symbol">(</a><a id="10511" href="MJ.Semantics.Values.html#1657" class="InductiveConstructor">val</a> <a id="10515" href="MJ.Semantics.Monadic.html#10489" class="Bound">v</a><a id="10516" class="Symbol">)</a> <a id="10518" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="10522" class="Symbol">λ</a> <a id="10524" href="MJ.Semantics.Monadic.html#10524" class="Bound">_</a> <a id="10526" class="Symbol">→</a>
    <a id="10532" href="MJ.Semantics.Monadic.html#continue" class="Function">continue</a> <a id="10541" class="Symbol">}</a>

  <a id="10546" class="Comment">-- setting a field</a>
  <a id="10567" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="10573" class="Symbol">(</a><a id="10574" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="10578" href="MJ.Semantics.Monadic.html#10578" class="Bound">k</a><a id="10579" class="Symbol">)</a> <a id="10581" class="Symbol">(</a><a id="10582" href="MJ.Syntax.Typed.html#1552" class="InductiveConstructor">set</a> <a id="10586" href="MJ.Semantics.Monadic.html#10586" class="Bound">r</a> <a id="10588" class="Symbol">_</a> <a id="10590" class="Symbol">{_}{</a><a id="10594" href="MJ.Semantics.Monadic.html#10594" class="Bound">fld</a><a id="10597" class="Symbol">}</a> <a id="10599" href="MJ.Semantics.Monadic.html#10599" class="Bound">e</a><a id="10600" class="Symbol">)</a> <a id="10602" class="Symbol">=</a>
    <a id="10608" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="10614" href="MJ.Semantics.Monadic.html#10578" class="Bound">k</a> <a id="10616" href="MJ.Semantics.Monadic.html#10586" class="Bound">r</a> <a id="10618" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="10622" class="Symbol">λ{</a> <a id="10625" href="MJ.Semantics.Values.html#738" class="InductiveConstructor">null</a> <a id="10630" class="Symbol">→</a> <a id="10632" href="MJ.Semantics.Monadic.html#raiseM" class="Function">raiseM</a> <a id="10639" href="MJ.Semantics.Monadic.html#Exception.nullderef" class="InductiveConstructor">nullderef</a> <a id="10649" class="Symbol">;</a> <a id="10651" href="MJ.Semantics.Monadic.html#10651" class="Bound">r&#39;</a><a id="10653" class="Symbol">@(</a><a id="10655" href="MJ.Semantics.Values.html#769" class="InductiveConstructor">ref</a> <a id="10659" class="Symbol">_</a> <a id="10661" class="Symbol">_)</a> <a id="10664" class="Symbol">→</a>
    <a id="10670" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="10676" href="MJ.Semantics.Monadic.html#10578" class="Bound">k</a> <a id="10678" href="MJ.Semantics.Monadic.html#10599" class="Bound">e</a> <a id="10680" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="10682" href="MJ.Semantics.Monadic.html#10651" class="Bound">r&#39;</a> <a id="10685" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="10689" class="Symbol">λ{</a> <a id="10692" class="Symbol">(</a><a id="10693" href="MJ.Semantics.Monadic.html#10693" class="Bound">v</a> <a id="10695" href="Common.Strength.html#_%E2%8A%97_._%2C_" class="InductiveConstructor Operator">,</a> <a id="10697" href="MJ.Semantics.Monadic.html#10697" class="Bound">r&#39;</a><a id="10699" class="Symbol">)</a> <a id="10701" class="Symbol">→</a>
    <a id="10707" href="MJ.Semantics.Monadic.html#write-field" class="Function">write-field</a> <a id="10719" class="Symbol">(</a><a id="10720" href="MJ.Classtable.Membership.html#2068" class="Function">sound</a> <a id="10726" href="MJ.Semantics.Monadic.html#10594" class="Bound">fld</a><a id="10729" class="Symbol">)</a> <a id="10731" href="MJ.Semantics.Monadic.html#10697" class="Bound">r&#39;</a> <a id="10734" href="MJ.Semantics.Monadic.html#10693" class="Bound">v</a> <a id="10736" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="10740" class="Symbol">λ</a> <a id="10742" href="MJ.Semantics.Monadic.html#10742" class="Bound">_</a> <a id="10744" class="Symbol">→</a>
    <a id="10750" href="MJ.Semantics.Monadic.html#continue" class="Function">continue</a> <a id="10759" class="Symbol">}}</a>

  <a id="10765" class="Comment">-- side-effectful expressions</a>
  <a id="10797" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="10803" class="Symbol">(</a><a id="10804" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="10808" href="MJ.Semantics.Monadic.html#10808" class="Bound">k</a><a id="10809" class="Symbol">)</a> <a id="10811" class="Symbol">(</a><a id="10812" href="MJ.Syntax.Typed.html#1655" class="InductiveConstructor">do</a> <a id="10815" href="MJ.Semantics.Monadic.html#10815" class="Bound">e</a><a id="10816" class="Symbol">)</a> <a id="10818" class="Symbol">=</a>
    <a id="10824" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="10830" href="MJ.Semantics.Monadic.html#10808" class="Bound">k</a> <a id="10832" href="MJ.Semantics.Monadic.html#10815" class="Bound">e</a> <a id="10834" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="10838" class="Symbol">λ</a> <a id="10840" href="MJ.Semantics.Monadic.html#10840" class="Bound">_</a> <a id="10842" class="Symbol">→</a>
    <a id="10848" href="MJ.Semantics.Monadic.html#continue" class="Function">continue</a>

  <a id="10860" class="Comment">-- early returns</a>
  <a id="10879" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="10885" class="Symbol">(</a><a id="10886" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="10890" href="MJ.Semantics.Monadic.html#10890" class="Bound">k</a><a id="10891" class="Symbol">)</a> <a id="10893" class="Symbol">(</a><a id="10894" href="MJ.Syntax.Typed.html#1702" class="InductiveConstructor">ret</a> <a id="10898" href="MJ.Semantics.Monadic.html#10898" class="Bound">e</a><a id="10899" class="Symbol">)</a> <a id="10901" class="Symbol">=</a>
    <a id="10907" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="10913" href="MJ.Semantics.Monadic.html#10890" class="Bound">k</a> <a id="10915" href="MJ.Semantics.Monadic.html#10898" class="Bound">e</a> <a id="10917" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="10921" class="Symbol">λ</a> <a id="10923" href="MJ.Semantics.Monadic.html#10923" class="Bound">v</a> <a id="10925" class="Symbol">→</a>
    <a id="10931" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="10938" class="Symbol">(</a><a id="10939" href="Data.Sum.html#_%E2%8A%8E_.inj%E2%82%81" class="InductiveConstructor">inj₁</a> <a id="10944" href="MJ.Semantics.Monadic.html#10923" class="Bound">v</a><a id="10945" class="Symbol">)</a>

  <a id="10950" class="Comment">-- if-then-else blocks</a>
  <a id="10975" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="10981" class="Symbol">(</a><a id="10982" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="10986" href="MJ.Semantics.Monadic.html#10986" class="Bound">k</a><a id="10987" class="Symbol">)</a> <a id="10989" class="Symbol">(</a><a id="10990" href="MJ.Syntax.Typed.html#1947" class="InductiveConstructor Operator">if</a> <a id="10993" href="MJ.Semantics.Monadic.html#10993" class="Bound">e</a> <a id="10995" href="MJ.Syntax.Typed.html#1947" class="InductiveConstructor Operator">then</a> <a id="11000" href="MJ.Semantics.Monadic.html#11000" class="Bound">cs</a> <a id="11003" href="MJ.Syntax.Typed.html#1947" class="InductiveConstructor Operator">else</a> <a id="11008" href="MJ.Semantics.Monadic.html#11008" class="Bound">ds</a><a id="11010" class="Symbol">)</a> <a id="11012" class="Symbol">=</a>
    <a id="11018" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="11024" href="MJ.Semantics.Monadic.html#10986" class="Bound">k</a> <a id="11026" href="MJ.Semantics.Monadic.html#10993" class="Bound">e</a> <a id="11028" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="11032" class="Symbol">λ{</a>
      <a id="11041" class="Symbol">(</a><a id="11042" href="MJ.Semantics.Values.html#695" class="InductiveConstructor">num</a> <a id="11046" href="Agda.Builtin.Nat.html#Nat.zero" class="InductiveConstructor">zero</a><a id="11050" class="Symbol">)</a> <a id="11052" class="Symbol">→</a> <a id="11054" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="11060" href="MJ.Semantics.Monadic.html#10986" class="Bound">k</a> <a id="11062" href="MJ.Semantics.Monadic.html#11000" class="Bound">cs</a> <a id="11065" class="Symbol">;</a>
      <a id="11073" class="Symbol">(</a><a id="11074" href="MJ.Semantics.Values.html#695" class="InductiveConstructor">num</a> <a id="11078" class="Symbol">(</a><a id="11079" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="11083" class="Symbol">_))</a> <a id="11087" class="Symbol">→</a> <a id="11089" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="11095" href="MJ.Semantics.Monadic.html#10986" class="Bound">k</a> <a id="11097" href="MJ.Semantics.Monadic.html#11008" class="Bound">ds</a>
    <a id="11104" class="Symbol">}</a>

  <a id="11109" class="Comment">-- while loops</a>
  <a id="11126" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="11132" class="Symbol">(</a><a id="11133" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="11137" href="MJ.Semantics.Monadic.html#11137" class="Bound">k</a><a id="11138" class="Symbol">)</a> <a id="11140" class="Symbol">(</a><a id="11141" href="MJ.Syntax.Typed.html#1835" class="InductiveConstructor Operator">while</a> <a id="11147" href="MJ.Semantics.Monadic.html#11147" class="Bound">e</a> <a id="11149" href="MJ.Syntax.Typed.html#1835" class="InductiveConstructor Operator">do</a> <a id="11152" href="MJ.Semantics.Monadic.html#11152" class="Bound">b</a><a id="11153" class="Symbol">)</a> <a id="11155" class="Symbol">=</a>
    <a id="11161" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="11167" class="Symbol">(</a><a id="11168" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="11172" href="MJ.Semantics.Monadic.html#11137" class="Bound">k</a><a id="11173" class="Symbol">)</a> <a id="11175" href="MJ.Semantics.Monadic.html#11147" class="Bound">e</a> <a id="11177" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="11181" class="Symbol">λ{</a>
      <a id="11190" class="Symbol">(</a><a id="11191" href="MJ.Semantics.Values.html#695" class="InductiveConstructor">num</a> <a id="11195" href="Agda.Builtin.Nat.html#Nat.zero" class="InductiveConstructor">zero</a><a id="11199" class="Symbol">)</a>    <a id="11204" class="Symbol">→</a> <a id="11206" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="11212" href="MJ.Semantics.Monadic.html#11137" class="Bound">k</a> <a id="11214" href="MJ.Semantics.Monadic.html#11152" class="Bound">b</a> <a id="11216" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="11220" class="Symbol">λ</a> <a id="11222" href="MJ.Semantics.Monadic.html#11222" class="Bound">_</a> <a id="11224" class="Symbol">→</a> <a id="11226" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="11232" href="MJ.Semantics.Monadic.html#11137" class="Bound">k</a> <a id="11234" class="Symbol">(</a><a id="11235" href="MJ.Syntax.Typed.html#1835" class="InductiveConstructor Operator">while</a> <a id="11241" href="MJ.Semantics.Monadic.html#11147" class="Bound">e</a> <a id="11243" href="MJ.Syntax.Typed.html#1835" class="InductiveConstructor Operator">do</a> <a id="11246" href="MJ.Semantics.Monadic.html#11152" class="Bound">b</a><a id="11247" class="Symbol">)</a> <a id="11249" class="Symbol">;</a>
      <a id="11257" class="Symbol">(</a><a id="11258" href="MJ.Semantics.Values.html#695" class="InductiveConstructor">num</a> <a id="11262" class="Symbol">(</a><a id="11263" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="11267" class="Symbol">_))</a> <a id="11271" class="Symbol">→</a> <a id="11273" href="MJ.Semantics.Monadic.html#continue" class="Function">continue</a>
    <a id="11286" class="Symbol">}</a>

  <a id="11291" class="Comment">-- evaluating a method body</a>
  <a id="eval-body" href="MJ.Semantics.Monadic.html#eval-body" class="Function">eval-body</a> <a id="11331" class="Symbol">:</a> <a id="11333" class="Symbol">∀</a> <a id="11335" class="Symbol">{</a><a id="11336" href="MJ.Semantics.Monadic.html#11336" class="Bound">I</a> <a id="11338" class="Symbol">:</a> <a id="11340" href="MJ.LexicalScope.html#226" class="Function">Ctx</a><a id="11343" class="Symbol">}{</a><a id="11345" href="MJ.Semantics.Monadic.html#11345" class="Bound">W</a> <a id="11347" class="Symbol">:</a> <a id="11349" href="MJ.Types.html#World" class="Function">World</a> <a id="11355" href="MJ.Semantics.Monadic.html#244" class="Bound">c</a><a id="11356" class="Symbol">}{</a><a id="11358" href="MJ.Semantics.Monadic.html#11358" class="Bound">a</a><a id="11359" class="Symbol">}</a> <a id="11361" class="Symbol">→</a> <a id="11363" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="11365" class="Symbol">→</a> <a id="11367" href="MJ.Classtable.Code.html#681" class="Datatype">Body</a> <a id="11372" href="MJ.Semantics.Monadic.html#11336" class="Bound">I</a> <a id="11374" href="MJ.Semantics.Monadic.html#11358" class="Bound">a</a> <a id="11376" class="Symbol">→</a> <a id="11378" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="11380" href="MJ.Semantics.Monadic.html#11336" class="Bound">I</a> <a id="11382" href="MJ.Semantics.Monadic.html#11345" class="Bound">W</a> <a id="11384" class="Symbol">(λ</a> <a id="11387" href="MJ.Semantics.Monadic.html#11387" class="Bound">W</a> <a id="11389" class="Symbol">→</a> <a id="11391" href="MJ.Semantics.Values.html#656" class="Datatype">Val</a> <a id="11395" href="MJ.Semantics.Monadic.html#11387" class="Bound">W</a> <a id="11397" href="MJ.Semantics.Monadic.html#11358" class="Bound">a</a><a id="11398" class="Symbol">)</a>
  <a id="11402" href="MJ.Semantics.Monadic.html#eval-body" class="Function">eval-body</a> <a id="11412" href="MJ.Semantics.Monadic.html#11412" class="Bound">k</a> <a id="11414" class="Symbol">(</a><a id="11415" href="MJ.Classtable.Code.html#717" class="InductiveConstructor">body</a> <a id="11420" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a> <a id="11422" href="MJ.Semantics.Monadic.html#11422" class="Bound">re</a><a id="11424" class="Symbol">)</a> <a id="11426" class="Symbol">=</a> <a id="11428" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="11434" href="MJ.Semantics.Monadic.html#11412" class="Bound">k</a> <a id="11436" href="MJ.Semantics.Monadic.html#11422" class="Bound">re</a>
  <a id="11441" href="MJ.Semantics.Monadic.html#eval-body" class="Function">eval-body</a> <a id="11451" href="MJ.Semantics.Monadic.html#11451" class="Bound">k</a> <a id="11453" class="Symbol">(</a><a id="11454" href="MJ.Classtable.Code.html#717" class="InductiveConstructor">body</a> <a id="11459" href="MJ.Semantics.Monadic.html#11459" class="Bound">stmts</a><a id="11464" class="Symbol">@(_</a> <a id="11468" href="Data.Star.html#Star._%E2%97%85_" class="InductiveConstructor Operator">◅</a> <a id="11470" class="Symbol">_)</a> <a id="11473" href="MJ.Semantics.Monadic.html#11473" class="Bound">e</a><a id="11474" class="Symbol">)</a> <a id="11476" class="Symbol">=</a>
    <a id="11482" class="Symbol">(</a><a id="11483" href="MJ.Semantics.Monadic.html#eval-stmts" class="Function">eval-stmts</a> <a id="11494" href="MJ.Semantics.Monadic.html#11451" class="Bound">k</a> <a id="11496" href="MJ.Semantics.Monadic.html#11459" class="Bound">stmts</a><a id="11501" class="Symbol">)</a> <a id="11503" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="11507" class="Symbol">λ{</a>
      <a id="11516" class="Symbol">(</a><a id="11517" href="Data.Sum.html#_%E2%8A%8E_.inj%E2%82%81" class="InductiveConstructor">inj₁</a> <a id="11522" href="MJ.Semantics.Monadic.html#11522" class="Bound">v</a><a id="11523" class="Symbol">)</a> <a id="11525" class="Symbol">→</a> <a id="11527" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="11534" href="MJ.Semantics.Monadic.html#11522" class="Bound">v</a> <a id="11536" class="Symbol">;</a>
      <a id="11544" class="Symbol">(</a><a id="11545" href="Data.Sum.html#_%E2%8A%8E_.inj%E2%82%82" class="InductiveConstructor">inj₂</a> <a id="11550" href="MJ.Semantics.Monadic.html#11550" class="Bound">E</a><a id="11551" class="Symbol">)</a> <a id="11553" class="Symbol">→</a> <a id="11555" href="MJ.Semantics.Monadic.html#usingEnv" class="Function">usingEnv</a> <a id="11564" href="MJ.Semantics.Monadic.html#11550" class="Bound">E</a> <a id="11566" class="Symbol">(</a><a id="11567" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="11573" href="MJ.Semantics.Monadic.html#11451" class="Bound">k</a> <a id="11575" href="MJ.Semantics.Monadic.html#11473" class="Bound">e</a><a id="11576" class="Symbol">)</a> <a id="11578" class="Symbol">}</a>

  <a id="evalₑ*" href="MJ.Semantics.Monadic.html#eval%E2%82%91%2A" class="Function">evalₑ*</a> <a id="11590" class="Symbol">:</a> <a id="11592" class="Symbol">∀</a> <a id="11594" class="Symbol">{</a><a id="11595" href="MJ.Semantics.Monadic.html#11595" class="Bound">Γ</a> <a id="11597" href="MJ.Semantics.Monadic.html#11597" class="Bound">W</a> <a id="11599" href="MJ.Semantics.Monadic.html#11599" class="Bound">as</a><a id="11601" class="Symbol">}</a> <a id="11603" class="Symbol">→</a> <a id="11605" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="11607" class="Symbol">→</a> <a id="11609" href="Data.List.All.html#All" class="Datatype">All</a> <a id="11613" class="Symbol">(</a><a id="11614" href="MJ.Syntax.Typed.html#678" class="Datatype">Expr</a> <a id="11619" href="MJ.Semantics.Monadic.html#11595" class="Bound">Γ</a><a id="11620" class="Symbol">)</a> <a id="11622" href="MJ.Semantics.Monadic.html#11599" class="Bound">as</a> <a id="11625" class="Symbol">→</a> <a id="11627" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="11629" href="MJ.Semantics.Monadic.html#11595" class="Bound">Γ</a> <a id="11631" href="MJ.Semantics.Monadic.html#11597" class="Bound">W</a> <a id="11633" class="Symbol">(λ</a> <a id="11636" href="MJ.Semantics.Monadic.html#11636" class="Bound">W</a> <a id="11638" class="Symbol">→</a> <a id="11640" href="Data.List.All.html#All" class="Datatype">All</a> <a id="11644" class="Symbol">(</a><a id="11645" href="MJ.Semantics.Values.html#656" class="Datatype">Val</a> <a id="11649" href="MJ.Semantics.Monadic.html#11636" class="Bound">W</a><a id="11650" class="Symbol">)</a> <a id="11652" href="MJ.Semantics.Monadic.html#11599" class="Bound">as</a><a id="11654" class="Symbol">)</a>
  <a id="11658" href="MJ.Semantics.Monadic.html#eval%E2%82%91%2A" class="Function">evalₑ*</a> <a id="11665" href="MJ.Semantics.Monadic.html#11665" class="Bound">k</a> <a id="11667" href="Data.List.All.html#All.%5B%5D" class="InductiveConstructor">[]</a> <a id="11670" class="Symbol">=</a> <a id="11672" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="11679" href="Data.List.All.html#All.%5B%5D" class="InductiveConstructor">[]</a>
  <a id="11684" href="MJ.Semantics.Monadic.html#eval%E2%82%91%2A" class="Function">evalₑ*</a> <a id="11691" href="MJ.Semantics.Monadic.html#11691" class="Bound">k</a> <a id="11693" class="Symbol">(</a><a id="11694" href="MJ.Semantics.Monadic.html#11694" class="Bound">e</a> <a id="11696" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="11698" href="MJ.Semantics.Monadic.html#11698" class="Bound">es</a><a id="11700" class="Symbol">)</a> <a id="11702" class="Symbol">=</a>
    <a id="11708" href="MJ.Semantics.Monadic.html#eval%E2%82%91" class="Function">evalₑ</a> <a id="11714" href="MJ.Semantics.Monadic.html#11691" class="Bound">k</a> <a id="11716" href="MJ.Semantics.Monadic.html#11694" class="Bound">e</a> <a id="11718" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="11722" class="Symbol">λ</a> <a id="11724" href="MJ.Semantics.Monadic.html#11724" class="Bound">v</a> <a id="11726" class="Symbol">→</a>
    <a id="11732" href="MJ.Semantics.Monadic.html#eval%E2%82%91%2A" class="Function">evalₑ*</a> <a id="11739" href="MJ.Semantics.Monadic.html#11691" class="Bound">k</a> <a id="11741" href="MJ.Semantics.Monadic.html#11698" class="Bound">es</a> <a id="11744" href="MJ.Semantics.Monadic.html#_%5E_" class="Function Operator">^</a> <a id="11746" href="MJ.Semantics.Monadic.html#11724" class="Bound">v</a> <a id="11748" href="MJ.Semantics.Monadic.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="11752" class="Symbol">λ{</a> <a id="11755" class="Symbol">(</a><a id="11756" href="MJ.Semantics.Monadic.html#11756" class="Bound">vs</a> <a id="11759" href="Common.Strength.html#_%E2%8A%97_._%2C_" class="InductiveConstructor Operator">,</a> <a id="11761" href="MJ.Semantics.Monadic.html#11761" class="Bound">v</a><a id="11762" class="Symbol">)</a> <a id="11764" class="Symbol">→</a>
    <a id="11770" href="MJ.Semantics.Monadic.html#return" class="Function">return</a> <a id="11777" class="Symbol">(</a><a id="11778" href="MJ.Semantics.Monadic.html#11761" class="Bound">v</a> <a id="11780" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="11782" href="MJ.Semantics.Monadic.html#11756" class="Bound">vs</a><a id="11784" class="Symbol">)</a> <a id="11786" class="Symbol">}</a>

  <a id="eval-stmts" href="MJ.Semantics.Monadic.html#eval-stmts" class="Function">eval-stmts</a> <a id="11802" class="Symbol">:</a> <a id="11804" class="Symbol">∀</a> <a id="11806" class="Symbol">{</a><a id="11807" href="MJ.Semantics.Monadic.html#11807" class="Bound">Γ</a> <a id="11809" href="MJ.Semantics.Monadic.html#11809" class="Bound">Γ&#39;</a> <a id="11812" href="MJ.Semantics.Monadic.html#11812" class="Bound">W</a> <a id="11814" href="MJ.Semantics.Monadic.html#11814" class="Bound">a</a><a id="11815" class="Symbol">}</a> <a id="11817" class="Symbol">→</a> <a id="11819" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="11821" class="Symbol">→</a> <a id="11823" href="MJ.Syntax.Typed.html#2024" class="Function">Stmts</a> <a id="11829" href="MJ.Semantics.Monadic.html#11807" class="Bound">Γ</a> <a id="11831" href="MJ.Semantics.Monadic.html#11814" class="Bound">a</a> <a id="11833" href="MJ.Semantics.Monadic.html#11809" class="Bound">Γ&#39;</a> <a id="11836" class="Symbol">→</a> <a id="11838" href="MJ.Semantics.Monadic.html#M" class="Function">M</a> <a id="11840" href="MJ.Semantics.Monadic.html#11807" class="Bound">Γ</a> <a id="11842" href="MJ.Semantics.Monadic.html#11812" class="Bound">W</a> <a id="11844" class="Symbol">(λ</a> <a id="11847" href="MJ.Semantics.Monadic.html#11847" class="Bound">W</a> <a id="11849" class="Symbol">→</a> <a id="11851" href="MJ.Semantics.Values.html#656" class="Datatype">Val</a> <a id="11855" href="MJ.Semantics.Monadic.html#11847" class="Bound">W</a> <a id="11857" href="MJ.Semantics.Monadic.html#11814" class="Bound">a</a> <a id="11859" href="Data.Sum.html#_%E2%8A%8E_" class="Datatype Operator">⊎</a> <a id="11861" href="MJ.Semantics.Values.html#982" class="Function">Env</a> <a id="11865" href="MJ.Semantics.Monadic.html#11809" class="Bound">Γ&#39;</a> <a id="11868" href="MJ.Semantics.Monadic.html#11847" class="Bound">W</a><a id="11869" class="Symbol">)</a>
  <a id="11873" href="MJ.Semantics.Monadic.html#eval-stmts" class="Function">eval-stmts</a> <a id="11884" href="MJ.Semantics.Monadic.html#11884" class="Bound">k</a> <a id="11886" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a> <a id="11888" class="Symbol">=</a> <a id="11890" href="MJ.Semantics.Monadic.html#continue" class="Function">continue</a>
  <a id="11901" href="MJ.Semantics.Monadic.html#eval-stmts" class="Function">eval-stmts</a> <a id="11912" href="MJ.Semantics.Monadic.html#11912" class="Bound">k</a> <a id="11914" class="Symbol">(</a><a id="11915" href="MJ.Semantics.Monadic.html#11915" class="Bound">x</a> <a id="11917" href="Data.Star.html#Star._%E2%97%85_" class="InductiveConstructor Operator">◅</a> <a id="11919" href="MJ.Semantics.Monadic.html#11919" class="Bound">st</a><a id="11921" class="Symbol">)</a> <a id="11923" class="Symbol">=</a>
    <a id="11929" href="MJ.Semantics.Monadic.html#evalc" class="Function">evalc</a> <a id="11935" href="MJ.Semantics.Monadic.html#11912" class="Bound">k</a> <a id="11937" href="MJ.Semantics.Monadic.html#11915" class="Bound">x</a> <a id="11939" href="MJ.Semantics.Monadic.html#_%3E%3E%3Dc_" class="Function Operator">&gt;&gt;=c</a> <a id="11944" class="Symbol">λ</a> <a id="11946" href="MJ.Semantics.Monadic.html#11946" class="Bound">E&#39;</a> <a id="11949" class="Symbol">→</a>
    <a id="11955" href="MJ.Semantics.Monadic.html#usingEnv" class="Function">usingEnv</a> <a id="11964" href="MJ.Semantics.Monadic.html#11946" class="Bound">E&#39;</a> <a id="11967" class="Symbol">(</a><a id="11968" href="MJ.Semantics.Monadic.html#eval-stmts" class="Function">eval-stmts</a> <a id="11979" href="MJ.Semantics.Monadic.html#11912" class="Bound">k</a> <a id="11981" href="MJ.Semantics.Monadic.html#11919" class="Bound">st</a><a id="11983" class="Symbol">)</a>

  <a id="11988" class="Comment">-- evaluating a program</a>
  <a id="eval" href="MJ.Semantics.Monadic.html#eval" class="Function">eval</a> <a id="12019" class="Symbol">:</a> <a id="12021" class="Symbol">∀</a> <a id="12023" class="Symbol">{</a><a id="12024" href="MJ.Semantics.Monadic.html#12024" class="Bound">a</a><a id="12025" class="Symbol">}</a> <a id="12027" class="Symbol">→</a> <a id="12029" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="12031" class="Symbol">→</a> <a id="12033" href="MJ.Syntax.Program.html#709" class="Function">Prog</a> <a id="12038" href="MJ.Semantics.Monadic.html#12024" class="Bound">a</a> <a id="12040" class="Symbol">→</a> <a id="12042" href="MJ.Semantics.Monadic.html#Result" class="Datatype">Result</a> <a id="12049" href="Agda.Builtin.List.html#List.%5B%5D" class="InductiveConstructor">[]</a> <a id="12052" class="Symbol">(</a><a id="12053" href="Function.html#flip" class="Function">flip</a> <a id="12058" href="MJ.Semantics.Values.html#656" class="Datatype">Val</a> <a id="12062" href="MJ.Semantics.Monadic.html#12024" class="Bound">a</a><a id="12063" class="Symbol">)</a>
  <a id="12067" href="MJ.Semantics.Monadic.html#eval" class="Function">eval</a> <a id="12072" href="MJ.Semantics.Monadic.html#12072" class="Bound">k</a> <a id="12074" class="Symbol">(</a><a id="12075" href="MJ.Semantics.Monadic.html#12075" class="Bound">lib</a> <a id="12079" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="12081" href="MJ.Semantics.Monadic.html#12081" class="Bound">main</a><a id="12085" class="Symbol">)</a> <a id="12087" class="Symbol">=</a> <a id="12089" href="MJ.Semantics.Monadic.html#eval-body" class="Function">eval-body</a> <a id="12099" href="MJ.Semantics.Monadic.html#12072" class="Bound">k</a> <a id="12101" href="MJ.Semantics.Monadic.html#12081" class="Bound">main</a> <a id="12106" href="Data.List.All.html#All.%5B%5D" class="InductiveConstructor">[]</a> <a id="12109" href="Data.List.All.html#All.%5B%5D" class="InductiveConstructor">[]</a>

<a id="12113" class="Comment">-- a few predicates on programs:</a>
<a id="12146" class="Comment">-- ... saying it will terminate succesfully in a state where P holds</a>
<a id="_⇓⟨_⟩_" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9_" class="Function Operator">_⇓⟨_⟩_</a> <a id="12222" class="Symbol">:</a> <a id="12224" class="Symbol">∀</a> <a id="12226" class="Symbol">{</a><a id="12227" href="MJ.Semantics.Monadic.html#12227" class="Bound">a</a><a id="12228" class="Symbol">}</a> <a id="12230" class="Symbol">→</a> <a id="12232" href="MJ.Syntax.Program.html#709" class="Function">Prog</a> <a id="12237" href="MJ.Semantics.Monadic.html#12227" class="Bound">a</a> <a id="12239" class="Symbol">→</a> <a id="12241" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="12243" class="Symbol">→</a> <a id="12245" class="Symbol">(</a><a id="12246" href="MJ.Semantics.Monadic.html#12246" class="Bound">P</a> <a id="12248" class="Symbol">:</a> <a id="12250" class="Symbol">∀</a> <a id="12252" class="Symbol">{</a><a id="12253" href="MJ.Semantics.Monadic.html#12253" class="Bound">W</a><a id="12254" class="Symbol">}</a> <a id="12256" class="Symbol">→</a> <a id="12258" href="MJ.Semantics.Values.html#656" class="Datatype">Val</a> <a id="12262" href="MJ.Semantics.Monadic.html#12253" class="Bound">W</a> <a id="12264" href="MJ.Semantics.Monadic.html#12227" class="Bound">a</a> <a id="12266" class="Symbol">→</a> <a id="12268" class="PrimitiveType">Set</a><a id="12271" class="Symbol">)</a> <a id="12273" class="Symbol">→</a> <a id="12275" class="PrimitiveType">Set</a>
<a id="12279" href="MJ.Semantics.Monadic.html#12279" class="Bound">p</a> <a id="12281" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9_" class="Function Operator">⇓⟨</a> <a id="12284" href="MJ.Semantics.Monadic.html#12284" class="Bound">k</a> <a id="12286" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9_" class="Function Operator">⟩</a> <a id="12288" href="MJ.Semantics.Monadic.html#12288" class="Bound">P</a> <a id="12290" class="Keyword">with</a> <a id="12295" href="MJ.Semantics.Monadic.html#eval" class="Function">eval</a> <a id="12300" href="MJ.Semantics.Monadic.html#12284" class="Bound">k</a> <a id="12302" href="MJ.Semantics.Monadic.html#12279" class="Bound">p</a>
<a id="12304" href="MJ.Semantics.Monadic.html#12304" class="Bound">p</a> <a id="12306" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9_" class="Function Operator">⇓⟨</a> <a id="12309" href="MJ.Semantics.Monadic.html#12309" class="Bound">k</a> <a id="12311" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9_" class="Function Operator">⟩</a> <a id="12313" href="MJ.Semantics.Monadic.html#12313" class="Bound">P</a> <a id="12315" class="Symbol">|</a> <a id="12317" href="MJ.Semantics.Monadic.html#Result.exception" class="InductiveConstructor">exception</a> <a id="12327" class="Symbol">_</a> <a id="12329" class="Symbol">_</a> <a id="12331" class="Symbol">_</a> <a id="12333" class="Symbol">=</a> <a id="12335" href="Data.Empty.html#%E2%8A%A5" class="Datatype">⊥</a>
<a id="12337" href="MJ.Semantics.Monadic.html#12337" class="Bound">p</a> <a id="12339" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9_" class="Function Operator">⇓⟨</a> <a id="12342" href="MJ.Semantics.Monadic.html#12342" class="Bound">k</a> <a id="12344" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9_" class="Function Operator">⟩</a> <a id="12346" href="MJ.Semantics.Monadic.html#12346" class="Bound">P</a> <a id="12348" class="Symbol">|</a> <a id="12350" href="MJ.Semantics.Monadic.html#Result.timeout" class="InductiveConstructor">timeout</a> <a id="12358" class="Symbol">=</a> <a id="12360" href="Data.Empty.html#%E2%8A%A5" class="Datatype">⊥</a>
<a id="12362" href="MJ.Semantics.Monadic.html#12362" class="Bound">p</a> <a id="12364" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9_" class="Function Operator">⇓⟨</a> <a id="12367" href="MJ.Semantics.Monadic.html#12367" class="Bound">k</a> <a id="12369" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9_" class="Function Operator">⟩</a> <a id="12371" href="MJ.Semantics.Monadic.html#12371" class="Bound">P</a> <a id="12373" class="Symbol">|</a> <a id="12375" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a> <a id="12383" href="MJ.Semantics.Monadic.html#12383" class="Bound">ext</a> <a id="12387" href="MJ.Semantics.Monadic.html#12387" class="Bound">μ</a> <a id="12389" href="MJ.Semantics.Monadic.html#12389" class="Bound">v</a> <a id="12391" class="Symbol">=</a> <a id="12393" href="MJ.Semantics.Monadic.html#12371" class="Bound">P</a> <a id="12395" href="MJ.Semantics.Monadic.html#12389" class="Bound">v</a>

<a id="12398" class="Comment">-- ...saying it will raise an exception in a state where P holds</a>
<a id="_⇓⟨_⟩!_" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9%21_" class="Function Operator">_⇓⟨_⟩!_</a> <a id="12471" class="Symbol">:</a> <a id="12473" class="Symbol">∀</a> <a id="12475" class="Symbol">{</a><a id="12476" href="MJ.Semantics.Monadic.html#12476" class="Bound">a</a><a id="12477" class="Symbol">}</a> <a id="12479" class="Symbol">→</a> <a id="12481" href="MJ.Syntax.Program.html#709" class="Function">Prog</a> <a id="12486" href="MJ.Semantics.Monadic.html#12476" class="Bound">a</a> <a id="12488" class="Symbol">→</a> <a id="12490" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="12492" class="Symbol">→</a> <a id="12494" class="Symbol">(</a><a id="12495" href="MJ.Semantics.Monadic.html#12495" class="Bound">P</a> <a id="12497" class="Symbol">:</a> <a id="12499" class="Symbol">∀</a> <a id="12501" class="Symbol">{</a><a id="12502" href="MJ.Semantics.Monadic.html#12502" class="Bound">W</a><a id="12503" class="Symbol">}</a> <a id="12505" class="Symbol">→</a> <a id="12507" href="MJ.Semantics.Values.html#1757" class="Function">Store</a> <a id="12513" href="MJ.Semantics.Monadic.html#12502" class="Bound">W</a> <a id="12515" class="Symbol">→</a> <a id="12517" href="MJ.Semantics.Monadic.html#Exception" class="Datatype">Exception</a> <a id="12527" class="Symbol">→</a> <a id="12529" class="PrimitiveType">Set</a><a id="12532" class="Symbol">)</a> <a id="12534" class="Symbol">→</a> <a id="12536" class="PrimitiveType">Set</a>
<a id="12540" href="MJ.Semantics.Monadic.html#12540" class="Bound">p</a> <a id="12542" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9%21_" class="Function Operator">⇓⟨</a> <a id="12545" href="MJ.Semantics.Monadic.html#12545" class="Bound">k</a> <a id="12547" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9%21_" class="Function Operator">⟩!</a> <a id="12550" href="MJ.Semantics.Monadic.html#12550" class="Bound">P</a> <a id="12552" class="Keyword">with</a> <a id="12557" href="MJ.Semantics.Monadic.html#eval" class="Function">eval</a> <a id="12562" href="MJ.Semantics.Monadic.html#12545" class="Bound">k</a> <a id="12564" href="MJ.Semantics.Monadic.html#12540" class="Bound">p</a>
<a id="12566" href="MJ.Semantics.Monadic.html#12566" class="Bound">p</a> <a id="12568" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9%21_" class="Function Operator">⇓⟨</a> <a id="12571" href="MJ.Semantics.Monadic.html#12571" class="Bound">k</a> <a id="12573" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9%21_" class="Function Operator">⟩!</a> <a id="12576" href="MJ.Semantics.Monadic.html#12576" class="Bound">P</a> <a id="12578" class="Symbol">|</a> <a id="12580" href="MJ.Semantics.Monadic.html#Result.exception" class="InductiveConstructor">exception</a> <a id="12590" class="Symbol">_</a> <a id="12592" href="MJ.Semantics.Monadic.html#12592" class="Bound">μ</a> <a id="12594" href="MJ.Semantics.Monadic.html#12594" class="Bound">e</a> <a id="12596" class="Symbol">=</a> <a id="12598" href="MJ.Semantics.Monadic.html#12576" class="Bound">P</a> <a id="12600" href="MJ.Semantics.Monadic.html#12592" class="Bound">μ</a> <a id="12602" href="MJ.Semantics.Monadic.html#12594" class="Bound">e</a>
<a id="12604" href="MJ.Semantics.Monadic.html#12604" class="Bound">p</a> <a id="12606" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9%21_" class="Function Operator">⇓⟨</a> <a id="12609" href="MJ.Semantics.Monadic.html#12609" class="Bound">k</a> <a id="12611" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9%21_" class="Function Operator">⟩!</a> <a id="12614" href="MJ.Semantics.Monadic.html#12614" class="Bound">P</a> <a id="12616" class="Symbol">|</a> <a id="12618" href="MJ.Semantics.Monadic.html#Result.timeout" class="InductiveConstructor">timeout</a> <a id="12626" class="Symbol">=</a> <a id="12628" href="Data.Empty.html#%E2%8A%A5" class="Datatype">⊥</a>
<a id="12630" href="MJ.Semantics.Monadic.html#12630" class="Bound">p</a> <a id="12632" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9%21_" class="Function Operator">⇓⟨</a> <a id="12635" href="MJ.Semantics.Monadic.html#12635" class="Bound">k</a> <a id="12637" href="MJ.Semantics.Monadic.html#_%E2%87%93%E2%9F%A8_%E2%9F%A9%21_" class="Function Operator">⟩!</a> <a id="12640" href="MJ.Semantics.Monadic.html#12640" class="Bound">P</a> <a id="12642" class="Symbol">|</a> <a id="12644" href="MJ.Semantics.Monadic.html#Result.returns" class="InductiveConstructor">returns</a> <a id="12652" href="MJ.Semantics.Monadic.html#12652" class="Bound">ext</a> <a id="12656" href="MJ.Semantics.Monadic.html#12656" class="Bound">μ</a> <a id="12658" href="MJ.Semantics.Monadic.html#12658" class="Bound">v</a> <a id="12660" class="Symbol">=</a> <a id="12662" href="Data.Empty.html#%E2%8A%A5" class="Datatype">⊥</a>
</pre></body></html>