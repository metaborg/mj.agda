<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>MJ.Examples.While</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Keyword">module</a> <a id="8" href="MJ.Examples.While.html" class="Module">MJ.Examples.While</a> <a id="26" class="Keyword">where</a>

<a id="33" class="Keyword">open</a> <a id="38" class="Keyword">import</a> <a id="45" href="MJ.Examples.Integer.html" class="Module">MJ.Examples.Integer</a>

<a id="66" class="Keyword">open</a> <a id="71" class="Keyword">import</a> <a id="78" href="Prelude.html" class="Module">Prelude</a>
<a id="86" class="Keyword">open</a> <a id="91" class="Keyword">import</a> <a id="98" href="MJ.Types.html" class="Module">MJ.Types</a>
<a id="107" class="Keyword">open</a> <a id="112" class="Keyword">import</a> <a id="119" href="MJ.Classtable.Code.html" class="Module">MJ.Classtable.Code</a> <a id="138" href="MJ.Examples.Integer.html#%CE%A3" class="Function">Σ</a>
<a id="140" class="Keyword">open</a> <a id="145" class="Keyword">import</a> <a id="152" href="MJ.Syntax.html" class="Module">MJ.Syntax</a> <a id="162" href="MJ.Examples.Integer.html#%CE%A3" class="Function">Σ</a>
<a id="164" class="Keyword">open</a> <a id="169" class="Keyword">import</a> <a id="176" href="MJ.Syntax.Program.html" class="Module">MJ.Syntax.Program</a> <a id="194" href="MJ.Examples.Integer.html#%CE%A3" class="Function">Σ</a>
<a id="196" class="Keyword">open</a> <a id="201" class="Keyword">import</a> <a id="208" href="MJ.Semantics.html" class="Module">MJ.Semantics</a> <a id="221" href="MJ.Examples.Integer.html#%CE%A3" class="Function">Σ</a> <a id="223" href="MJ.Examples.Integer.html#Lib" class="Function">Lib</a>
<a id="227" class="Keyword">open</a> <a id="232" class="Keyword">import</a> <a id="239" href="MJ.Semantics.Values.html" class="Module">MJ.Semantics.Values</a> <a id="259" href="MJ.Examples.Integer.html#%CE%A3" class="Function">Σ</a>
<a id="261" class="Keyword">open</a> <a id="266" class="Keyword">import</a> <a id="273" href="Data.List.Any.html" class="Module">Data.List.Any</a>
<a id="287" class="Keyword">open</a> <a id="292" class="Keyword">import</a> <a id="299" href="Data.List.Any.Membership.Propositional.html" class="Module">Data.List.Any.Membership.Propositional</a>
<a id="338" class="Keyword">open</a> <a id="343" class="Keyword">import</a> <a id="350" href="Data.Star.html" class="Module">Data.Star</a>
<a id="360" class="Keyword">open</a> <a id="365" class="Keyword">import</a> <a id="372" href="Data.Bool.html" class="Module">Data.Bool</a> <a id="382" class="Symbol">as</a> <a id="385" class="Module">Bools</a>
<a id="391" class="Keyword">open</a> <a id="396" class="Keyword">import</a> <a id="403" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a>

<a id="431" class="Comment">-- a simple program that computes 10 using a while loop</a>
<a id="p₁" href="MJ.Examples.While.html#p%E2%82%81" class="Function">p₁</a> <a id="490" class="Symbol">:</a> <a id="492" href="MJ.Syntax.Program.html#709" class="Function">Prog</a> <a id="497" href="MJ.Types.html#Ty.int" class="InductiveConstructor">int</a>
<a id="501" href="MJ.Examples.While.html#p%E2%82%81" class="Function">p₁</a> <a id="504" class="Symbol">=</a> <a id="506" href="MJ.Examples.Integer.html#Lib" class="Function">Lib</a> <a id="510" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a>
  <a id="514" class="Keyword">let</a>
    <a id="522" href="MJ.Examples.While.html#522" class="Bound">x</a> <a id="524" class="Symbol">=</a> <a id="526" class="Symbol">(</a><a id="527" href="Data.List.Any.html#Any.here" class="InductiveConstructor">here</a> <a id="532" href="Agda.Builtin.Equality.html#_%E2%89%A1_.refl" class="InductiveConstructor">refl</a><a id="536" class="Symbol">)</a>
  <a id="540" class="Keyword">in</a> <a id="543" href="MJ.Classtable.Code.html#717" class="InductiveConstructor">body</a>
    <a id="552" class="Symbol">(</a>
        <a id="562" href="MJ.Syntax.Typed.html#1450" class="InductiveConstructor">loc</a> <a id="566" href="MJ.Types.html#Ty.int" class="InductiveConstructor">int</a>
      <a id="576" href="Data.Star.html#Star._%E2%97%85_" class="InductiveConstructor Operator">◅</a> <a id="578" href="MJ.Syntax.Typed.html#1495" class="InductiveConstructor">asgn</a> <a id="583" href="MJ.Examples.While.html#522" class="Bound">x</a> <a id="585" class="Symbol">(</a><a id="586" href="MJ.Syntax.Typed.html#804" class="InductiveConstructor">num</a> <a id="590" class="Number">1</a><a id="591" class="Symbol">)</a>
      <a id="599" href="Data.Star.html#Star._%E2%97%85_" class="InductiveConstructor Operator">◅</a> <a id="601" href="MJ.Syntax.Typed.html#1835" class="InductiveConstructor Operator">while</a> <a id="607" href="MJ.Syntax.Typed.html#900" class="InductiveConstructor">iop</a> <a id="611" class="Symbol">(λ</a> <a id="614" href="MJ.Examples.While.html#614" class="Bound">x</a> <a id="616" href="MJ.Examples.While.html#616" class="Bound">y</a> <a id="618" class="Symbol">→</a> <a id="620" href="Data.Bool.Base.html#if_then_else_" class="Function Operator">Bools.if</a> <a id="629" href="Relation.Nullary.Decidable.html#%E2%8C%8A_%E2%8C%8B" class="Function Operator">⌊</a> <a id="631" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="635" href="MJ.Examples.While.html#614" class="Bound">x</a> <a id="637" href="Data.Nat.Base.html#_%E2%89%A4%3F_" class="Function Operator">≤?</a> <a id="640" href="MJ.Examples.While.html#616" class="Bound">y</a> <a id="642" href="Relation.Nullary.Decidable.html#%E2%8C%8A_%E2%8C%8B" class="Function Operator">⌋</a> <a id="644" href="Data.Bool.Base.html#if_then_else_" class="Function Operator">then</a> <a id="649" class="Number">0</a> <a id="651" href="Data.Bool.Base.html#if_then_else_" class="Function Operator">else</a> <a id="656" class="Number">1</a><a id="657" class="Symbol">)</a> <a id="659" class="Symbol">(</a><a id="660" href="MJ.Syntax.Typed.html#860" class="InductiveConstructor">var</a> <a id="664" href="MJ.Examples.While.html#522" class="Bound">x</a><a id="665" class="Symbol">)</a> <a id="667" class="Symbol">(</a><a id="668" href="MJ.Syntax.Typed.html#804" class="InductiveConstructor">num</a> <a id="672" class="Number">10</a><a id="674" class="Symbol">)</a> <a id="676" href="MJ.Syntax.Typed.html#1835" class="InductiveConstructor Operator">do</a> <a id="679" class="Symbol">(</a>
        <a id="689" href="MJ.Syntax.Typed.html#1495" class="InductiveConstructor">asgn</a> <a id="694" href="MJ.Examples.While.html#522" class="Bound">x</a> <a id="696" class="Symbol">(</a><a id="697" href="MJ.Syntax.Typed.html#900" class="InductiveConstructor">iop</a> <a id="701" class="Symbol">(λ</a> <a id="704" href="MJ.Examples.While.html#704" class="Bound">x</a> <a id="706" href="MJ.Examples.While.html#706" class="Bound">y</a> <a id="708" class="Symbol">→</a> <a id="710" href="MJ.Examples.While.html#704" class="Bound">x</a> <a id="712" href="Agda.Builtin.Nat.html#_%2B_" class="Primitive Operator">+</a> <a id="714" href="MJ.Examples.While.html#706" class="Bound">y</a><a id="715" class="Symbol">)</a> <a id="717" class="Symbol">(</a><a id="718" href="MJ.Syntax.Typed.html#860" class="InductiveConstructor">var</a> <a id="722" href="MJ.Examples.While.html#522" class="Bound">x</a><a id="723" class="Symbol">)</a> <a id="725" class="Symbol">(</a><a id="726" href="MJ.Syntax.Typed.html#804" class="InductiveConstructor">num</a> <a id="730" class="Number">1</a><a id="731" class="Symbol">))</a>
      <a id="740" class="Symbol">)</a>
      <a id="748" class="Comment">-- test simplest if-then-else and early return from statement</a>
      <a id="816" href="Data.Star.html#Star._%E2%97%85_" class="InductiveConstructor Operator">◅</a> <a id="818" href="MJ.Syntax.Typed.html#1947" class="InductiveConstructor Operator">if</a> <a id="821" class="Symbol">(</a><a id="822" href="MJ.Syntax.Typed.html#804" class="InductiveConstructor">num</a> <a id="826" class="Number">0</a><a id="827" class="Symbol">)</a> <a id="829" href="MJ.Syntax.Typed.html#1947" class="InductiveConstructor Operator">then</a> <a id="834" class="Symbol">(</a><a id="835" href="MJ.Syntax.Typed.html#1702" class="InductiveConstructor">ret</a> <a id="839" class="Symbol">(</a><a id="840" href="MJ.Syntax.Typed.html#860" class="InductiveConstructor">var</a> <a id="844" href="MJ.Examples.While.html#522" class="Bound">x</a><a id="845" class="Symbol">))</a> <a id="848" href="MJ.Syntax.Typed.html#1947" class="InductiveConstructor Operator">else</a> <a id="853" class="Symbol">(</a><a id="854" href="MJ.Syntax.Typed.html#1702" class="InductiveConstructor">ret</a> <a id="858" class="Symbol">(</a><a id="859" href="MJ.Syntax.Typed.html#804" class="InductiveConstructor">num</a> <a id="863" class="Number">0</a><a id="864" class="Symbol">))</a>
      <a id="873" href="Data.Star.html#Star._%E2%97%85_" class="InductiveConstructor Operator">◅</a> <a id="875" href="Data.Star.html#Star.%CE%B5" class="InductiveConstructor">ε</a>
    <a id="881" class="Symbol">)</a>
    <a id="887" class="Symbol">(</a><a id="888" href="MJ.Syntax.Typed.html#804" class="InductiveConstructor">num</a> <a id="892" class="Number">0</a><a id="893" class="Symbol">)</a>

<a id="test1" href="MJ.Examples.While.html#test1" class="Function">test1</a> <a id="902" class="Symbol">:</a> <a id="904" href="MJ.Examples.While.html#p%E2%82%81" class="Function">p₁</a> <a id="907" href="MJ.Semantics.Monadic.html#12215" class="Function Operator">⇓⟨</a> <a id="910" class="Number">100</a> <a id="914" href="MJ.Semantics.Monadic.html#12215" class="Function Operator">⟩</a> <a id="916" class="Symbol">(λ</a> <a id="919" class="Symbol">{</a><a id="920" href="MJ.Examples.While.html#920" class="Bound">W</a><a id="921" class="Symbol">}</a> <a id="923" class="Symbol">(</a><a id="924" href="MJ.Examples.While.html#924" class="Bound">v</a> <a id="926" class="Symbol">:</a> <a id="928" href="MJ.Semantics.Values.html#656" class="Datatype">Val</a> <a id="932" href="MJ.Examples.While.html#920" class="Bound">W</a> <a id="934" href="MJ.Types.html#Ty.int" class="InductiveConstructor">int</a><a id="937" class="Symbol">)</a> <a id="939" class="Symbol">→</a> <a id="941" href="MJ.Examples.While.html#924" class="Bound">v</a> <a id="943" href="Agda.Builtin.Equality.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="945" href="MJ.Semantics.Values.html#695" class="InductiveConstructor">num</a> <a id="949" class="Number">10</a><a id="951" class="Symbol">)</a>
<a id="953" href="MJ.Examples.While.html#test1" class="Function">test1</a> <a id="959" class="Symbol">=</a> <a id="961" href="Agda.Builtin.Equality.html#_%E2%89%A1_.refl" class="InductiveConstructor">refl</a>
</pre></body></html>