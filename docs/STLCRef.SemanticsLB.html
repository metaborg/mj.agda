<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>STLCRef.SemanticsLB</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Keyword">module</a> <a id="8" href="STLCRef.SemanticsLB.html" class="Module">STLCRef.SemanticsLB</a> <a id="28" class="Keyword">where</a>

<a id="35" class="Comment">-- This file contains a definitional interpreter for STLC+Ref as</a>
<a id="100" class="Comment">-- described in Section 3 of the paper.  The interpreter operates with</a>
<a id="171" class="Comment">-- the notion of monadic bind described in Section 3.3 of the paper;</a>
<a id="240" class="Comment">-- see `Semantics.agda` for the version of the interpreter of STLC+Ref</a>
<a id="311" class="Comment">-- using monadic strength as described in Section 3.4 of the paper.</a>

<a id="380" class="Keyword">open</a> <a id="385" class="Keyword">import</a> <a id="392" href="Agda.Primitive.html" class="Module">Agda.Primitive</a>
<a id="407" class="Keyword">open</a> <a id="412" class="Keyword">import</a> <a id="419" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="429" class="Keyword">open</a> <a id="434" class="Keyword">import</a> <a id="441" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="450" class="Keyword">hiding</a> <a id="457" class="Symbol">(</a><a id="458" href="Data.Nat.Base.html#_%E2%8A%94_" class="Function Operator">_⊔_</a> <a id="462" class="Symbol">;</a> <a id="464" href="Data.Nat.Base.html#_%5E_" class="Function Operator">_^_</a><a id="467" class="Symbol">)</a>
<a id="469" class="Keyword">open</a> <a id="474" class="Keyword">import</a> <a id="481" href="Data.Integer.html" class="Module">Data.Integer</a> <a id="494" class="Keyword">hiding</a> <a id="501" class="Symbol">(</a><a id="502" href="Data.Integer.Base.html#_%E2%8A%94_" class="Function Operator">_⊔_</a><a id="505" class="Symbol">)</a>
<a id="507" class="Keyword">open</a> <a id="512" class="Keyword">import</a> <a id="519" href="Data.List.Most.html" class="Module">Data.List.Most</a>
<a id="534" class="Keyword">open</a> <a id="539" class="Keyword">import</a> <a id="546" href="Data.Product.html" class="Module">Data.Product</a>
<a id="559" class="Keyword">open</a> <a id="564" class="Keyword">import</a> <a id="571" href="Data.Maybe.html" class="Module">Data.Maybe</a> <a id="582" class="Keyword">hiding</a> <a id="589" class="Symbol">(</a><a id="590" href="Data.Maybe.Base.html#All" class="Datatype">All</a><a id="593" class="Symbol">)</a>
<a id="595" class="Keyword">open</a> <a id="600" class="Keyword">import</a> <a id="607" href="Data.List.All.html" class="Module">Data.List.All</a> <a id="621" class="Symbol">as</a> <a id="624" class="Module">List∀</a>
<a id="630" class="Keyword">open</a> <a id="635" class="Keyword">import</a> <a id="642" href="Data.List.Any.html" class="Module">Data.List.Any</a>
<a id="656" class="Keyword">open</a> <a id="661" class="Keyword">import</a> <a id="668" href="Data.List.Prefix.html" class="Module">Data.List.Prefix</a>
<a id="685" class="Keyword">open</a> <a id="690" class="Keyword">import</a> <a id="697" href="Data.List.Properties.Extra.html" class="Module">Data.List.Properties.Extra</a>
<a id="724" class="Keyword">open</a> <a id="729" class="Keyword">import</a> <a id="736" href="Data.List.All.Properties.Extra.html" class="Module">Data.List.All.Properties.Extra</a>
<a id="767" class="Keyword">open</a> <a id="772" class="Keyword">import</a> <a id="779" href="Function.html" class="Module">Function</a>
<a id="788" class="Keyword">open</a> <a id="793" class="Keyword">import</a> <a id="800" href="Common.Weakening.html" class="Module">Common.Weakening</a>
<a id="817" class="Keyword">open</a> <a id="822" class="Keyword">import</a> <a id="829" href="Common.Strength.html" class="Module">Common.Strength</a>

<a id="846" class="Comment">------------</a>
<a id="859" class="Comment">-- SYNTAX --</a>
<a id="872" class="Comment">------------</a>

<a id="886" class="Comment">-- These definitions correspond to Section 3.1, except we have</a>
<a id="949" class="Comment">-- included integers, integer operations, and a simple conditional</a>
<a id="1016" class="Comment">-- expression (if-zero) in the language.</a>

<a id="1058" class="Keyword">data</a> <a id="Ty" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a> <a id="1066" class="Symbol">:</a> <a id="1068" class="PrimitiveType">Set</a>

<a id="Ctx" href="STLCRef.SemanticsLB.html#Ctx" class="Function">Ctx</a> <a id="1077" class="Symbol">=</a> <a id="1079" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="1084" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a>

<a id="1088" class="Keyword">data</a> <a id="1093" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a> <a id="1096" class="Keyword">where</a>
  <a id="Ty._⇒_" href="STLCRef.SemanticsLB.html#Ty._%E2%87%92_" class="InductiveConstructor Operator">_⇒_</a>  <a id="1109" class="Symbol">:</a> <a id="1111" class="Symbol">(</a><a id="1112" href="STLCRef.SemanticsLB.html#1112" class="Bound">a</a> <a id="1114" href="STLCRef.SemanticsLB.html#1114" class="Bound">b</a> <a id="1116" class="Symbol">:</a> <a id="1118" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a><a id="1120" class="Symbol">)</a> <a id="1122" class="Symbol">→</a> <a id="1124" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a>
  <a id="Ty.unit" href="STLCRef.SemanticsLB.html#Ty.unit" class="InductiveConstructor">unit</a> <a id="1134" class="Symbol">:</a> <a id="1136" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a>
  <a id="Ty.int" href="STLCRef.SemanticsLB.html#Ty.int" class="InductiveConstructor">int</a>  <a id="1146" class="Symbol">:</a> <a id="1148" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a>
  <a id="Ty.ref" href="STLCRef.SemanticsLB.html#Ty.ref" class="InductiveConstructor">ref</a>  <a id="1158" class="Symbol">:</a> <a id="1160" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a> <a id="1163" class="Symbol">-&gt;</a> <a id="1166" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a>

<a id="1170" class="Keyword">data</a> <a id="Expr" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1180" class="Symbol">(</a><a id="1181" href="STLCRef.SemanticsLB.html#1181" class="Bound">Γ</a> <a id="1183" class="Symbol">:</a> <a id="1185" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="1190" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a><a id="1192" class="Symbol">)</a> <a id="1194" class="Symbol">:</a> <a id="1196" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a> <a id="1199" class="Symbol">→</a> <a id="1201" class="PrimitiveType">Set</a> <a id="1205" class="Keyword">where</a>
  <a id="Expr.unit" href="STLCRef.SemanticsLB.html#Expr.unit" class="InductiveConstructor">unit</a>  <a id="1219" class="Symbol">:</a> <a id="1221" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1226" href="STLCRef.SemanticsLB.html#1181" class="Bound">Γ</a> <a id="1228" href="STLCRef.SemanticsLB.html#Ty.unit" class="InductiveConstructor">unit</a>
  <a id="Expr.var" href="STLCRef.SemanticsLB.html#Expr.var" class="InductiveConstructor">var</a>   <a id="1241" class="Symbol">:</a> <a id="1243" class="Symbol">∀</a> <a id="1245" class="Symbol">{</a><a id="1246" href="STLCRef.SemanticsLB.html#1246" class="Bound">t</a><a id="1247" class="Symbol">}</a> <a id="1249" class="Symbol">→</a> <a id="1251" href="STLCRef.SemanticsLB.html#1246" class="Bound">t</a> <a id="1253" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="1255" href="STLCRef.SemanticsLB.html#1181" class="Bound">Γ</a> <a id="1257" class="Symbol">→</a> <a id="1259" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1264" href="STLCRef.SemanticsLB.html#1181" class="Bound">Γ</a> <a id="1266" href="STLCRef.SemanticsLB.html#1246" class="Bound">t</a>
  <a id="Expr.ƛ" href="STLCRef.SemanticsLB.html#Expr.%C6%9B" class="InductiveConstructor">ƛ</a>     <a id="1276" class="Symbol">:</a> <a id="1278" class="Symbol">∀</a> <a id="1280" class="Symbol">{</a><a id="1281" href="STLCRef.SemanticsLB.html#1281" class="Bound">a</a> <a id="1283" href="STLCRef.SemanticsLB.html#1283" class="Bound">b</a><a id="1284" class="Symbol">}</a> <a id="1286" class="Symbol">→</a> <a id="1288" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1293" class="Symbol">(</a><a id="1294" href="STLCRef.SemanticsLB.html#1281" class="Bound">a</a> <a id="1296" href="Agda.Builtin.List.html#List._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="1298" href="STLCRef.SemanticsLB.html#1181" class="Bound">Γ</a><a id="1299" class="Symbol">)</a> <a id="1301" href="STLCRef.SemanticsLB.html#1283" class="Bound">b</a> <a id="1303" class="Symbol">→</a> <a id="1305" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1310" href="STLCRef.SemanticsLB.html#1181" class="Bound">Γ</a> <a id="1312" class="Symbol">(</a><a id="1313" href="STLCRef.SemanticsLB.html#1281" class="Bound">a</a> <a id="1315" href="STLCRef.SemanticsLB.html#Ty._%E2%87%92_" class="InductiveConstructor Operator">⇒</a> <a id="1317" href="STLCRef.SemanticsLB.html#1283" class="Bound">b</a><a id="1318" class="Symbol">)</a>
  <a id="Expr._·_" href="STLCRef.SemanticsLB.html#Expr._%C2%B7_" class="InductiveConstructor Operator">_·_</a>   <a id="1328" class="Symbol">:</a> <a id="1330" class="Symbol">∀</a> <a id="1332" class="Symbol">{</a><a id="1333" href="STLCRef.SemanticsLB.html#1333" class="Bound">a</a> <a id="1335" href="STLCRef.SemanticsLB.html#1335" class="Bound">b</a><a id="1336" class="Symbol">}</a> <a id="1338" class="Symbol">→</a> <a id="1340" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1345" href="STLCRef.SemanticsLB.html#1181" class="Bound">Γ</a> <a id="1347" class="Symbol">(</a><a id="1348" href="STLCRef.SemanticsLB.html#1333" class="Bound">a</a> <a id="1350" href="STLCRef.SemanticsLB.html#Ty._%E2%87%92_" class="InductiveConstructor Operator">⇒</a> <a id="1352" href="STLCRef.SemanticsLB.html#1335" class="Bound">b</a><a id="1353" class="Symbol">)</a> <a id="1355" class="Symbol">→</a> <a id="1357" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1362" href="STLCRef.SemanticsLB.html#1181" class="Bound">Γ</a> <a id="1364" href="STLCRef.SemanticsLB.html#1333" class="Bound">a</a> <a id="1366" class="Symbol">→</a> <a id="1368" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1373" href="STLCRef.SemanticsLB.html#1181" class="Bound">Γ</a> <a id="1375" href="STLCRef.SemanticsLB.html#1335" class="Bound">b</a>
  <a id="Expr.num" href="STLCRef.SemanticsLB.html#Expr.num" class="InductiveConstructor">num</a>   <a id="1385" class="Symbol">:</a> <a id="1387" href="Agda.Builtin.Int.html#%E2%84%A4" class="Datatype">ℤ</a> <a id="1389" class="Symbol">→</a> <a id="1391" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1396" href="STLCRef.SemanticsLB.html#1181" class="Bound">Γ</a> <a id="1398" href="STLCRef.SemanticsLB.html#Ty.int" class="InductiveConstructor">int</a>
  <a id="Expr.iop" href="STLCRef.SemanticsLB.html#Expr.iop" class="InductiveConstructor">iop</a>   <a id="1410" class="Symbol">:</a> <a id="1412" class="Symbol">(</a><a id="1413" href="Agda.Builtin.Int.html#%E2%84%A4" class="Datatype">ℤ</a> <a id="1415" class="Symbol">→</a> <a id="1417" href="Agda.Builtin.Int.html#%E2%84%A4" class="Datatype">ℤ</a> <a id="1419" class="Symbol">→</a> <a id="1421" href="Agda.Builtin.Int.html#%E2%84%A4" class="Datatype">ℤ</a><a id="1422" class="Symbol">)</a> <a id="1424" class="Symbol">→</a> <a id="1426" class="Symbol">(</a><a id="1427" href="STLCRef.SemanticsLB.html#1427" class="Bound">l</a> <a id="1429" href="STLCRef.SemanticsLB.html#1429" class="Bound">r</a> <a id="1431" class="Symbol">:</a> <a id="1433" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1438" href="STLCRef.SemanticsLB.html#1181" class="Bound">Γ</a> <a id="1440" href="STLCRef.SemanticsLB.html#Ty.int" class="InductiveConstructor">int</a><a id="1443" class="Symbol">)</a> <a id="1445" class="Symbol">→</a> <a id="1447" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1452" href="STLCRef.SemanticsLB.html#1181" class="Bound">Γ</a> <a id="1454" href="STLCRef.SemanticsLB.html#Ty.int" class="InductiveConstructor">int</a>
  <a id="Expr.ifz" href="STLCRef.SemanticsLB.html#Expr.ifz" class="InductiveConstructor">ifz</a>   <a id="1466" class="Symbol">:</a> <a id="1468" class="Symbol">∀</a> <a id="1470" class="Symbol">{</a><a id="1471" href="STLCRef.SemanticsLB.html#1471" class="Bound">t</a><a id="1472" class="Symbol">}</a> <a id="1474" class="Symbol">→</a> <a id="1476" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1481" href="STLCRef.SemanticsLB.html#1181" class="Bound">Γ</a> <a id="1483" href="STLCRef.SemanticsLB.html#Ty.int" class="InductiveConstructor">int</a> <a id="1487" class="Symbol">→</a> <a id="1489" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1494" href="STLCRef.SemanticsLB.html#1181" class="Bound">Γ</a> <a id="1496" href="STLCRef.SemanticsLB.html#1471" class="Bound">t</a> <a id="1498" class="Symbol">→</a> <a id="1500" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1505" href="STLCRef.SemanticsLB.html#1181" class="Bound">Γ</a> <a id="1507" href="STLCRef.SemanticsLB.html#1471" class="Bound">t</a> <a id="1509" class="Symbol">→</a> <a id="1511" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1516" href="STLCRef.SemanticsLB.html#1181" class="Bound">Γ</a> <a id="1518" href="STLCRef.SemanticsLB.html#1471" class="Bound">t</a>
  <a id="Expr.ref" href="STLCRef.SemanticsLB.html#Expr.ref" class="InductiveConstructor">ref</a>   <a id="1528" class="Symbol">:</a> <a id="1530" class="Symbol">∀</a> <a id="1532" class="Symbol">{</a><a id="1533" href="STLCRef.SemanticsLB.html#1533" class="Bound">t</a><a id="1534" class="Symbol">}</a> <a id="1536" class="Symbol">→</a> <a id="1538" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1543" href="STLCRef.SemanticsLB.html#1181" class="Bound">Γ</a> <a id="1545" href="STLCRef.SemanticsLB.html#1533" class="Bound">t</a> <a id="1547" class="Symbol">→</a> <a id="1549" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1554" href="STLCRef.SemanticsLB.html#1181" class="Bound">Γ</a> <a id="1556" class="Symbol">(</a><a id="1557" href="STLCRef.SemanticsLB.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="1561" href="STLCRef.SemanticsLB.html#1533" class="Bound">t</a><a id="1562" class="Symbol">)</a>
  <a id="Expr.!_" href="STLCRef.SemanticsLB.html#Expr.%21_" class="InductiveConstructor Operator">!_</a>    <a id="1572" class="Symbol">:</a> <a id="1574" class="Symbol">∀</a> <a id="1576" class="Symbol">{</a><a id="1577" href="STLCRef.SemanticsLB.html#1577" class="Bound">t</a><a id="1578" class="Symbol">}</a> <a id="1580" class="Symbol">→</a> <a id="1582" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1587" href="STLCRef.SemanticsLB.html#1181" class="Bound">Γ</a> <a id="1589" class="Symbol">(</a><a id="1590" href="STLCRef.SemanticsLB.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="1594" href="STLCRef.SemanticsLB.html#1577" class="Bound">t</a><a id="1595" class="Symbol">)</a> <a id="1597" class="Symbol">→</a> <a id="1599" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1604" href="STLCRef.SemanticsLB.html#1181" class="Bound">Γ</a> <a id="1606" href="STLCRef.SemanticsLB.html#1577" class="Bound">t</a>
  <a id="Expr._≔_" href="STLCRef.SemanticsLB.html#Expr._%E2%89%94_" class="InductiveConstructor Operator">_≔_</a>   <a id="1616" class="Symbol">:</a> <a id="1618" class="Symbol">∀</a> <a id="1620" class="Symbol">{</a><a id="1621" href="STLCRef.SemanticsLB.html#1621" class="Bound">t</a><a id="1622" class="Symbol">}</a> <a id="1624" class="Symbol">→</a> <a id="1626" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1631" href="STLCRef.SemanticsLB.html#1181" class="Bound">Γ</a> <a id="1633" class="Symbol">(</a><a id="1634" href="STLCRef.SemanticsLB.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="1638" href="STLCRef.SemanticsLB.html#1621" class="Bound">t</a><a id="1639" class="Symbol">)</a> <a id="1641" class="Symbol">→</a> <a id="1643" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1648" href="STLCRef.SemanticsLB.html#1181" class="Bound">Γ</a> <a id="1650" href="STLCRef.SemanticsLB.html#1621" class="Bound">t</a> <a id="1652" class="Symbol">→</a> <a id="1654" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="1659" href="STLCRef.SemanticsLB.html#1181" class="Bound">Γ</a> <a id="1661" href="STLCRef.SemanticsLB.html#Ty.unit" class="InductiveConstructor">unit</a>


<a id="1668" class="Comment">-----------------------</a>
<a id="1692" class="Comment">-- STORES AND VALUES --</a>
<a id="1716" class="Comment">-----------------------</a>

<a id="StoreTy" href="STLCRef.SemanticsLB.html#StoreTy" class="Function">StoreTy</a> <a id="1749" class="Symbol">=</a> <a id="1751" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="1756" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a>

<a id="1760" class="Comment">-- `Val` uses `_∈_` from `Relation.Binary` in the Agda Standard</a>
<a id="1824" class="Comment">-- Library to represent typed locations which witness the existence of</a>
<a id="1895" class="Comment">-- an store cell in the store type.</a>

<a id="1932" class="Keyword">mutual</a>
  <a id="1941" class="Keyword">data</a> <a id="Val" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="1950" class="Symbol">:</a> <a id="1952" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a> <a id="1955" class="Symbol">→</a> <a id="1957" class="Symbol">(</a><a id="1958" href="STLCRef.SemanticsLB.html#1958" class="Bound">Σ</a> <a id="1960" class="Symbol">:</a> <a id="1962" href="STLCRef.SemanticsLB.html#StoreTy" class="Function">StoreTy</a><a id="1969" class="Symbol">)</a> <a id="1971" class="Symbol">→</a> <a id="1973" class="PrimitiveType">Set</a> <a id="1977" class="Keyword">where</a>
    <a id="Val.loc" href="STLCRef.SemanticsLB.html#Val.loc" class="InductiveConstructor">loc</a>    <a id="1994" class="Symbol">:</a> <a id="1996" class="Symbol">∀</a> <a id="1998" class="Symbol">{</a><a id="1999" href="STLCRef.SemanticsLB.html#1999" class="Bound">Σ</a> <a id="2001" href="STLCRef.SemanticsLB.html#2001" class="Bound">t</a><a id="2002" class="Symbol">}</a> <a id="2004" class="Symbol">→</a> <a id="2006" href="STLCRef.SemanticsLB.html#2001" class="Bound">t</a> <a id="2008" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="2010" href="STLCRef.SemanticsLB.html#1999" class="Bound">Σ</a> <a id="2012" class="Symbol">→</a> <a id="2014" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="2018" class="Symbol">(</a><a id="2019" href="STLCRef.SemanticsLB.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="2023" href="STLCRef.SemanticsLB.html#2001" class="Bound">t</a><a id="2024" class="Symbol">)</a> <a id="2026" href="STLCRef.SemanticsLB.html#1999" class="Bound">Σ</a>
    <a id="Val.unit" href="STLCRef.SemanticsLB.html#Val.unit" class="InductiveConstructor">unit</a>   <a id="2039" class="Symbol">:</a> <a id="2041" class="Symbol">∀</a> <a id="2043" class="Symbol">{</a><a id="2044" href="STLCRef.SemanticsLB.html#2044" class="Bound">Σ</a><a id="2045" class="Symbol">}</a> <a id="2047" class="Symbol">→</a> <a id="2049" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="2053" href="STLCRef.SemanticsLB.html#Ty.unit" class="InductiveConstructor">unit</a> <a id="2058" href="STLCRef.SemanticsLB.html#2044" class="Bound">Σ</a>
    <a id="Val.⟨_,_⟩" href="STLCRef.SemanticsLB.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟨_,_⟩</a>  <a id="2071" class="Symbol">:</a> <a id="2073" class="Symbol">∀</a> <a id="2075" class="Symbol">{</a><a id="2076" href="STLCRef.SemanticsLB.html#2076" class="Bound">Σ</a> <a id="2078" href="STLCRef.SemanticsLB.html#2078" class="Bound">Γ</a> <a id="2080" href="STLCRef.SemanticsLB.html#2080" class="Bound">a</a> <a id="2082" href="STLCRef.SemanticsLB.html#2082" class="Bound">b</a><a id="2083" class="Symbol">}</a> <a id="2085" class="Symbol">→</a> <a id="2087" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="2092" class="Symbol">(</a><a id="2093" href="STLCRef.SemanticsLB.html#2080" class="Bound">a</a> <a id="2095" href="Agda.Builtin.List.html#List._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="2097" href="STLCRef.SemanticsLB.html#2078" class="Bound">Γ</a><a id="2098" class="Symbol">)</a> <a id="2100" href="STLCRef.SemanticsLB.html#2082" class="Bound">b</a> <a id="2102" class="Symbol">→</a> <a id="2104" href="STLCRef.SemanticsLB.html#Env" class="Function">Env</a> <a id="2108" href="STLCRef.SemanticsLB.html#2078" class="Bound">Γ</a> <a id="2110" href="STLCRef.SemanticsLB.html#2076" class="Bound">Σ</a> <a id="2112" class="Symbol">→</a> <a id="2114" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="2118" class="Symbol">(</a><a id="2119" href="STLCRef.SemanticsLB.html#2080" class="Bound">a</a> <a id="2121" href="STLCRef.SemanticsLB.html#Ty._%E2%87%92_" class="InductiveConstructor Operator">⇒</a> <a id="2123" href="STLCRef.SemanticsLB.html#2082" class="Bound">b</a><a id="2124" class="Symbol">)</a> <a id="2126" href="STLCRef.SemanticsLB.html#2076" class="Bound">Σ</a>
    <a id="Val.num" href="STLCRef.SemanticsLB.html#Val.num" class="InductiveConstructor">num</a>   <a id="2138" class="Symbol">:</a> <a id="2140" class="Symbol">∀</a> <a id="2142" class="Symbol">{</a><a id="2143" href="STLCRef.SemanticsLB.html#2143" class="Bound">Σ</a><a id="2144" class="Symbol">}</a> <a id="2146" class="Symbol">→</a> <a id="2148" href="Agda.Builtin.Int.html#%E2%84%A4" class="Datatype">ℤ</a> <a id="2150" class="Symbol">→</a> <a id="2152" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="2156" href="STLCRef.SemanticsLB.html#Ty.int" class="InductiveConstructor">int</a> <a id="2160" href="STLCRef.SemanticsLB.html#2143" class="Bound">Σ</a>

  <a id="Env" href="STLCRef.SemanticsLB.html#Env" class="Function">Env</a> <a id="2169" class="Symbol">:</a> <a id="2171" class="Symbol">(</a><a id="2172" href="STLCRef.SemanticsLB.html#2172" class="Bound">Γ</a> <a id="2174" class="Symbol">:</a> <a id="2176" href="STLCRef.SemanticsLB.html#Ctx" class="Function">Ctx</a><a id="2179" class="Symbol">)(</a><a id="2181" href="STLCRef.SemanticsLB.html#2181" class="Bound">Σ</a> <a id="2183" class="Symbol">:</a> <a id="2185" href="STLCRef.SemanticsLB.html#StoreTy" class="Function">StoreTy</a><a id="2192" class="Symbol">)</a> <a id="2194" class="Symbol">→</a> <a id="2196" class="PrimitiveType">Set</a>
  <a id="2202" href="STLCRef.SemanticsLB.html#Env" class="Function">Env</a> <a id="2206" href="STLCRef.SemanticsLB.html#2206" class="Bound">Γ</a> <a id="2208" href="STLCRef.SemanticsLB.html#2208" class="Bound">Σ</a> <a id="2210" class="Symbol">=</a> <a id="2212" href="Data.List.All.html#All" class="Datatype">All</a> <a id="2216" class="Symbol">(λ</a> <a id="2219" href="STLCRef.SemanticsLB.html#2219" class="Bound">t</a> <a id="2221" class="Symbol">→</a> <a id="2223" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="2227" href="STLCRef.SemanticsLB.html#2219" class="Bound">t</a> <a id="2229" href="STLCRef.SemanticsLB.html#2208" class="Bound">Σ</a><a id="2230" class="Symbol">)</a> <a id="2232" href="STLCRef.SemanticsLB.html#2206" class="Bound">Γ</a>

<a id="Store" href="STLCRef.SemanticsLB.html#Store" class="Function">Store</a> <a id="2241" class="Symbol">:</a> <a id="2243" class="Symbol">(</a><a id="2244" href="STLCRef.SemanticsLB.html#2244" class="Bound">Σ</a> <a id="2246" class="Symbol">:</a> <a id="2248" href="STLCRef.SemanticsLB.html#StoreTy" class="Function">StoreTy</a><a id="2255" class="Symbol">)</a> <a id="2257" class="Symbol">→</a> <a id="2259" class="PrimitiveType">Set</a>
<a id="2263" href="STLCRef.SemanticsLB.html#Store" class="Function">Store</a> <a id="2269" href="STLCRef.SemanticsLB.html#2269" class="Bound">Σ</a> <a id="2271" class="Symbol">=</a> <a id="2273" href="Data.List.All.html#All" class="Datatype">All</a> <a id="2277" class="Symbol">(λ</a> <a id="2280" href="STLCRef.SemanticsLB.html#2280" class="Bound">t</a> <a id="2282" class="Symbol">→</a> <a id="2284" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="2288" href="STLCRef.SemanticsLB.html#2280" class="Bound">t</a> <a id="2290" href="STLCRef.SemanticsLB.html#2269" class="Bound">Σ</a><a id="2291" class="Symbol">)</a> <a id="2293" href="STLCRef.SemanticsLB.html#2269" class="Bound">Σ</a>

<a id="2296" class="Comment">-- The `lookup-store` function is defined in terms of the `lookup`</a>
<a id="2363" class="Comment">-- function from `Data.List.All` in the Agda Standard Library.</a>
<a id="lookup-store" href="STLCRef.SemanticsLB.html#lookup-store" class="Function">lookup-store</a> <a id="2439" class="Symbol">:</a> <a id="2441" class="Symbol">∀</a> <a id="2443" class="Symbol">{</a><a id="2444" href="STLCRef.SemanticsLB.html#2444" class="Bound">Σ</a> <a id="2446" href="STLCRef.SemanticsLB.html#2446" class="Bound">t</a><a id="2447" class="Symbol">}</a> <a id="2449" class="Symbol">→</a> <a id="2451" href="STLCRef.SemanticsLB.html#2446" class="Bound">t</a> <a id="2453" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="2455" href="STLCRef.SemanticsLB.html#2444" class="Bound">Σ</a> <a id="2457" class="Symbol">→</a> <a id="2459" href="STLCRef.SemanticsLB.html#Store" class="Function">Store</a> <a id="2465" href="STLCRef.SemanticsLB.html#2444" class="Bound">Σ</a> <a id="2467" class="Symbol">→</a> <a id="2469" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="2473" href="STLCRef.SemanticsLB.html#2446" class="Bound">t</a> <a id="2475" href="STLCRef.SemanticsLB.html#2444" class="Bound">Σ</a>
<a id="2477" href="STLCRef.SemanticsLB.html#lookup-store" class="Function">lookup-store</a> <a id="2490" href="STLCRef.SemanticsLB.html#2490" class="Bound">x</a> <a id="2492" href="STLCRef.SemanticsLB.html#2492" class="Bound">μ</a> <a id="2494" class="Symbol">=</a> <a id="2496" href="Data.List.All.html#lookup" class="Function">lookup</a> <a id="2503" href="STLCRef.SemanticsLB.html#2492" class="Bound">μ</a> <a id="2505" href="STLCRef.SemanticsLB.html#2490" class="Bound">x</a>

<a id="2508" class="Comment">-- The `update-store` function is defined in terms of the update</a>
<a id="2573" class="Comment">-- function for the `All` type: `_All[_]≔&#39;_` from the Standard Library</a>
<a id="2644" class="Comment">-- extension (contained in the `lib/*` folder of this artifact).</a>
<a id="update-store" href="STLCRef.SemanticsLB.html#update-store" class="Function">update-store</a> <a id="2722" class="Symbol">:</a> <a id="2724" class="Symbol">∀</a> <a id="2726" class="Symbol">{</a><a id="2727" href="STLCRef.SemanticsLB.html#2727" class="Bound">Σ</a> <a id="2729" href="STLCRef.SemanticsLB.html#2729" class="Bound">t</a><a id="2730" class="Symbol">}</a> <a id="2732" class="Symbol">→</a> <a id="2734" href="STLCRef.SemanticsLB.html#2729" class="Bound">t</a> <a id="2736" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="2738" href="STLCRef.SemanticsLB.html#2727" class="Bound">Σ</a> <a id="2740" class="Symbol">→</a> <a id="2742" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="2746" href="STLCRef.SemanticsLB.html#2729" class="Bound">t</a> <a id="2748" href="STLCRef.SemanticsLB.html#2727" class="Bound">Σ</a> <a id="2750" class="Symbol">→</a> <a id="2752" href="STLCRef.SemanticsLB.html#Store" class="Function">Store</a> <a id="2758" href="STLCRef.SemanticsLB.html#2727" class="Bound">Σ</a> <a id="2760" class="Symbol">→</a> <a id="2762" href="STLCRef.SemanticsLB.html#Store" class="Function">Store</a> <a id="2768" href="STLCRef.SemanticsLB.html#2727" class="Bound">Σ</a>
<a id="2770" href="STLCRef.SemanticsLB.html#update-store" class="Function">update-store</a> <a id="2783" href="STLCRef.SemanticsLB.html#2783" class="Bound">ptr</a> <a id="2787" href="STLCRef.SemanticsLB.html#2787" class="Bound">v</a> <a id="2789" href="STLCRef.SemanticsLB.html#2789" class="Bound">μ</a> <a id="2791" class="Symbol">=</a> <a id="2793" href="STLCRef.SemanticsLB.html#2789" class="Bound">μ</a> <a id="2795" href="Data.List.All.Properties.Extra.html#_All%5B_%5D%E2%89%94%27_" class="Function Operator">All[</a> <a id="2800" href="STLCRef.SemanticsLB.html#2783" class="Bound">ptr</a> <a id="2804" href="Data.List.All.Properties.Extra.html#_All%5B_%5D%E2%89%94%27_" class="Function Operator">]≔&#39;</a> <a id="2808" href="STLCRef.SemanticsLB.html#2787" class="Bound">v</a>


<a id="2812" class="Comment">-----------</a>
<a id="2824" class="Comment">-- MONAD --</a>
<a id="2836" class="Comment">-----------</a>

<a id="2849" class="Comment">-- These definitions correspond to Section 3.3.</a>

<a id="M" href="STLCRef.SemanticsLB.html#M" class="Function">M</a> <a id="2900" class="Symbol">:</a> <a id="2902" class="Symbol">∀</a> <a id="2904" class="Symbol">{</a><a id="2905" href="STLCRef.SemanticsLB.html#2905" class="Bound">i</a><a id="2906" class="Symbol">}(</a><a id="2908" href="STLCRef.SemanticsLB.html#2908" class="Bound">Γ</a> <a id="2910" class="Symbol">:</a> <a id="2912" href="STLCRef.SemanticsLB.html#Ctx" class="Function">Ctx</a><a id="2915" class="Symbol">)</a> <a id="2917" class="Symbol">→</a> <a id="2919" class="Symbol">(</a><a id="2920" href="STLCRef.SemanticsLB.html#2920" class="Bound">p</a> <a id="2922" class="Symbol">:</a> <a id="2924" href="STLCRef.SemanticsLB.html#StoreTy" class="Function">StoreTy</a> <a id="2932" class="Symbol">→</a> <a id="2934" class="PrimitiveType">Set</a> <a id="2938" href="STLCRef.SemanticsLB.html#2905" class="Bound">i</a><a id="2939" class="Symbol">)</a> <a id="2941" class="Symbol">→</a> <a id="2943" class="Symbol">(</a><a id="2944" href="STLCRef.SemanticsLB.html#2944" class="Bound">Σ</a> <a id="2946" class="Symbol">:</a> <a id="2948" href="STLCRef.SemanticsLB.html#StoreTy" class="Function">StoreTy</a><a id="2955" class="Symbol">)</a> <a id="2957" class="Symbol">→</a> <a id="2959" class="PrimitiveType">Set</a> <a id="2963" href="STLCRef.SemanticsLB.html#2905" class="Bound">i</a>
<a id="2965" href="STLCRef.SemanticsLB.html#M" class="Function">M</a> <a id="2967" href="STLCRef.SemanticsLB.html#2967" class="Bound">Γ</a> <a id="2969" href="STLCRef.SemanticsLB.html#2969" class="Bound">p</a> <a id="2971" href="STLCRef.SemanticsLB.html#2971" class="Bound">Σ</a> <a id="2973" class="Symbol">=</a> <a id="2975" href="STLCRef.SemanticsLB.html#Env" class="Function">Env</a> <a id="2979" href="STLCRef.SemanticsLB.html#2967" class="Bound">Γ</a> <a id="2981" href="STLCRef.SemanticsLB.html#2971" class="Bound">Σ</a> <a id="2983" class="Symbol">→</a> <a id="2985" href="STLCRef.SemanticsLB.html#Store" class="Function">Store</a> <a id="2991" href="STLCRef.SemanticsLB.html#2971" class="Bound">Σ</a> <a id="2993" class="Symbol">→</a> <a id="2995" href="Data.Maybe.Base.html#Maybe" class="Datatype">Maybe</a> <a id="3001" class="Symbol">(</a><a id="3002" href="Data.Product.html#%E2%88%83" class="Function">∃</a> <a id="3004" class="Symbol">λ</a> <a id="3006" href="STLCRef.SemanticsLB.html#3006" class="Bound">Σ&#39;</a> <a id="3009" class="Symbol">→</a> <a id="3011" href="STLCRef.SemanticsLB.html#Store" class="Function">Store</a> <a id="3017" href="STLCRef.SemanticsLB.html#3006" class="Bound">Σ&#39;</a> <a id="3020" href="Data.Product.html#_%C3%97_" class="Function Operator">×</a> <a id="3022" href="STLCRef.SemanticsLB.html#2969" class="Bound">p</a> <a id="3024" href="STLCRef.SemanticsLB.html#3006" class="Bound">Σ&#39;</a> <a id="3027" href="Data.Product.html#_%C3%97_" class="Function Operator">×</a> <a id="3029" href="STLCRef.SemanticsLB.html#2971" class="Bound">Σ</a> <a id="3031" href="Data.List.Prefix.html#_%E2%8A%91_" class="Datatype Operator">⊑</a> <a id="3033" href="STLCRef.SemanticsLB.html#3006" class="Bound">Σ&#39;</a><a id="3035" class="Symbol">)</a>

<a id="3038" class="Keyword">mutual</a>
  <a id="weaken-val" href="STLCRef.SemanticsLB.html#weaken-val" class="Function">weaken-val</a>  <a id="3059" class="Symbol">:</a> <a id="3061" class="Symbol">∀</a> <a id="3063" class="Symbol">{</a><a id="3064" href="STLCRef.SemanticsLB.html#3064" class="Bound">a</a><a id="3065" class="Symbol">}{</a><a id="3067" href="STLCRef.SemanticsLB.html#3067" class="Bound">Σ</a> <a id="3069" href="STLCRef.SemanticsLB.html#3069" class="Bound">Σ&#39;</a> <a id="3072" class="Symbol">:</a> <a id="3074" href="STLCRef.SemanticsLB.html#StoreTy" class="Function">StoreTy</a><a id="3081" class="Symbol">}</a> <a id="3083" class="Symbol">→</a> <a id="3085" href="STLCRef.SemanticsLB.html#3067" class="Bound">Σ</a> <a id="3087" href="Data.List.Prefix.html#_%E2%8A%91_" class="Datatype Operator">⊑</a> <a id="3089" href="STLCRef.SemanticsLB.html#3069" class="Bound">Σ&#39;</a> <a id="3092" class="Symbol">→</a> <a id="3094" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="3098" href="STLCRef.SemanticsLB.html#3064" class="Bound">a</a> <a id="3100" href="STLCRef.SemanticsLB.html#3067" class="Bound">Σ</a> <a id="3102" class="Symbol">→</a> <a id="3104" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="3108" href="STLCRef.SemanticsLB.html#3064" class="Bound">a</a> <a id="3110" href="STLCRef.SemanticsLB.html#3069" class="Bound">Σ&#39;</a>
  <a id="3115" href="STLCRef.SemanticsLB.html#weaken-val" class="Function">weaken-val</a> <a id="3126" href="STLCRef.SemanticsLB.html#3126" class="Bound">ext</a> <a id="3130" href="STLCRef.SemanticsLB.html#Val.unit" class="InductiveConstructor">unit</a>      <a id="3140" class="Symbol">=</a> <a id="3142" href="STLCRef.SemanticsLB.html#Val.unit" class="InductiveConstructor">unit</a>
  <a id="3149" href="STLCRef.SemanticsLB.html#weaken-val" class="Function">weaken-val</a> <a id="3160" href="STLCRef.SemanticsLB.html#3160" class="Bound">ext</a> <a id="3164" class="Symbol">(</a><a id="3165" href="STLCRef.SemanticsLB.html#Val.loc" class="InductiveConstructor">loc</a> <a id="3169" href="STLCRef.SemanticsLB.html#3169" class="Bound">l</a><a id="3170" class="Symbol">)</a>   <a id="3174" class="Symbol">=</a> <a id="3176" href="STLCRef.SemanticsLB.html#Val.loc" class="InductiveConstructor">loc</a> <a id="3180" class="Symbol">(</a><a id="3181" href="Data.List.Prefix.html#%E2%88%88-%E2%8A%92" class="Function">∈-⊒</a> <a id="3185" href="STLCRef.SemanticsLB.html#3169" class="Bound">l</a> <a id="3187" href="STLCRef.SemanticsLB.html#3160" class="Bound">ext</a><a id="3190" class="Symbol">)</a>
  <a id="3194" href="STLCRef.SemanticsLB.html#weaken-val" class="Function">weaken-val</a> <a id="3205" href="STLCRef.SemanticsLB.html#3205" class="Bound">ext</a> <a id="3209" href="STLCRef.SemanticsLB.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟨</a> <a id="3211" href="STLCRef.SemanticsLB.html#3211" class="Bound">e</a> <a id="3213" href="STLCRef.SemanticsLB.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">,</a> <a id="3215" href="STLCRef.SemanticsLB.html#3215" class="Bound">E</a> <a id="3217" href="STLCRef.SemanticsLB.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟩</a> <a id="3219" class="Symbol">=</a> <a id="3221" href="STLCRef.SemanticsLB.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟨</a> <a id="3223" href="STLCRef.SemanticsLB.html#3211" class="Bound">e</a> <a id="3225" href="STLCRef.SemanticsLB.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">,</a> <a id="3227" href="STLCRef.SemanticsLB.html#weaken-env" class="Function">weaken-env</a> <a id="3238" href="STLCRef.SemanticsLB.html#3205" class="Bound">ext</a> <a id="3242" href="STLCRef.SemanticsLB.html#3215" class="Bound">E</a> <a id="3244" href="STLCRef.SemanticsLB.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟩</a>
  <a id="3248" href="STLCRef.SemanticsLB.html#weaken-val" class="Function">weaken-val</a> <a id="3259" href="STLCRef.SemanticsLB.html#3259" class="Bound">ext</a> <a id="3263" class="Symbol">(</a><a id="3264" href="STLCRef.SemanticsLB.html#Val.num" class="InductiveConstructor">num</a> <a id="3268" href="STLCRef.SemanticsLB.html#3268" class="Bound">z</a><a id="3269" class="Symbol">)</a>   <a id="3273" class="Symbol">=</a> <a id="3275" href="STLCRef.SemanticsLB.html#Val.num" class="InductiveConstructor">num</a> <a id="3279" href="STLCRef.SemanticsLB.html#3268" class="Bound">z</a>

  <a id="weaken-env" href="STLCRef.SemanticsLB.html#weaken-env" class="Function">weaken-env</a>  <a id="3296" class="Symbol">:</a> <a id="3298" class="Symbol">∀</a> <a id="3300" class="Symbol">{</a><a id="3301" href="STLCRef.SemanticsLB.html#3301" class="Bound">Γ</a><a id="3302" class="Symbol">}{</a><a id="3304" href="STLCRef.SemanticsLB.html#3304" class="Bound">Σ</a> <a id="3306" href="STLCRef.SemanticsLB.html#3306" class="Bound">Σ&#39;</a> <a id="3309" class="Symbol">:</a> <a id="3311" href="STLCRef.SemanticsLB.html#StoreTy" class="Function">StoreTy</a><a id="3318" class="Symbol">}</a> <a id="3320" class="Symbol">→</a> <a id="3322" href="STLCRef.SemanticsLB.html#3304" class="Bound">Σ</a> <a id="3324" href="Data.List.Prefix.html#_%E2%8A%91_" class="Datatype Operator">⊑</a> <a id="3326" href="STLCRef.SemanticsLB.html#3306" class="Bound">Σ&#39;</a> <a id="3329" class="Symbol">→</a> <a id="3331" href="STLCRef.SemanticsLB.html#Env" class="Function">Env</a> <a id="3335" href="STLCRef.SemanticsLB.html#3301" class="Bound">Γ</a> <a id="3337" href="STLCRef.SemanticsLB.html#3304" class="Bound">Σ</a> <a id="3339" class="Symbol">→</a> <a id="3341" href="STLCRef.SemanticsLB.html#Env" class="Function">Env</a> <a id="3345" href="STLCRef.SemanticsLB.html#3301" class="Bound">Γ</a> <a id="3347" href="STLCRef.SemanticsLB.html#3306" class="Bound">Σ&#39;</a>
  <a id="3352" href="STLCRef.SemanticsLB.html#weaken-env" class="Function">weaken-env</a> <a id="3363" href="STLCRef.SemanticsLB.html#3363" class="Bound">ext</a> <a id="3367" class="Symbol">(</a><a id="3368" href="STLCRef.SemanticsLB.html#3368" class="Bound">v</a> <a id="3370" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="3372" href="STLCRef.SemanticsLB.html#3372" class="Bound">vs</a><a id="3374" class="Symbol">)</a>  <a id="3377" class="Symbol">=</a> <a id="3379" href="STLCRef.SemanticsLB.html#weaken-val" class="Function">weaken-val</a> <a id="3390" href="STLCRef.SemanticsLB.html#3363" class="Bound">ext</a> <a id="3394" href="STLCRef.SemanticsLB.html#3368" class="Bound">v</a> <a id="3396" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="3398" href="STLCRef.SemanticsLB.html#weaken-env" class="Function">weaken-env</a> <a id="3409" href="STLCRef.SemanticsLB.html#3363" class="Bound">ext</a> <a id="3413" href="STLCRef.SemanticsLB.html#3372" class="Bound">vs</a>
  <a id="3418" href="STLCRef.SemanticsLB.html#weaken-env" class="Function">weaken-env</a> <a id="3429" href="STLCRef.SemanticsLB.html#3429" class="Bound">ext</a> <a id="3433" href="Data.List.All.html#All.%5B%5D" class="InductiveConstructor">[]</a>        <a id="3443" class="Symbol">=</a> <a id="3445" href="Data.List.All.html#All.%5B%5D" class="InductiveConstructor">[]</a>

<a id="return" href="STLCRef.SemanticsLB.html#return" class="Function">return</a>   <a id="3458" class="Symbol">:</a>    <a id="3463" class="Symbol">∀</a> <a id="3465" class="Symbol">{</a><a id="3466" href="STLCRef.SemanticsLB.html#3466" class="Bound">Σ</a> <a id="3468" href="STLCRef.SemanticsLB.html#3468" class="Bound">Γ</a><a id="3469" class="Symbol">}{</a><a id="3471" href="STLCRef.SemanticsLB.html#3471" class="Bound">p</a> <a id="3473" class="Symbol">:</a> <a id="3475" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="3480" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a> <a id="3483" class="Symbol">→</a> <a id="3485" class="PrimitiveType">Set</a><a id="3488" class="Symbol">}</a> <a id="3490" class="Symbol">→</a> <a id="3492" href="STLCRef.SemanticsLB.html#3471" class="Bound">p</a> <a id="3494" href="STLCRef.SemanticsLB.html#3466" class="Bound">Σ</a> <a id="3496" class="Symbol">→</a> <a id="3498" href="STLCRef.SemanticsLB.html#M" class="Function">M</a> <a id="3500" href="STLCRef.SemanticsLB.html#3468" class="Bound">Γ</a> <a id="3502" href="STLCRef.SemanticsLB.html#3471" class="Bound">p</a> <a id="3504" href="STLCRef.SemanticsLB.html#3466" class="Bound">Σ</a>
<a id="3506" href="STLCRef.SemanticsLB.html#return" class="Function">return</a> <a id="3513" href="STLCRef.SemanticsLB.html#3513" class="Bound">x</a> <a id="3515" href="STLCRef.SemanticsLB.html#3515" class="Bound">E</a> <a id="3517" href="STLCRef.SemanticsLB.html#3517" class="Bound">μ</a> <a id="3519" class="Symbol">=</a> <a id="3521" href="Data.Maybe.Base.html#Maybe.just" class="InductiveConstructor">just</a> <a id="3526" class="Symbol">(_</a> <a id="3529" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3531" href="STLCRef.SemanticsLB.html#3517" class="Bound">μ</a> <a id="3533" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3535" href="STLCRef.SemanticsLB.html#3513" class="Bound">x</a> <a id="3537" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3539" href="Data.List.Prefix.html#%E2%8A%91-refl" class="Function">⊑-refl</a><a id="3545" class="Symbol">)</a>

<a id="_&gt;&gt;=_" href="STLCRef.SemanticsLB.html#_%3E%3E%3D_" class="Function Operator">_&gt;&gt;=_</a> <a id="3554" class="Symbol">:</a> <a id="3556" class="Symbol">∀</a> <a id="3558" class="Symbol">{</a><a id="3559" href="STLCRef.SemanticsLB.html#3559" class="Bound">Σ</a> <a id="3561" href="STLCRef.SemanticsLB.html#3561" class="Bound">Γ</a><a id="3562" class="Symbol">}{</a><a id="3564" href="STLCRef.SemanticsLB.html#3564" class="Bound">p</a> <a id="3566" href="STLCRef.SemanticsLB.html#3566" class="Bound">q</a> <a id="3568" class="Symbol">:</a> <a id="3570" href="STLCRef.SemanticsLB.html#StoreTy" class="Function">StoreTy</a> <a id="3578" class="Symbol">→</a> <a id="3580" class="PrimitiveType">Set</a><a id="3583" class="Symbol">}</a> <a id="3585" class="Symbol">→</a>
        <a id="3595" class="Symbol">(</a><a id="3596" href="STLCRef.SemanticsLB.html#3596" class="Bound">f</a> <a id="3598" class="Symbol">:</a> <a id="3600" href="STLCRef.SemanticsLB.html#M" class="Function">M</a> <a id="3602" href="STLCRef.SemanticsLB.html#3561" class="Bound">Γ</a> <a id="3604" href="STLCRef.SemanticsLB.html#3564" class="Bound">p</a> <a id="3606" href="STLCRef.SemanticsLB.html#3559" class="Bound">Σ</a><a id="3607" class="Symbol">)</a> <a id="3609" class="Symbol">→</a> <a id="3611" class="Symbol">(</a><a id="3612" href="STLCRef.SemanticsLB.html#3612" class="Bound">g</a> <a id="3614" class="Symbol">:</a> <a id="3616" class="Symbol">∀</a> <a id="3618" class="Symbol">{</a><a id="3619" href="STLCRef.SemanticsLB.html#3619" class="Bound">Σ&#39;</a><a id="3621" class="Symbol">}</a> <a id="3623" class="Symbol">→</a> <a id="3625" href="STLCRef.SemanticsLB.html#3559" class="Bound">Σ</a> <a id="3627" href="Data.List.Prefix.html#_%E2%8A%91_" class="Datatype Operator">⊑</a> <a id="3629" href="STLCRef.SemanticsLB.html#3619" class="Bound">Σ&#39;</a> <a id="3632" class="Symbol">→</a> <a id="3634" href="STLCRef.SemanticsLB.html#3564" class="Bound">p</a> <a id="3636" href="STLCRef.SemanticsLB.html#3619" class="Bound">Σ&#39;</a> <a id="3639" class="Symbol">→</a> <a id="3641" href="STLCRef.SemanticsLB.html#M" class="Function">M</a> <a id="3643" href="STLCRef.SemanticsLB.html#3561" class="Bound">Γ</a> <a id="3645" href="STLCRef.SemanticsLB.html#3566" class="Bound">q</a> <a id="3647" href="STLCRef.SemanticsLB.html#3619" class="Bound">Σ&#39;</a><a id="3649" class="Symbol">)</a> <a id="3651" class="Symbol">→</a> <a id="3653" href="STLCRef.SemanticsLB.html#M" class="Function">M</a> <a id="3655" href="STLCRef.SemanticsLB.html#3561" class="Bound">Γ</a> <a id="3657" href="STLCRef.SemanticsLB.html#3566" class="Bound">q</a> <a id="3659" href="STLCRef.SemanticsLB.html#3559" class="Bound">Σ</a>
<a id="3661" class="Symbol">(</a><a id="3662" href="STLCRef.SemanticsLB.html#3662" class="Bound">f</a> <a id="3664" href="STLCRef.SemanticsLB.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="3668" href="STLCRef.SemanticsLB.html#3668" class="Bound">c</a><a id="3669" class="Symbol">)</a> <a id="3671" href="STLCRef.SemanticsLB.html#3671" class="Bound">E</a> <a id="3673" href="STLCRef.SemanticsLB.html#3673" class="Bound">μ</a> <a id="3675" class="Symbol">=</a> <a id="3677" href="Function.html#case_of_" class="Function Operator">case</a> <a id="3682" class="Symbol">(</a><a id="3683" href="STLCRef.SemanticsLB.html#3662" class="Bound">f</a> <a id="3685" href="STLCRef.SemanticsLB.html#3671" class="Bound">E</a> <a id="3687" href="STLCRef.SemanticsLB.html#3673" class="Bound">μ</a><a id="3688" class="Symbol">)</a> <a id="3690" href="Function.html#case_of_" class="Function Operator">of</a> <a id="3693" class="Symbol">λ{</a>
  <a id="3698" href="Data.Maybe.Base.html#Maybe.nothing" class="InductiveConstructor">nothing</a> <a id="3706" class="Symbol">→</a> <a id="3708" href="Data.Maybe.Base.html#Maybe.nothing" class="InductiveConstructor">nothing</a> <a id="3716" class="Symbol">;</a>
  <a id="3720" class="Symbol">(</a><a id="3721" href="Data.Maybe.Base.html#Maybe.just" class="InductiveConstructor">just</a> <a id="3726" class="Symbol">(_</a> <a id="3729" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3731" href="STLCRef.SemanticsLB.html#3731" class="Bound">μ&#39;</a> <a id="3734" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3736" href="STLCRef.SemanticsLB.html#3736" class="Bound">x</a> <a id="3738" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3740" href="STLCRef.SemanticsLB.html#3740" class="Bound">ext</a><a id="3743" class="Symbol">))</a> <a id="3746" class="Symbol">→</a> <a id="3748" href="Function.html#case_of_" class="Function Operator">case</a> <a id="3753" class="Symbol">(</a><a id="3754" href="STLCRef.SemanticsLB.html#3668" class="Bound">c</a> <a id="3756" href="STLCRef.SemanticsLB.html#3740" class="Bound">ext</a> <a id="3760" href="STLCRef.SemanticsLB.html#3736" class="Bound">x</a> <a id="3762" class="Symbol">(</a><a id="3763" href="STLCRef.SemanticsLB.html#weaken-env" class="Function">weaken-env</a> <a id="3774" href="STLCRef.SemanticsLB.html#3740" class="Bound">ext</a> <a id="3778" href="STLCRef.SemanticsLB.html#3671" class="Bound">E</a><a id="3779" class="Symbol">)</a> <a id="3781" href="STLCRef.SemanticsLB.html#3731" class="Bound">μ&#39;</a><a id="3783" class="Symbol">)</a> <a id="3785" href="Function.html#case_of_" class="Function Operator">of</a> <a id="3788" class="Symbol">λ{</a>
    <a id="3795" href="Data.Maybe.Base.html#Maybe.nothing" class="InductiveConstructor">nothing</a> <a id="3803" class="Symbol">→</a> <a id="3805" href="Data.Maybe.Base.html#Maybe.nothing" class="InductiveConstructor">nothing</a> <a id="3813" class="Symbol">;</a>
    <a id="3819" class="Symbol">(</a><a id="3820" href="Data.Maybe.Base.html#Maybe.just" class="InductiveConstructor">just</a> <a id="3825" class="Symbol">(_</a> <a id="3828" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3830" href="STLCRef.SemanticsLB.html#3830" class="Bound">μ&#39;&#39;</a> <a id="3834" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3836" href="STLCRef.SemanticsLB.html#3836" class="Bound">y</a> <a id="3838" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3840" href="STLCRef.SemanticsLB.html#3840" class="Bound">ext&#39;</a><a id="3844" class="Symbol">))</a> <a id="3847" class="Symbol">→</a> <a id="3849" href="Data.Maybe.Base.html#Maybe.just" class="InductiveConstructor">just</a> <a id="3854" class="Symbol">(_</a> <a id="3857" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3859" href="STLCRef.SemanticsLB.html#3830" class="Bound">μ&#39;&#39;</a> <a id="3863" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3865" href="STLCRef.SemanticsLB.html#3836" class="Bound">y</a> <a id="3867" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="3869" href="STLCRef.SemanticsLB.html#3740" class="Bound">ext</a> <a id="3873" href="Common.Weakening.html#_%E2%8A%9A_" class="Function Operator">⊚</a> <a id="3875" href="STLCRef.SemanticsLB.html#3840" class="Bound">ext&#39;</a><a id="3879" class="Symbol">)</a>
  <a id="3883" class="Symbol">}}</a>

<a id="getEnv" href="STLCRef.SemanticsLB.html#getEnv" class="Function">getEnv</a>  <a id="3895" class="Symbol">:</a> <a id="3897" class="Symbol">∀</a> <a id="3899" class="Symbol">{</a><a id="3900" href="STLCRef.SemanticsLB.html#3900" class="Bound">Σ</a> <a id="3902" href="STLCRef.SemanticsLB.html#3902" class="Bound">Γ</a><a id="3903" class="Symbol">}</a> <a id="3905" class="Symbol">→</a> <a id="3907" href="STLCRef.SemanticsLB.html#M" class="Function">M</a> <a id="3909" href="STLCRef.SemanticsLB.html#3902" class="Bound">Γ</a> <a id="3911" class="Symbol">(</a><a id="3912" href="STLCRef.SemanticsLB.html#Env" class="Function">Env</a> <a id="3916" href="STLCRef.SemanticsLB.html#3902" class="Bound">Γ</a><a id="3917" class="Symbol">)</a> <a id="3919" href="STLCRef.SemanticsLB.html#3900" class="Bound">Σ</a>
<a id="3921" href="STLCRef.SemanticsLB.html#getEnv" class="Function">getEnv</a> <a id="3928" href="STLCRef.SemanticsLB.html#3928" class="Bound">E</a> <a id="3930" class="Symbol">=</a> <a id="3932" href="STLCRef.SemanticsLB.html#return" class="Function">return</a> <a id="3939" href="STLCRef.SemanticsLB.html#3928" class="Bound">E</a> <a id="3941" href="STLCRef.SemanticsLB.html#3928" class="Bound">E</a>

<a id="usingEnv" href="STLCRef.SemanticsLB.html#usingEnv" class="Function">usingEnv</a> <a id="3953" class="Symbol">:</a> <a id="3955" class="Symbol">∀</a> <a id="3957" class="Symbol">{</a><a id="3958" href="STLCRef.SemanticsLB.html#3958" class="Bound">Σ</a> <a id="3960" href="STLCRef.SemanticsLB.html#3960" class="Bound">Γ</a> <a id="3962" href="STLCRef.SemanticsLB.html#3962" class="Bound">Γ&#39;</a><a id="3964" class="Symbol">}{</a><a id="3966" href="STLCRef.SemanticsLB.html#3966" class="Bound">p</a> <a id="3968" class="Symbol">:</a> <a id="3970" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="3975" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a> <a id="3978" class="Symbol">→</a> <a id="3980" class="PrimitiveType">Set</a><a id="3983" class="Symbol">}</a> <a id="3985" class="Symbol">→</a> <a id="3987" href="STLCRef.SemanticsLB.html#Env" class="Function">Env</a> <a id="3991" href="STLCRef.SemanticsLB.html#3960" class="Bound">Γ</a> <a id="3993" href="STLCRef.SemanticsLB.html#3958" class="Bound">Σ</a> <a id="3995" class="Symbol">→</a> <a id="3997" href="STLCRef.SemanticsLB.html#M" class="Function">M</a> <a id="3999" href="STLCRef.SemanticsLB.html#3960" class="Bound">Γ</a> <a id="4001" href="STLCRef.SemanticsLB.html#3966" class="Bound">p</a> <a id="4003" href="STLCRef.SemanticsLB.html#3958" class="Bound">Σ</a> <a id="4005" class="Symbol">→</a> <a id="4007" href="STLCRef.SemanticsLB.html#M" class="Function">M</a> <a id="4009" href="STLCRef.SemanticsLB.html#3962" class="Bound">Γ&#39;</a> <a id="4012" href="STLCRef.SemanticsLB.html#3966" class="Bound">p</a> <a id="4014" href="STLCRef.SemanticsLB.html#3958" class="Bound">Σ</a>
<a id="4016" href="STLCRef.SemanticsLB.html#usingEnv" class="Function">usingEnv</a> <a id="4025" href="STLCRef.SemanticsLB.html#4025" class="Bound">E</a> <a id="4027" href="STLCRef.SemanticsLB.html#4027" class="Bound">f</a>  <a id="4030" class="Symbol">_</a> <a id="4032" class="Symbol">=</a> <a id="4034" href="STLCRef.SemanticsLB.html#4027" class="Bound">f</a> <a id="4036" href="STLCRef.SemanticsLB.html#4025" class="Bound">E</a>

<a id="timeout" href="STLCRef.SemanticsLB.html#timeout" class="Function">timeout</a> <a id="4047" class="Symbol">:</a> <a id="4049" class="Symbol">∀</a> <a id="4051" class="Symbol">{</a><a id="4052" href="STLCRef.SemanticsLB.html#4052" class="Bound">Σ</a> <a id="4054" href="STLCRef.SemanticsLB.html#4054" class="Bound">Γ</a><a id="4055" class="Symbol">}{</a><a id="4057" href="STLCRef.SemanticsLB.html#4057" class="Bound">p</a> <a id="4059" class="Symbol">:</a> <a id="4061" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="4066" href="STLCRef.SemanticsLB.html#Ty" class="Datatype">Ty</a> <a id="4069" class="Symbol">→</a> <a id="4071" class="PrimitiveType">Set</a><a id="4074" class="Symbol">}</a> <a id="4076" class="Symbol">→</a> <a id="4078" href="STLCRef.SemanticsLB.html#M" class="Function">M</a> <a id="4080" href="STLCRef.SemanticsLB.html#4054" class="Bound">Γ</a> <a id="4082" href="STLCRef.SemanticsLB.html#4057" class="Bound">p</a> <a id="4084" href="STLCRef.SemanticsLB.html#4052" class="Bound">Σ</a>
<a id="4086" href="STLCRef.SemanticsLB.html#timeout" class="Function">timeout</a> <a id="4094" class="Symbol">_</a> <a id="4096" class="Symbol">_</a> <a id="4098" class="Symbol">=</a> <a id="4100" href="Data.Maybe.Base.html#Maybe.nothing" class="InductiveConstructor">nothing</a>

<a id="store" href="STLCRef.SemanticsLB.html#store" class="Function">store</a> <a id="4115" class="Symbol">:</a> <a id="4117" class="Symbol">∀</a> <a id="4119" class="Symbol">{</a><a id="4120" href="STLCRef.SemanticsLB.html#4120" class="Bound">Σ</a> <a id="4122" href="STLCRef.SemanticsLB.html#4122" class="Bound">t</a> <a id="4124" href="STLCRef.SemanticsLB.html#4124" class="Bound">Γ</a><a id="4125" class="Symbol">}</a> <a id="4127" class="Symbol">→</a> <a id="4129" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="4133" href="STLCRef.SemanticsLB.html#4122" class="Bound">t</a> <a id="4135" href="STLCRef.SemanticsLB.html#4120" class="Bound">Σ</a> <a id="4137" class="Symbol">→</a> <a id="4139" href="STLCRef.SemanticsLB.html#M" class="Function">M</a> <a id="4141" href="STLCRef.SemanticsLB.html#4124" class="Bound">Γ</a> <a id="4143" class="Symbol">(</a><a id="4144" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="4148" class="Symbol">(</a><a id="4149" href="STLCRef.SemanticsLB.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="4153" href="STLCRef.SemanticsLB.html#4122" class="Bound">t</a><a id="4154" class="Symbol">))</a> <a id="4157" href="STLCRef.SemanticsLB.html#4120" class="Bound">Σ</a>
<a id="4159" href="STLCRef.SemanticsLB.html#store" class="Function">store</a> <a id="4165" class="Symbol">{</a><a id="4166" href="STLCRef.SemanticsLB.html#4166" class="Bound">Σ</a><a id="4167" class="Symbol">}</a> <a id="4169" class="Symbol">{</a><a id="4170" href="STLCRef.SemanticsLB.html#4170" class="Bound">t</a><a id="4171" class="Symbol">}</a> <a id="4173" href="STLCRef.SemanticsLB.html#4173" class="Bound">v</a> <a id="4175" class="Symbol">_</a> <a id="4177" href="STLCRef.SemanticsLB.html#4177" class="Bound">μ</a>
  <a id="4181" class="Symbol">=</a> <a id="4183" class="Keyword">let</a> <a id="4187" href="STLCRef.SemanticsLB.html#4187" class="Bound">ext</a> <a id="4191" class="Symbol">=</a> <a id="4193" href="Data.List.Prefix.html#%E2%88%B7%CA%B3-%E2%8A%92" class="Function">∷ʳ-⊒</a> <a id="4198" href="STLCRef.SemanticsLB.html#4170" class="Bound">t</a> <a id="4200" href="STLCRef.SemanticsLB.html#4166" class="Bound">Σ</a>
        <a id="4210" href="STLCRef.SemanticsLB.html#4210" class="Bound">v&#39;</a>  <a id="4214" class="Symbol">=</a> <a id="4216" href="STLCRef.SemanticsLB.html#Val.loc" class="InductiveConstructor">loc</a> <a id="4220" class="Symbol">(</a><a id="4221" href="Data.List.Properties.Extra.html#%E2%88%88-%E2%88%B7%CA%B3" class="Function">∈-∷ʳ</a> <a id="4226" href="STLCRef.SemanticsLB.html#4166" class="Bound">Σ</a> <a id="4228" href="STLCRef.SemanticsLB.html#4170" class="Bound">t</a><a id="4229" class="Symbol">)</a>
        <a id="4239" href="STLCRef.SemanticsLB.html#4239" class="Bound">μ&#39;</a>  <a id="4243" class="Symbol">=</a> <a id="4245" class="Symbol">(</a><a id="4246" href="Data.List.All.html#map" class="Function">List∀.map</a> <a id="4256" class="Symbol">(</a><a id="4257" href="STLCRef.SemanticsLB.html#weaken-val" class="Function">weaken-val</a> <a id="4268" href="STLCRef.SemanticsLB.html#4187" class="Bound">ext</a><a id="4271" class="Symbol">)</a> <a id="4273" href="STLCRef.SemanticsLB.html#4177" class="Bound">μ</a><a id="4274" class="Symbol">)</a> <a id="4276" href="Data.List.All.Properties.Extra.html#_all-%E2%88%B7%CA%B3_" class="Function Operator">all-∷ʳ</a> <a id="4283" class="Symbol">(</a><a id="4284" href="STLCRef.SemanticsLB.html#weaken-val" class="Function">weaken-val</a> <a id="4295" href="STLCRef.SemanticsLB.html#4187" class="Bound">ext</a> <a id="4299" href="STLCRef.SemanticsLB.html#4173" class="Bound">v</a><a id="4300" class="Symbol">)</a>
    <a id="4306" class="Keyword">in</a> <a id="4309" href="Data.Maybe.Base.html#Maybe.just" class="InductiveConstructor">just</a> <a id="4314" class="Symbol">(_</a> <a id="4317" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4319" href="STLCRef.SemanticsLB.html#4239" class="Bound">μ&#39;</a> <a id="4322" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4324" href="STLCRef.SemanticsLB.html#4210" class="Bound">v&#39;</a> <a id="4327" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4329" href="STLCRef.SemanticsLB.html#4187" class="Bound">ext</a><a id="4332" class="Symbol">)</a>

<a id="deref" href="STLCRef.SemanticsLB.html#deref" class="Function">deref</a> <a id="4341" class="Symbol">:</a> <a id="4343" class="Symbol">∀</a> <a id="4345" class="Symbol">{</a><a id="4346" href="STLCRef.SemanticsLB.html#4346" class="Bound">Σ</a> <a id="4348" href="STLCRef.SemanticsLB.html#4348" class="Bound">Γ</a> <a id="4350" href="STLCRef.SemanticsLB.html#4350" class="Bound">t</a><a id="4351" class="Symbol">}</a> <a id="4353" class="Symbol">→</a> <a id="4355" href="STLCRef.SemanticsLB.html#4350" class="Bound">t</a> <a id="4357" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="4359" href="STLCRef.SemanticsLB.html#4346" class="Bound">Σ</a> <a id="4361" class="Symbol">→</a> <a id="4363" href="STLCRef.SemanticsLB.html#M" class="Function">M</a> <a id="4365" href="STLCRef.SemanticsLB.html#4348" class="Bound">Γ</a> <a id="4367" class="Symbol">(</a><a id="4368" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="4372" href="STLCRef.SemanticsLB.html#4350" class="Bound">t</a><a id="4373" class="Symbol">)</a> <a id="4375" href="STLCRef.SemanticsLB.html#4346" class="Bound">Σ</a>
<a id="4377" href="STLCRef.SemanticsLB.html#deref" class="Function">deref</a> <a id="4383" href="STLCRef.SemanticsLB.html#4383" class="Bound">x</a> <a id="4385" href="STLCRef.SemanticsLB.html#4385" class="Bound">E</a> <a id="4387" href="STLCRef.SemanticsLB.html#4387" class="Bound">μ</a> <a id="4389" class="Symbol">=</a> <a id="4391" href="STLCRef.SemanticsLB.html#return" class="Function">return</a> <a id="4398" class="Symbol">(</a><a id="4399" href="Data.List.All.html#lookup" class="Function">lookup</a> <a id="4406" href="STLCRef.SemanticsLB.html#4387" class="Bound">μ</a> <a id="4408" href="STLCRef.SemanticsLB.html#4383" class="Bound">x</a><a id="4409" class="Symbol">)</a> <a id="4411" href="STLCRef.SemanticsLB.html#4385" class="Bound">E</a> <a id="4413" href="STLCRef.SemanticsLB.html#4387" class="Bound">μ</a>

<a id="update" href="STLCRef.SemanticsLB.html#update" class="Function">update</a> <a id="4423" class="Symbol">:</a> <a id="4425" class="Symbol">∀</a> <a id="4427" class="Symbol">{</a><a id="4428" href="STLCRef.SemanticsLB.html#4428" class="Bound">Σ</a> <a id="4430" href="STLCRef.SemanticsLB.html#4430" class="Bound">Γ</a> <a id="4432" href="STLCRef.SemanticsLB.html#4432" class="Bound">t</a><a id="4433" class="Symbol">}</a> <a id="4435" class="Symbol">→</a> <a id="4437" href="STLCRef.SemanticsLB.html#4432" class="Bound">t</a> <a id="4439" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="4441" href="STLCRef.SemanticsLB.html#4428" class="Bound">Σ</a> <a id="4443" class="Symbol">→</a> <a id="4445" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="4449" href="STLCRef.SemanticsLB.html#4432" class="Bound">t</a> <a id="4451" href="STLCRef.SemanticsLB.html#4428" class="Bound">Σ</a> <a id="4453" class="Symbol">→</a> <a id="4455" href="STLCRef.SemanticsLB.html#M" class="Function">M</a> <a id="4457" href="STLCRef.SemanticsLB.html#4430" class="Bound">Γ</a> <a id="4459" class="Symbol">(λ</a> <a id="4462" href="STLCRef.SemanticsLB.html#4462" class="Bound">_</a> <a id="4464" class="Symbol">→</a> <a id="4466" href="Agda.Builtin.Unit.html#%E2%8A%A4" class="Record">⊤</a><a id="4467" class="Symbol">)</a> <a id="4469" href="STLCRef.SemanticsLB.html#4428" class="Bound">Σ</a>
<a id="4471" href="STLCRef.SemanticsLB.html#update" class="Function">update</a> <a id="4478" href="STLCRef.SemanticsLB.html#4478" class="Bound">x</a> <a id="4480" href="STLCRef.SemanticsLB.html#4480" class="Bound">v</a> <a id="4482" href="STLCRef.SemanticsLB.html#4482" class="Bound">E</a> <a id="4484" href="STLCRef.SemanticsLB.html#4484" class="Bound">μ</a> <a id="4486" class="Symbol">=</a> <a id="4488" href="STLCRef.SemanticsLB.html#return" class="Function">return</a> <a id="4495" href="Agda.Builtin.Unit.html#%E2%8A%A4.tt" class="InductiveConstructor">tt</a> <a id="4498" href="STLCRef.SemanticsLB.html#4482" class="Bound">E</a> <a id="4500" class="Symbol">(</a><a id="4501" href="STLCRef.SemanticsLB.html#update-store" class="Function">update-store</a> <a id="4514" href="STLCRef.SemanticsLB.html#4478" class="Bound">x</a> <a id="4516" href="STLCRef.SemanticsLB.html#4480" class="Bound">v</a> <a id="4518" href="STLCRef.SemanticsLB.html#4484" class="Bound">μ</a><a id="4519" class="Symbol">)</a>

<a id="eval" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="4527" class="Symbol">:</a> <a id="4529" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="4531" class="Symbol">→</a> <a id="4533" class="Symbol">∀</a> <a id="4535" class="Symbol">{</a><a id="4536" href="STLCRef.SemanticsLB.html#4536" class="Bound">Σ</a> <a id="4538" href="STLCRef.SemanticsLB.html#4538" class="Bound">Γ</a> <a id="4540" href="STLCRef.SemanticsLB.html#4540" class="Bound">t</a><a id="4541" class="Symbol">}</a> <a id="4543" class="Symbol">→</a> <a id="4545" href="STLCRef.SemanticsLB.html#Expr" class="Datatype">Expr</a> <a id="4550" href="STLCRef.SemanticsLB.html#4538" class="Bound">Γ</a> <a id="4552" href="STLCRef.SemanticsLB.html#4540" class="Bound">t</a> <a id="4554" class="Symbol">→</a> <a id="4556" href="STLCRef.SemanticsLB.html#M" class="Function">M</a> <a id="4558" href="STLCRef.SemanticsLB.html#4538" class="Bound">Γ</a> <a id="4560" class="Symbol">(</a><a id="4561" href="STLCRef.SemanticsLB.html#Val" class="Datatype">Val</a> <a id="4565" href="STLCRef.SemanticsLB.html#4540" class="Bound">t</a><a id="4566" class="Symbol">)</a> <a id="4568" href="STLCRef.SemanticsLB.html#4536" class="Bound">Σ</a>
<a id="4570" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="4575" href="Agda.Builtin.Nat.html#Nat.zero" class="InductiveConstructor">zero</a>    <a id="4583" class="Symbol">_</a>           <a id="4595" class="Symbol">=</a>
  <a id="4599" href="STLCRef.SemanticsLB.html#timeout" class="Function">timeout</a>
<a id="4607" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="4612" class="Symbol">(</a><a id="4613" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="4617" href="STLCRef.SemanticsLB.html#4617" class="Bound">k</a><a id="4618" class="Symbol">)</a> <a id="4620" href="STLCRef.SemanticsLB.html#Expr.unit" class="InductiveConstructor">unit</a>        <a id="4632" class="Symbol">=</a>
  <a id="4636" href="STLCRef.SemanticsLB.html#return" class="Function">return</a> <a id="4643" href="STLCRef.SemanticsLB.html#Val.unit" class="InductiveConstructor">unit</a>
<a id="4648" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="4653" class="Symbol">(</a><a id="4654" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="4658" href="STLCRef.SemanticsLB.html#4658" class="Bound">k</a><a id="4659" class="Symbol">)</a> <a id="4661" class="Symbol">(</a><a id="4662" href="STLCRef.SemanticsLB.html#Expr.var" class="InductiveConstructor">var</a> <a id="4666" href="STLCRef.SemanticsLB.html#4666" class="Bound">x</a><a id="4667" class="Symbol">)</a>     <a id="4673" class="Symbol">=</a>
  <a id="4677" href="STLCRef.SemanticsLB.html#getEnv" class="Function">getEnv</a> <a id="4684" href="STLCRef.SemanticsLB.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="4688" class="Symbol">λ</a> <a id="4690" href="STLCRef.SemanticsLB.html#4690" class="Bound">_</a> <a id="4692" href="STLCRef.SemanticsLB.html#4692" class="Bound">E</a> <a id="4694" class="Symbol">→</a>
  <a id="4698" href="STLCRef.SemanticsLB.html#return" class="Function">return</a> <a id="4705" class="Symbol">(</a><a id="4706" href="Data.List.All.html#lookup" class="Function">lookup</a> <a id="4713" href="STLCRef.SemanticsLB.html#4692" class="Bound">E</a> <a id="4715" href="STLCRef.SemanticsLB.html#4666" class="Bound">x</a><a id="4716" class="Symbol">)</a>
<a id="4718" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="4723" class="Symbol">(</a><a id="4724" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="4728" href="STLCRef.SemanticsLB.html#4728" class="Bound">k</a><a id="4729" class="Symbol">)</a> <a id="4731" class="Symbol">(</a><a id="4732" href="STLCRef.SemanticsLB.html#Expr.%C6%9B" class="InductiveConstructor">ƛ</a> <a id="4734" href="STLCRef.SemanticsLB.html#4734" class="Bound">e</a><a id="4735" class="Symbol">)</a>       <a id="4743" class="Symbol">=</a>
  <a id="4747" href="STLCRef.SemanticsLB.html#getEnv" class="Function">getEnv</a> <a id="4754" href="STLCRef.SemanticsLB.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="4758" class="Symbol">λ</a> <a id="4760" href="STLCRef.SemanticsLB.html#4760" class="Bound">_</a> <a id="4762" href="STLCRef.SemanticsLB.html#4762" class="Bound">E</a> <a id="4764" class="Symbol">→</a>
  <a id="4768" href="STLCRef.SemanticsLB.html#return" class="Function">return</a> <a id="4775" href="STLCRef.SemanticsLB.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟨</a> <a id="4777" href="STLCRef.SemanticsLB.html#4734" class="Bound">e</a> <a id="4779" href="STLCRef.SemanticsLB.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">,</a> <a id="4781" href="STLCRef.SemanticsLB.html#4762" class="Bound">E</a> <a id="4783" href="STLCRef.SemanticsLB.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟩</a>
<a id="4785" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="4790" class="Symbol">(</a><a id="4791" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="4795" href="STLCRef.SemanticsLB.html#4795" class="Bound">k</a><a id="4796" class="Symbol">)</a> <a id="4798" class="Symbol">(</a><a id="4799" href="STLCRef.SemanticsLB.html#4799" class="Bound">l</a> <a id="4801" href="STLCRef.SemanticsLB.html#Expr._%C2%B7_" class="InductiveConstructor Operator">·</a> <a id="4803" href="STLCRef.SemanticsLB.html#4803" class="Bound">r</a><a id="4804" class="Symbol">)</a>     <a id="4810" class="Symbol">=</a>
  <a id="4814" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="4819" href="STLCRef.SemanticsLB.html#4795" class="Bound">k</a> <a id="4821" href="STLCRef.SemanticsLB.html#4799" class="Bound">l</a> <a id="4823" href="STLCRef.SemanticsLB.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="4827" class="Symbol">λ{</a> <a id="4830" href="STLCRef.SemanticsLB.html#4830" class="Bound">ext</a> <a id="4834" href="STLCRef.SemanticsLB.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟨</a> <a id="4836" href="STLCRef.SemanticsLB.html#4836" class="Bound">e</a> <a id="4838" href="STLCRef.SemanticsLB.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">,</a> <a id="4840" href="STLCRef.SemanticsLB.html#4840" class="Bound">E</a> <a id="4842" href="STLCRef.SemanticsLB.html#Val.%E2%9F%A8_%2C_%E2%9F%A9" class="InductiveConstructor Operator">⟩</a> <a id="4844" class="Symbol">→</a>
  <a id="4848" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="4853" href="STLCRef.SemanticsLB.html#4795" class="Bound">k</a> <a id="4855" href="STLCRef.SemanticsLB.html#4803" class="Bound">r</a> <a id="4857" href="STLCRef.SemanticsLB.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="4861" class="Symbol">λ</a> <a id="4863" href="STLCRef.SemanticsLB.html#4863" class="Bound">ext&#39;</a> <a id="4868" href="STLCRef.SemanticsLB.html#4868" class="Bound">v</a> <a id="4870" class="Symbol">→</a>
  <a id="4874" href="STLCRef.SemanticsLB.html#usingEnv" class="Function">usingEnv</a> <a id="4883" class="Symbol">(</a><a id="4884" href="STLCRef.SemanticsLB.html#4868" class="Bound">v</a> <a id="4886" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="4888" href="STLCRef.SemanticsLB.html#weaken-env" class="Function">weaken-env</a> <a id="4899" href="STLCRef.SemanticsLB.html#4863" class="Bound">ext&#39;</a> <a id="4904" href="STLCRef.SemanticsLB.html#4840" class="Bound">E</a><a id="4905" class="Symbol">)</a> <a id="4907" class="Symbol">(</a><a id="4908" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="4913" href="STLCRef.SemanticsLB.html#4795" class="Bound">k</a> <a id="4915" href="STLCRef.SemanticsLB.html#4836" class="Bound">e</a><a id="4916" class="Symbol">)</a> <a id="4918" class="Symbol">}</a>  <a id="4921" class="Comment">-- explicit weakening</a>
<a id="4943" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="4948" class="Symbol">(</a><a id="4949" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="4953" href="STLCRef.SemanticsLB.html#4953" class="Bound">k</a><a id="4954" class="Symbol">)</a> <a id="4956" class="Symbol">(</a><a id="4957" href="STLCRef.SemanticsLB.html#Expr.num" class="InductiveConstructor">num</a> <a id="4961" href="STLCRef.SemanticsLB.html#4961" class="Bound">x</a><a id="4962" class="Symbol">)</a>     <a id="4968" class="Symbol">=</a>
  <a id="4972" href="STLCRef.SemanticsLB.html#return" class="Function">return</a> <a id="4979" class="Symbol">(</a><a id="4980" href="STLCRef.SemanticsLB.html#Val.num" class="InductiveConstructor">num</a> <a id="4984" href="STLCRef.SemanticsLB.html#4961" class="Bound">x</a><a id="4985" class="Symbol">)</a>
<a id="4987" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="4992" class="Symbol">(</a><a id="4993" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="4997" href="STLCRef.SemanticsLB.html#4997" class="Bound">k</a><a id="4998" class="Symbol">)</a> <a id="5000" class="Symbol">(</a><a id="5001" href="STLCRef.SemanticsLB.html#Expr.iop" class="InductiveConstructor">iop</a> <a id="5005" href="STLCRef.SemanticsLB.html#5005" class="Bound">f</a> <a id="5007" href="STLCRef.SemanticsLB.html#5007" class="Bound">l</a> <a id="5009" href="STLCRef.SemanticsLB.html#5009" class="Bound">r</a><a id="5010" class="Symbol">)</a> <a id="5012" class="Symbol">=</a>
  <a id="5016" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="5021" href="STLCRef.SemanticsLB.html#4997" class="Bound">k</a> <a id="5023" href="STLCRef.SemanticsLB.html#5007" class="Bound">l</a> <a id="5025" href="STLCRef.SemanticsLB.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5029" class="Symbol">λ{</a> <a id="5032" class="Symbol">_</a> <a id="5034" class="Symbol">(</a><a id="5035" href="STLCRef.SemanticsLB.html#Val.num" class="InductiveConstructor">num</a> <a id="5039" href="STLCRef.SemanticsLB.html#5039" class="Bound">v</a><a id="5040" class="Symbol">)</a> <a id="5042" class="Symbol">→</a>
  <a id="5046" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="5051" href="STLCRef.SemanticsLB.html#4997" class="Bound">k</a> <a id="5053" href="STLCRef.SemanticsLB.html#5009" class="Bound">r</a> <a id="5055" href="STLCRef.SemanticsLB.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5059" class="Symbol">λ{</a> <a id="5062" class="Symbol">_</a> <a id="5064" class="Symbol">(</a><a id="5065" href="STLCRef.SemanticsLB.html#Val.num" class="InductiveConstructor">num</a> <a id="5069" href="STLCRef.SemanticsLB.html#5069" class="Bound">vᵣ</a><a id="5071" class="Symbol">)</a> <a id="5073" class="Symbol">→</a>
  <a id="5077" href="STLCRef.SemanticsLB.html#return" class="Function">return</a> <a id="5084" class="Symbol">(</a><a id="5085" href="STLCRef.SemanticsLB.html#Val.num" class="InductiveConstructor">num</a> <a id="5089" class="Symbol">(</a><a id="5090" href="STLCRef.SemanticsLB.html#5005" class="Bound">f</a> <a id="5092" href="STLCRef.SemanticsLB.html#5039" class="Bound">v</a> <a id="5094" href="STLCRef.SemanticsLB.html#5069" class="Bound">vᵣ</a><a id="5096" class="Symbol">))</a> <a id="5099" class="Symbol">}}</a>
<a id="5102" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="5107" class="Symbol">(</a><a id="5108" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="5112" href="STLCRef.SemanticsLB.html#5112" class="Bound">k</a><a id="5113" class="Symbol">)</a> <a id="5115" class="Symbol">(</a><a id="5116" href="STLCRef.SemanticsLB.html#Expr.ifz" class="InductiveConstructor">ifz</a> <a id="5120" href="STLCRef.SemanticsLB.html#5120" class="Bound">c</a> <a id="5122" href="STLCRef.SemanticsLB.html#5122" class="Bound">t</a> <a id="5124" href="STLCRef.SemanticsLB.html#5124" class="Bound">e</a><a id="5125" class="Symbol">)</a> <a id="5127" class="Symbol">=</a>
  <a id="5131" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="5136" href="STLCRef.SemanticsLB.html#5112" class="Bound">k</a> <a id="5138" href="STLCRef.SemanticsLB.html#5120" class="Bound">c</a> <a id="5140" href="STLCRef.SemanticsLB.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5144" class="Symbol">λ{</a> <a id="5147" class="Symbol">_</a> <a id="5149" class="Symbol">(</a><a id="5150" href="STLCRef.SemanticsLB.html#Val.num" class="InductiveConstructor">num</a> <a id="5154" href="STLCRef.SemanticsLB.html#5154" class="Bound">z</a><a id="5155" class="Symbol">)</a> <a id="5157" class="Symbol">→</a>
  <a id="5161" href="Function.html#case_of_" class="Function Operator">case</a> <a id="5166" href="STLCRef.SemanticsLB.html#5154" class="Bound">z</a> <a id="5168" href="Function.html#case_of_" class="Function Operator">of</a> <a id="5171" class="Symbol">λ{</a> <a id="5174" class="Symbol">(</a><a id="5175" href="Agda.Builtin.Int.html#Int.%2B_" class="InductiveConstructor Operator">+</a> <a id="5177" href="Agda.Builtin.Nat.html#Nat.zero" class="InductiveConstructor">zero</a><a id="5181" class="Symbol">)</a> <a id="5183" class="Symbol">→</a>
    <a id="5189" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="5194" href="STLCRef.SemanticsLB.html#5112" class="Bound">k</a> <a id="5196" href="STLCRef.SemanticsLB.html#5122" class="Bound">t</a>
  <a id="5200" class="Symbol">;</a> <a id="5202" class="CatchallClause Symbol">_</a> <a id="5204" class="Symbol">→</a>
    <a id="5210" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="5215" href="STLCRef.SemanticsLB.html#5112" class="Bound">k</a> <a id="5217" href="STLCRef.SemanticsLB.html#5124" class="Bound">e</a> <a id="5219" class="Symbol">}}</a>
<a id="5222" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="5227" class="Symbol">(</a><a id="5228" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="5232" href="STLCRef.SemanticsLB.html#5232" class="Bound">k</a><a id="5233" class="Symbol">)</a> <a id="5235" class="Symbol">(</a><a id="5236" href="STLCRef.SemanticsLB.html#Expr.ref" class="InductiveConstructor">ref</a> <a id="5240" href="STLCRef.SemanticsLB.html#5240" class="Bound">e</a><a id="5241" class="Symbol">)</a>     <a id="5247" class="Symbol">=</a>
  <a id="5251" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="5256" href="STLCRef.SemanticsLB.html#5232" class="Bound">k</a> <a id="5258" href="STLCRef.SemanticsLB.html#5240" class="Bound">e</a> <a id="5260" href="STLCRef.SemanticsLB.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5264" class="Symbol">λ</a> <a id="5266" href="STLCRef.SemanticsLB.html#5266" class="Bound">_</a> <a id="5268" href="STLCRef.SemanticsLB.html#5268" class="Bound">v</a> <a id="5270" class="Symbol">→</a>
  <a id="5274" href="STLCRef.SemanticsLB.html#store" class="Function">store</a> <a id="5280" href="STLCRef.SemanticsLB.html#5268" class="Bound">v</a>
<a id="5282" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="5287" class="Symbol">(</a><a id="5288" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="5292" href="STLCRef.SemanticsLB.html#5292" class="Bound">k</a><a id="5293" class="Symbol">)</a> <a id="5295" class="Symbol">(</a><a id="5296" href="STLCRef.SemanticsLB.html#Expr.%21_" class="InductiveConstructor Operator">!</a> <a id="5298" href="STLCRef.SemanticsLB.html#5298" class="Bound">e</a><a id="5299" class="Symbol">)</a>       <a id="5307" class="Symbol">=</a>
  <a id="5311" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="5316" href="STLCRef.SemanticsLB.html#5292" class="Bound">k</a> <a id="5318" href="STLCRef.SemanticsLB.html#5298" class="Bound">e</a> <a id="5320" href="STLCRef.SemanticsLB.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5324" class="Symbol">λ{</a> <a id="5327" class="Symbol">_</a> <a id="5329" class="Symbol">(</a><a id="5330" href="STLCRef.SemanticsLB.html#Val.loc" class="InductiveConstructor">loc</a> <a id="5334" href="STLCRef.SemanticsLB.html#5334" class="Bound">l</a><a id="5335" class="Symbol">)</a> <a id="5337" class="Symbol">→</a>
  <a id="5341" href="STLCRef.SemanticsLB.html#deref" class="Function">deref</a> <a id="5347" href="STLCRef.SemanticsLB.html#5334" class="Bound">l</a> <a id="5349" class="Symbol">}</a>
<a id="5351" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="5356" class="Symbol">(</a><a id="5357" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="5361" href="STLCRef.SemanticsLB.html#5361" class="Bound">k</a><a id="5362" class="Symbol">)</a> <a id="5364" class="Symbol">(</a><a id="5365" href="STLCRef.SemanticsLB.html#5365" class="Bound">r</a> <a id="5367" href="STLCRef.SemanticsLB.html#Expr._%E2%89%94_" class="InductiveConstructor Operator">≔</a> <a id="5369" href="STLCRef.SemanticsLB.html#5369" class="Bound">e</a><a id="5370" class="Symbol">)</a>     <a id="5376" class="Symbol">=</a>
  <a id="5380" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="5385" href="STLCRef.SemanticsLB.html#5361" class="Bound">k</a> <a id="5387" href="STLCRef.SemanticsLB.html#5365" class="Bound">r</a> <a id="5389" href="STLCRef.SemanticsLB.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5393" class="Symbol">λ{</a> <a id="5396" class="Symbol">_</a> <a id="5398" class="Symbol">(</a><a id="5399" href="STLCRef.SemanticsLB.html#Val.loc" class="InductiveConstructor">loc</a> <a id="5403" href="STLCRef.SemanticsLB.html#5403" class="Bound">l</a><a id="5404" class="Symbol">)</a> <a id="5406" class="Symbol">→</a>
  <a id="5410" href="STLCRef.SemanticsLB.html#eval" class="Function">eval</a> <a id="5415" href="STLCRef.SemanticsLB.html#5361" class="Bound">k</a> <a id="5417" href="STLCRef.SemanticsLB.html#5369" class="Bound">e</a> <a id="5419" href="STLCRef.SemanticsLB.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5423" class="Symbol">λ</a> <a id="5425" href="STLCRef.SemanticsLB.html#5425" class="Bound">ext</a> <a id="5429" href="STLCRef.SemanticsLB.html#5429" class="Bound">v</a> <a id="5431" class="Symbol">→</a>
  <a id="5435" href="STLCRef.SemanticsLB.html#update" class="Function">update</a> <a id="5442" class="Symbol">(</a><a id="5443" href="Data.List.Prefix.html#%E2%88%88-%E2%8A%92" class="Function">∈-⊒</a> <a id="5447" href="STLCRef.SemanticsLB.html#5403" class="Bound">l</a> <a id="5449" href="STLCRef.SemanticsLB.html#5425" class="Bound">ext</a><a id="5452" class="Symbol">)</a> <a id="5454" href="STLCRef.SemanticsLB.html#5429" class="Bound">v</a> <a id="5456" href="STLCRef.SemanticsLB.html#_%3E%3E%3D_" class="Function Operator">&gt;&gt;=</a> <a id="5460" class="Symbol">λ</a> <a id="5462" href="STLCRef.SemanticsLB.html#5462" class="Bound">_</a> <a id="5464" href="STLCRef.SemanticsLB.html#5464" class="Bound">_</a> <a id="5466" class="Symbol">→</a>             <a id="5480" class="Comment">-- explicit weakening</a>
  <a id="5504" href="STLCRef.SemanticsLB.html#return" class="Function">return</a> <a id="5511" href="STLCRef.SemanticsLB.html#Val.unit" class="InductiveConstructor">unit</a> <a id="5516" class="Symbol">}</a>
</pre></body></html>