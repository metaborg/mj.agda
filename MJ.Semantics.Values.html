<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>MJ.Semantics.Values</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="MJ.Types.html" class="Module">MJ.Types</a> <a id="22" class="Symbol">as</a> <a id="25" class="Module">Types</a>
<a id="31" class="Keyword">import</a> <a id="38" href="MJ.Classtable.Core.html" class="Module">MJ.Classtable.Core</a> <a id="57" class="Symbol">as</a> <a id="60" class="Module">Core</a>

<a id="66" class="Keyword">module</a> <a id="73" href="MJ.Semantics.Values.html" class="Module">MJ.Semantics.Values</a> <a id="93" class="Symbol">{</a><a id="94" href="MJ.Semantics.Values.html#94" class="Bound">c</a><a id="95" class="Symbol">}(</a><a id="97" href="MJ.Semantics.Values.html#97" class="Bound">Ct</a> <a id="100" class="Symbol">:</a> <a id="102" href="MJ.Classtable.Core.html#Classtable" class="Record">Core.Classtable</a> <a id="118" href="MJ.Semantics.Values.html#94" class="Bound">c</a><a id="119" class="Symbol">)</a> <a id="121" class="Keyword">where</a>

<a id="128" class="Keyword">open</a> <a id="133" class="Keyword">import</a> <a id="140" href="Prelude.html" class="Module">Prelude</a>

<a id="149" class="Keyword">open</a> <a id="154" class="Keyword">import</a> <a id="161" href="Level.html" class="Module">Level</a> <a id="167" class="Keyword">renaming</a> <a id="176" class="Symbol">(</a><a id="177" href="Agda.Primitive.html#lsuc" class="Primitive">suc</a> <a id="181" class="Symbol">to</a> <a id="184" href="Agda.Primitive.html#lsuc" class="Primitive">lsuc</a><a id="188" class="Symbol">;</a> <a id="190" href="Agda.Primitive.html#lzero" class="Primitive">zero</a> <a id="195" class="Symbol">to</a> <a id="198" href="Agda.Primitive.html#lzero" class="Primitive">lzero</a><a id="203" class="Symbol">)</a>
<a id="205" class="Keyword">open</a> <a id="210" class="Keyword">import</a> <a id="217" href="Data.List.html" class="Module">Data.List</a> <a id="227" class="Symbol">as</a> <a id="230" class="Module">List</a> <a id="235" class="Keyword">hiding</a> <a id="242" class="Symbol">(</a><a id="243" href="Data.List.Base.html#null" class="Function">null</a><a id="247" class="Symbol">)</a>
<a id="249" class="Keyword">open</a> <a id="254" class="Keyword">import</a> <a id="261" href="Data.Vec.html" class="Module">Data.Vec</a> <a id="270" class="Keyword">hiding</a> <a id="277" class="Symbol">(</a><a id="278" href="Data.Vec.html#_%E2%88%88_" class="Datatype Operator">_∈_</a><a id="281" class="Symbol">)</a>
<a id="283" class="Keyword">open</a> <a id="288" class="Keyword">import</a> <a id="295" href="Data.List.Any.Membership.Propositional.html" class="Module">Data.List.Any.Membership.Propositional</a>
<a id="334" class="Keyword">open</a> <a id="339" class="Keyword">import</a> <a id="346" href="Data.List.All.html" class="Module">Data.List.All</a> <a id="360" class="Symbol">as</a> <a id="363" class="Module">List∀</a>
<a id="369" class="Keyword">open</a> <a id="374" class="Keyword">import</a> <a id="381" href="Data.List.All.Properties.Extra.html" class="Module">Data.List.All.Properties.Extra</a> <a id="412" class="Symbol">as</a> <a id="415" class="Module">List∀++</a>
<a id="423" class="Keyword">open</a> <a id="428" class="Keyword">import</a> <a id="435" href="Data.List.Prefix.html" class="Module">Data.List.Prefix</a>
<a id="452" class="Keyword">open</a> <a id="457" class="Keyword">import</a> <a id="464" href="Data.Vec.All.html" class="Module">Data.Vec.All</a> <a id="477" class="Symbol">as</a> <a id="480" class="Module">Vec∀</a> <a id="485" class="Keyword">using</a> <a id="491" class="Symbol">()</a>


<a id="496" class="Keyword">open</a> <a id="501" href="MJ.Classtable.Core.html" class="Module">Core</a> <a id="506" href="MJ.Semantics.Values.html#94" class="Bound">c</a>
<a id="508" class="Keyword">open</a> <a id="513" href="MJ.Classtable.Core.html#Classtable" class="Module">Classtable</a> <a id="524" href="MJ.Semantics.Values.html#97" class="Bound">Ct</a>
<a id="527" class="Keyword">open</a> <a id="532" class="Keyword">import</a> <a id="539" href="MJ.Classtable.Membership.html" class="Module">MJ.Classtable.Membership</a> <a id="564" href="MJ.Semantics.Values.html#97" class="Bound">Ct</a>
<a id="567" class="Keyword">open</a> <a id="572" class="Keyword">import</a> <a id="579" href="MJ.LexicalScope.html" class="Module">MJ.LexicalScope</a> <a id="595" href="MJ.Semantics.Values.html#97" class="Bound">Ct</a>
<a id="598" class="Keyword">open</a> <a id="603" class="Keyword">import</a> <a id="610" href="Common.Weakening.html" class="Module">Common.Weakening</a>

<a id="628" class="Keyword">open</a> <a id="633" href="Common.Weakening.html#Weakenable" class="Module">Weakenable</a> <a id="644" class="Symbol">⦃...⦄</a>

<a id="651" class="Keyword">data</a> <a id="Val" href="MJ.Semantics.Values.html#Val" class="Datatype">Val</a> <a id="660" class="Symbol">(</a><a id="661" href="MJ.Semantics.Values.html#661" class="Bound">W</a> <a id="663" class="Symbol">:</a> <a id="665" href="MJ.Types.html#World" class="Function">World</a> <a id="671" href="MJ.Semantics.Values.html#94" class="Bound">c</a><a id="672" class="Symbol">)</a> <a id="674" class="Symbol">:</a> <a id="676" href="MJ.Types.html#Ty" class="Datatype">Ty</a> <a id="679" href="MJ.Semantics.Values.html#94" class="Bound">c</a> <a id="681" class="Symbol">→</a> <a id="683" class="PrimitiveType">Set</a> <a id="687" class="Keyword">where</a>
  <a id="Val.num" href="MJ.Semantics.Values.html#Val.num" class="InductiveConstructor">num</a>  <a id="700" class="Symbol">:</a> <a id="702" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="704" class="Symbol">→</a> <a id="706" href="MJ.Semantics.Values.html#Val" class="Datatype">Val</a> <a id="710" href="MJ.Semantics.Values.html#661" class="Bound">W</a> <a id="712" href="MJ.Types.html#Ty.int" class="InductiveConstructor">int</a>
  <a id="Val.unit" href="MJ.Semantics.Values.html#Val.unit" class="InductiveConstructor">unit</a> <a id="723" class="Symbol">:</a> <a id="725" href="MJ.Semantics.Values.html#Val" class="Datatype">Val</a> <a id="729" href="MJ.Semantics.Values.html#661" class="Bound">W</a> <a id="731" href="MJ.Types.html#Ty.void" class="InductiveConstructor">void</a>
  <a id="Val.null" href="MJ.Semantics.Values.html#Val.null" class="InductiveConstructor">null</a> <a id="743" class="Symbol">:</a> <a id="745" class="Symbol">∀</a> <a id="747" class="Symbol">{</a><a id="748" href="MJ.Semantics.Values.html#748" class="Bound">C</a><a id="749" class="Symbol">}</a> <a id="751" class="Symbol">→</a> <a id="753" href="MJ.Semantics.Values.html#Val" class="Datatype">Val</a> <a id="757" href="MJ.Semantics.Values.html#661" class="Bound">W</a> <a id="759" class="Symbol">(</a><a id="760" href="MJ.Types.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="764" href="MJ.Semantics.Values.html#748" class="Bound">C</a><a id="765" class="Symbol">)</a>
  <a id="Val.ref" href="MJ.Semantics.Values.html#Val.ref" class="InductiveConstructor">ref</a>  <a id="774" class="Symbol">:</a> <a id="776" class="Symbol">∀</a> <a id="778" class="Symbol">{</a><a id="779" href="MJ.Semantics.Values.html#779" class="Bound">C</a> <a id="781" href="MJ.Semantics.Values.html#781" class="Bound">P</a><a id="782" class="Symbol">}</a> <a id="784" class="Symbol">→</a> <a id="786" class="Symbol">(</a><a id="787" href="MJ.Types.html#Ty%E2%81%BA.obj" class="InductiveConstructor">obj</a> <a id="791" href="MJ.Semantics.Values.html#779" class="Bound">C</a><a id="792" class="Symbol">)</a> <a id="794" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="796" href="MJ.Semantics.Values.html#661" class="Bound">W</a> <a id="798" class="Symbol">→</a> <a id="800" href="MJ.Classtable.Core.html#1316" class="Field">Σ</a> <a id="802" href="MJ.Classtable.Core.html#1181" class="Function Operator">⊢</a> <a id="804" href="MJ.Semantics.Values.html#779" class="Bound">C</a> <a id="806" href="MJ.Classtable.Core.html#1181" class="Function Operator">&lt;:</a> <a id="809" href="MJ.Semantics.Values.html#781" class="Bound">P</a> <a id="811" class="Symbol">→</a> <a id="813" href="MJ.Semantics.Values.html#Val" class="Datatype">Val</a> <a id="817" href="MJ.Semantics.Values.html#661" class="Bound">W</a> <a id="819" class="Symbol">(</a><a id="820" href="MJ.Types.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="824" href="MJ.Semantics.Values.html#781" class="Bound">P</a><a id="825" class="Symbol">)</a>

<a id="default" href="MJ.Semantics.Values.html#default" class="Function">default</a> <a id="836" class="Symbol">:</a> <a id="838" class="Symbol">∀</a> <a id="840" class="Symbol">{</a><a id="841" href="MJ.Semantics.Values.html#841" class="Bound">W</a><a id="842" class="Symbol">}</a> <a id="844" class="Symbol">→</a> <a id="846" class="Symbol">(</a><a id="847" href="MJ.Semantics.Values.html#847" class="Bound">a</a> <a id="849" class="Symbol">:</a> <a id="851" href="MJ.Types.html#Ty" class="Datatype">Ty</a> <a id="854" href="MJ.Semantics.Values.html#94" class="Bound">c</a><a id="855" class="Symbol">)</a> <a id="857" class="Symbol">→</a> <a id="859" href="MJ.Semantics.Values.html#Val" class="Datatype">Val</a> <a id="863" href="MJ.Semantics.Values.html#841" class="Bound">W</a> <a id="865" href="MJ.Semantics.Values.html#847" class="Bound">a</a>
<a id="867" href="MJ.Semantics.Values.html#default" class="Function">default</a> <a id="875" href="MJ.Types.html#Ty.void" class="InductiveConstructor">void</a> <a id="880" class="Symbol">=</a> <a id="882" href="MJ.Semantics.Values.html#Val.unit" class="InductiveConstructor">unit</a>
<a id="887" href="MJ.Semantics.Values.html#default" class="Function">default</a> <a id="895" href="MJ.Types.html#Ty.int" class="InductiveConstructor">int</a> <a id="899" class="Symbol">=</a> <a id="901" href="MJ.Semantics.Values.html#Val.num" class="InductiveConstructor">num</a> <a id="905" class="Number">0</a>
<a id="907" href="MJ.Semantics.Values.html#default" class="Function">default</a> <a id="915" class="Symbol">(</a><a id="916" href="MJ.Types.html#Ty.ref" class="InductiveConstructor">ref</a> <a id="920" href="MJ.Semantics.Values.html#920" class="Bound">x</a><a id="921" class="Symbol">)</a> <a id="923" class="Symbol">=</a> <a id="925" href="MJ.Semantics.Values.html#Val.null" class="InductiveConstructor">null</a>

<a id="931" class="Comment">--</a>
<a id="934" class="Comment">-- environments as indirections into a heap</a>
<a id="978" class="Comment">--</a>

<a id="Env" href="MJ.Semantics.Values.html#Env" class="Function">Env</a> <a id="986" class="Symbol">:</a> <a id="988" class="Symbol">∀</a> <a id="990" class="Symbol">(</a><a id="991" href="MJ.Semantics.Values.html#991" class="Bound">Γ</a> <a id="993" class="Symbol">:</a> <a id="995" href="MJ.LexicalScope.html#226" class="Function">Ctx</a><a id="998" class="Symbol">)(</a><a id="1000" href="MJ.Semantics.Values.html#1000" class="Bound">W</a> <a id="1002" class="Symbol">:</a> <a id="1004" href="MJ.Types.html#World" class="Function">World</a> <a id="1010" href="MJ.Semantics.Values.html#94" class="Bound">c</a><a id="1011" class="Symbol">)</a> <a id="1013" class="Symbol">→</a> <a id="1015" class="PrimitiveType">Set</a>
<a id="1019" href="MJ.Semantics.Values.html#Env" class="Function">Env</a> <a id="1023" href="MJ.Semantics.Values.html#1023" class="Bound">Γ</a> <a id="1025" href="MJ.Semantics.Values.html#1025" class="Bound">W</a> <a id="1027" class="Symbol">=</a> <a id="1029" href="Data.List.All.html#All" class="Datatype">All</a> <a id="1033" class="Symbol">(λ</a> <a id="1036" href="MJ.Semantics.Values.html#1036" class="Bound">a</a> <a id="1038" class="Symbol">→</a> <a id="1040" href="MJ.Types.html#Ty%E2%81%BA.vty" class="InductiveConstructor">vty</a> <a id="1044" href="MJ.Semantics.Values.html#1036" class="Bound">a</a> <a id="1046" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="1048" href="MJ.Semantics.Values.html#1025" class="Bound">W</a><a id="1049" class="Symbol">)</a> <a id="1051" href="MJ.Semantics.Values.html#1023" class="Bound">Γ</a>

<a id="_⊕_" href="MJ.Semantics.Values.html#_%E2%8A%95_" class="Function Operator">_⊕_</a> <a id="1058" class="Symbol">:</a> <a id="1060" class="Symbol">∀</a> <a id="1062" class="Symbol">{</a><a id="1063" href="MJ.Semantics.Values.html#1063" class="Bound">Γ</a> <a id="1065" href="MJ.Semantics.Values.html#1065" class="Bound">W</a> <a id="1067" href="MJ.Semantics.Values.html#1067" class="Bound">a</a><a id="1068" class="Symbol">}</a> <a id="1070" class="Symbol">→</a> <a id="1072" href="MJ.Semantics.Values.html#Env" class="Function">Env</a> <a id="1076" href="MJ.Semantics.Values.html#1063" class="Bound">Γ</a> <a id="1078" href="MJ.Semantics.Values.html#1065" class="Bound">W</a> <a id="1080" class="Symbol">→</a> <a id="1082" class="Symbol">(</a><a id="1083" href="MJ.Types.html#Ty%E2%81%BA.vty" class="InductiveConstructor">vty</a> <a id="1087" href="MJ.Semantics.Values.html#1067" class="Bound">a</a><a id="1088" class="Symbol">)</a> <a id="1090" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="1092" href="MJ.Semantics.Values.html#1065" class="Bound">W</a> <a id="1094" class="Symbol">→</a> <a id="1096" href="MJ.Semantics.Values.html#Env" class="Function">Env</a> <a id="1100" class="Symbol">(</a><a id="1101" href="MJ.Semantics.Values.html#1063" class="Bound">Γ</a> <a id="1103" href="MJ.LexicalScope.html#295" class="Function Operator">+local</a> <a id="1110" href="MJ.Semantics.Values.html#1067" class="Bound">a</a><a id="1111" class="Symbol">)</a> <a id="1113" href="MJ.Semantics.Values.html#1065" class="Bound">W</a>
<a id="1115" href="MJ.Semantics.Values.html#_%E2%8A%95_" class="Function Operator">_⊕_</a> <a id="1119" href="MJ.Semantics.Values.html#1119" class="Bound">E</a> <a id="1121" href="MJ.Semantics.Values.html#1121" class="Bound">v</a> <a id="1123" class="Symbol">=</a> <a id="1125" href="MJ.Semantics.Values.html#1121" class="Bound">v</a> <a id="1127" href="Data.List.All.html#All._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="1129" href="MJ.Semantics.Values.html#1119" class="Bound">E</a>

<a id="1132" class="Keyword">open</a> <a id="1137" class="Keyword">import</a> <a id="1144" href="Data.List.Any.html" class="Module">Data.List.Any</a>
<a id="getvar" href="MJ.Semantics.Values.html#getvar" class="Function">getvar</a> <a id="1165" class="Symbol">:</a> <a id="1167" class="Symbol">∀</a> <a id="1169" class="Symbol">{</a><a id="1170" href="MJ.Semantics.Values.html#1170" class="Bound">Γ</a> <a id="1172" href="MJ.Semantics.Values.html#1172" class="Bound">W</a> <a id="1174" href="MJ.Semantics.Values.html#1174" class="Bound">a</a><a id="1175" class="Symbol">}</a> <a id="1177" class="Symbol">→</a> <a id="1179" href="MJ.LexicalScope.html#255" class="Function">Var</a> <a id="1183" href="MJ.Semantics.Values.html#1170" class="Bound">Γ</a> <a id="1185" href="MJ.Semantics.Values.html#1174" class="Bound">a</a> <a id="1187" class="Symbol">→</a> <a id="1189" href="MJ.Semantics.Values.html#Env" class="Function">Env</a> <a id="1193" href="MJ.Semantics.Values.html#1170" class="Bound">Γ</a> <a id="1195" href="MJ.Semantics.Values.html#1172" class="Bound">W</a> <a id="1197" class="Symbol">→</a> <a id="1199" href="MJ.Types.html#Ty%E2%81%BA.vty" class="InductiveConstructor">vty</a> <a id="1203" href="MJ.Semantics.Values.html#1174" class="Bound">a</a> <a id="1205" href="Data.List.Any.Membership.html#Propositional.M._%E2%88%88_" class="Function Operator">∈</a> <a id="1207" href="MJ.Semantics.Values.html#1172" class="Bound">W</a>
<a id="1209" href="MJ.Semantics.Values.html#getvar" class="Function">getvar</a> <a id="1216" href="MJ.Semantics.Values.html#1216" class="Bound">px</a> <a id="1219" href="MJ.Semantics.Values.html#1219" class="Bound">E</a> <a id="1221" class="Symbol">=</a> <a id="1223" href="Data.List.All.Properties.Extra.html#%E2%88%88-all" class="Function">∈-all</a> <a id="1229" href="MJ.Semantics.Values.html#1216" class="Bound">px</a> <a id="1232" href="MJ.Semantics.Values.html#1219" class="Bound">E</a>

<a id="1235" class="Comment">--</a>
<a id="1238" class="Comment">-- Abstract object encoding</a>
<a id="1266" class="Comment">--</a>

<a id="1270" class="Keyword">record</a> <a id="ObjEncoding" href="MJ.Semantics.Values.html#ObjEncoding" class="Record">ObjEncoding</a> <a id="1289" class="Symbol">:</a> <a id="1291" class="PrimitiveType">Set</a> <a id="1295" class="Symbol">(</a><a id="1296" href="Agda.Primitive.html#lsuc" class="Primitive">lsuc</a> <a id="1301" href="Agda.Primitive.html#lzero" class="Primitive">lzero</a><a id="1306" class="Symbol">)</a> <a id="1308" class="Keyword">where</a>
  <a id="1316" class="Keyword">field</a>
    <a id="ObjEncoding.Obj" href="MJ.Semantics.Values.html#ObjEncoding.Obj" class="Field">Obj</a> <a id="1330" class="Symbol">:</a> <a id="1332" href="MJ.Types.html#World" class="Function">World</a> <a id="1338" href="MJ.Semantics.Values.html#94" class="Bound">c</a> <a id="1340" class="Symbol">→</a> <a id="1342" href="MJ.Types.html#Cid" class="Datatype">Cid</a> <a id="1346" href="MJ.Semantics.Values.html#94" class="Bound">c</a> <a id="1348" class="Symbol">→</a> <a id="1350" class="PrimitiveType">Set</a>
    <a id="ObjEncoding.weaken-obj" href="MJ.Semantics.Values.html#ObjEncoding.weaken-obj" class="Field">weaken-obj</a> <a id="1369" class="Symbol">:</a> <a id="1371" class="Symbol">∀</a> <a id="1373" class="Symbol">{</a><a id="1374" href="MJ.Semantics.Values.html#1374" class="Bound">W</a> <a id="1376" href="MJ.Semantics.Values.html#1376" class="Bound">W&#39;</a><a id="1378" class="Symbol">}</a> <a id="1380" href="MJ.Semantics.Values.html#1380" class="Bound">cid</a> <a id="1384" class="Symbol">→</a> <a id="1386" href="MJ.Semantics.Values.html#1376" class="Bound">W&#39;</a> <a id="1389" href="Data.List.Prefix.html#_%E2%8A%92_" class="Function Operator">⊒</a> <a id="1391" href="MJ.Semantics.Values.html#1374" class="Bound">W</a> <a id="1393" class="Symbol">→</a> <a id="1395" href="MJ.Semantics.Values.html#ObjEncoding.Obj" class="Field">Obj</a> <a id="1399" href="MJ.Semantics.Values.html#1374" class="Bound">W</a> <a id="1401" href="MJ.Semantics.Values.html#1380" class="Bound">cid</a> <a id="1405" class="Symbol">→</a> <a id="1407" href="MJ.Semantics.Values.html#ObjEncoding.Obj" class="Field">Obj</a> <a id="1411" href="MJ.Semantics.Values.html#1376" class="Bound">W&#39;</a> <a id="1414" href="MJ.Semantics.Values.html#1380" class="Bound">cid</a>
    <a id="ObjEncoding.getter" href="MJ.Semantics.Values.html#ObjEncoding.getter" class="Field">getter</a> <a id="1429" class="Symbol">:</a> <a id="1431" class="Symbol">∀</a> <a id="1433" class="Symbol">{</a><a id="1434" href="MJ.Semantics.Values.html#1434" class="Bound">W</a> <a id="1436" href="MJ.Semantics.Values.html#1436" class="Bound">m</a> <a id="1438" href="MJ.Semantics.Values.html#1438" class="Bound">a</a><a id="1439" class="Symbol">}</a> <a id="1441" href="MJ.Semantics.Values.html#1441" class="Bound">c</a> <a id="1443" class="Symbol">→</a> <a id="1445" href="MJ.Semantics.Values.html#ObjEncoding.Obj" class="Field">Obj</a> <a id="1449" href="MJ.Semantics.Values.html#1434" class="Bound">W</a> <a id="1451" href="MJ.Semantics.Values.html#1441" class="Bound">c</a> <a id="1453" class="Symbol">→</a> <a id="1455" href="MJ.Classtable.Membership.html#747" class="Function">IsMember</a> <a id="1464" href="MJ.Semantics.Values.html#1441" class="Bound">c</a> <a id="1466" href="MJ.Classtable.Core.html#365" class="InductiveConstructor">FIELD</a> <a id="1472" href="MJ.Semantics.Values.html#1436" class="Bound">m</a> <a id="1474" href="MJ.Semantics.Values.html#1438" class="Bound">a</a> <a id="1476" class="Symbol">→</a> <a id="1478" href="MJ.Semantics.Values.html#Val" class="Datatype">Val</a> <a id="1482" href="MJ.Semantics.Values.html#1434" class="Bound">W</a> <a id="1484" href="MJ.Semantics.Values.html#1438" class="Bound">a</a>
    <a id="ObjEncoding.setter" href="MJ.Semantics.Values.html#ObjEncoding.setter" class="Field">setter</a> <a id="1497" class="Symbol">:</a> <a id="1499" class="Symbol">∀</a> <a id="1501" class="Symbol">{</a><a id="1502" href="MJ.Semantics.Values.html#1502" class="Bound">W</a> <a id="1504" href="MJ.Semantics.Values.html#1504" class="Bound">m</a> <a id="1506" href="MJ.Semantics.Values.html#1506" class="Bound">a</a><a id="1507" class="Symbol">}</a> <a id="1509" href="MJ.Semantics.Values.html#1509" class="Bound">c</a> <a id="1511" class="Symbol">→</a> <a id="1513" href="MJ.Semantics.Values.html#ObjEncoding.Obj" class="Field">Obj</a> <a id="1517" href="MJ.Semantics.Values.html#1502" class="Bound">W</a> <a id="1519" href="MJ.Semantics.Values.html#1509" class="Bound">c</a> <a id="1521" class="Symbol">→</a> <a id="1523" href="MJ.Classtable.Membership.html#747" class="Function">IsMember</a> <a id="1532" href="MJ.Semantics.Values.html#1509" class="Bound">c</a> <a id="1534" href="MJ.Classtable.Core.html#365" class="InductiveConstructor">FIELD</a> <a id="1540" href="MJ.Semantics.Values.html#1504" class="Bound">m</a> <a id="1542" href="MJ.Semantics.Values.html#1506" class="Bound">a</a> <a id="1544" class="Symbol">→</a> <a id="1546" href="MJ.Semantics.Values.html#Val" class="Datatype">Val</a> <a id="1550" href="MJ.Semantics.Values.html#1502" class="Bound">W</a> <a id="1552" href="MJ.Semantics.Values.html#1506" class="Bound">a</a> <a id="1554" class="Symbol">→</a> <a id="1556" href="MJ.Semantics.Values.html#ObjEncoding.Obj" class="Field">Obj</a> <a id="1560" href="MJ.Semantics.Values.html#1502" class="Bound">W</a> <a id="1562" href="MJ.Semantics.Values.html#1509" class="Bound">c</a>
    <a id="ObjEncoding.defaultObject" href="MJ.Semantics.Values.html#ObjEncoding.defaultObject" class="Field">defaultObject</a> <a id="1582" class="Symbol">:</a> <a id="1584" class="Symbol">∀</a> <a id="1586" class="Symbol">{</a><a id="1587" href="MJ.Semantics.Values.html#1587" class="Bound">W</a><a id="1588" class="Symbol">}</a> <a id="1590" href="MJ.Semantics.Values.html#1590" class="Bound">c</a> <a id="1592" class="Symbol">→</a> <a id="1594" href="MJ.Semantics.Values.html#ObjEncoding.Obj" class="Field">Obj</a> <a id="1598" href="MJ.Semantics.Values.html#1587" class="Bound">W</a> <a id="1600" href="MJ.Semantics.Values.html#1590" class="Bound">c</a>

  <a id="1605" class="Keyword">data</a> <a id="ObjEncoding.StoreVal" href="MJ.Semantics.Values.html#ObjEncoding.StoreVal" class="Datatype">StoreVal</a> <a id="1619" class="Symbol">(</a><a id="1620" href="MJ.Semantics.Values.html#1620" class="Bound">W</a> <a id="1622" class="Symbol">:</a> <a id="1624" href="MJ.Types.html#World" class="Function">World</a> <a id="1630" href="MJ.Semantics.Values.html#94" class="Bound">c</a><a id="1631" class="Symbol">)</a> <a id="1633" class="Symbol">:</a> <a id="1635" href="MJ.Types.html#Ty%E2%81%BA" class="Datatype">Ty⁺</a> <a id="1639" href="MJ.Semantics.Values.html#94" class="Bound">c</a> <a id="1641" class="Symbol">→</a> <a id="1643" class="PrimitiveType">Set</a> <a id="1647" class="Keyword">where</a>
    <a id="ObjEncoding.StoreVal.val" href="MJ.Semantics.Values.html#ObjEncoding.StoreVal.val" class="InductiveConstructor">val</a> <a id="1661" class="Symbol">:</a> <a id="1663" class="Symbol">∀</a> <a id="1665" class="Symbol">{</a><a id="1666" href="MJ.Semantics.Values.html#1666" class="Bound">ty</a><a id="1668" class="Symbol">}</a> <a id="1670" class="Symbol">→</a> <a id="1672" href="MJ.Semantics.Values.html#Val" class="Datatype">Val</a> <a id="1676" href="MJ.Semantics.Values.html#1620" class="Bound">W</a> <a id="1678" href="MJ.Semantics.Values.html#1666" class="Bound">ty</a> <a id="1681" class="Symbol">→</a> <a id="1683" href="MJ.Semantics.Values.html#ObjEncoding.StoreVal" class="Datatype">StoreVal</a> <a id="1692" href="MJ.Semantics.Values.html#1620" class="Bound">W</a> <a id="1694" class="Symbol">(</a><a id="1695" href="MJ.Types.html#Ty%E2%81%BA.vty" class="InductiveConstructor">vty</a> <a id="1699" href="MJ.Semantics.Values.html#1666" class="Bound">ty</a><a id="1701" class="Symbol">)</a>
    <a id="ObjEncoding.StoreVal.obj" href="MJ.Semantics.Values.html#ObjEncoding.StoreVal.obj" class="InductiveConstructor">obj</a> <a id="1711" class="Symbol">:</a> <a id="1713" class="Symbol">∀</a> <a id="1715" href="MJ.Semantics.Values.html#1715" class="Bound">cid</a> <a id="1719" class="Symbol">→</a> <a id="1721" href="MJ.Semantics.Values.html#ObjEncoding.Obj" class="Field">Obj</a> <a id="1725" href="MJ.Semantics.Values.html#1620" class="Bound">W</a> <a id="1727" href="MJ.Semantics.Values.html#1715" class="Bound">cid</a> <a id="1731" class="Symbol">→</a> <a id="1733" href="MJ.Semantics.Values.html#ObjEncoding.StoreVal" class="Datatype">StoreVal</a> <a id="1742" href="MJ.Semantics.Values.html#1620" class="Bound">W</a> <a id="1744" class="Symbol">(</a><a id="1745" href="MJ.Types.html#Ty%E2%81%BA.obj" class="InductiveConstructor">obj</a> <a id="1749" href="MJ.Semantics.Values.html#1715" class="Bound">cid</a><a id="1752" class="Symbol">)</a>

  <a id="ObjEncoding.Store" href="MJ.Semantics.Values.html#ObjEncoding.Store" class="Function">Store</a> <a id="1763" class="Symbol">:</a> <a id="1765" href="MJ.Types.html#World" class="Function">World</a> <a id="1771" href="MJ.Semantics.Values.html#94" class="Bound">c</a> <a id="1773" class="Symbol">→</a> <a id="1775" class="PrimitiveType">Set</a>
  <a id="1781" href="MJ.Semantics.Values.html#ObjEncoding.Store" class="Function">Store</a> <a id="1787" href="MJ.Semantics.Values.html#1787" class="Bound">W</a> <a id="1789" class="Symbol">=</a> <a id="1791" href="Data.List.All.html#All" class="Datatype">All</a> <a id="1795" class="Symbol">(</a><a id="1796" href="MJ.Semantics.Values.html#ObjEncoding.StoreVal" class="Datatype">StoreVal</a> <a id="1805" href="MJ.Semantics.Values.html#1787" class="Bound">W</a><a id="1806" class="Symbol">)</a> <a id="1808" href="MJ.Semantics.Values.html#1787" class="Bound">W</a>

<a id="1811" class="Comment">--</a>
<a id="1814" class="Comment">-- weakening</a>
<a id="1827" class="Comment">--</a>

<a id="weaken-val" href="MJ.Semantics.Values.html#weaken-val" class="Function">weaken-val</a> <a id="1842" class="Symbol">:</a> <a id="1844" class="Symbol">∀</a> <a id="1846" class="Symbol">{</a><a id="1847" href="MJ.Semantics.Values.html#1847" class="Bound">a</a><a id="1848" class="Symbol">}{</a><a id="1850" href="MJ.Semantics.Values.html#1850" class="Bound">W</a> <a id="1852" href="MJ.Semantics.Values.html#1852" class="Bound">W&#39;</a> <a id="1855" class="Symbol">:</a> <a id="1857" href="MJ.Types.html#World" class="Function">World</a> <a id="1863" href="MJ.Semantics.Values.html#94" class="Bound">c</a><a id="1864" class="Symbol">}</a> <a id="1866" class="Symbol">→</a> <a id="1868" href="MJ.Semantics.Values.html#1850" class="Bound">W</a> <a id="1870" href="Data.List.Prefix.html#_%E2%8A%92_" class="Function Operator">⊒</a> <a id="1872" href="MJ.Semantics.Values.html#1852" class="Bound">W&#39;</a> <a id="1875" class="Symbol">→</a> <a id="1877" href="MJ.Semantics.Values.html#Val" class="Datatype">Val</a> <a id="1881" href="MJ.Semantics.Values.html#1852" class="Bound">W&#39;</a> <a id="1884" href="MJ.Semantics.Values.html#1847" class="Bound">a</a> <a id="1886" class="Symbol">→</a> <a id="1888" href="MJ.Semantics.Values.html#Val" class="Datatype">Val</a> <a id="1892" href="MJ.Semantics.Values.html#1850" class="Bound">W</a> <a id="1894" href="MJ.Semantics.Values.html#1847" class="Bound">a</a>
<a id="1896" href="MJ.Semantics.Values.html#weaken-val" class="Function">weaken-val</a> <a id="1907" href="MJ.Semantics.Values.html#1907" class="Bound">ext</a> <a id="1911" class="Symbol">(</a><a id="1912" href="MJ.Semantics.Values.html#Val.num" class="InductiveConstructor">num</a> <a id="1916" href="MJ.Semantics.Values.html#1916" class="Bound">n</a><a id="1917" class="Symbol">)</a> <a id="1919" class="Symbol">=</a> <a id="1921" href="MJ.Semantics.Values.html#Val.num" class="InductiveConstructor">num</a> <a id="1925" href="MJ.Semantics.Values.html#1916" class="Bound">n</a>
<a id="1927" href="MJ.Semantics.Values.html#weaken-val" class="Function">weaken-val</a> <a id="1938" href="MJ.Semantics.Values.html#1938" class="Bound">ext</a> <a id="1942" href="MJ.Semantics.Values.html#Val.unit" class="InductiveConstructor">unit</a> <a id="1947" class="Symbol">=</a> <a id="1949" href="MJ.Semantics.Values.html#Val.unit" class="InductiveConstructor">unit</a>
<a id="1954" href="MJ.Semantics.Values.html#weaken-val" class="Function">weaken-val</a> <a id="1965" href="MJ.Semantics.Values.html#1965" class="Bound">ext</a> <a id="1969" href="MJ.Semantics.Values.html#Val.null" class="InductiveConstructor">null</a> <a id="1974" class="Symbol">=</a> <a id="1976" href="MJ.Semantics.Values.html#Val.null" class="InductiveConstructor">null</a>
<a id="1981" href="MJ.Semantics.Values.html#weaken-val" class="Function">weaken-val</a> <a id="1992" href="MJ.Semantics.Values.html#1992" class="Bound">ext</a> <a id="1996" class="Symbol">(</a><a id="1997" href="MJ.Semantics.Values.html#Val.ref" class="InductiveConstructor">ref</a> <a id="2001" href="MJ.Semantics.Values.html#2001" class="Bound">x</a> <a id="2003" href="MJ.Semantics.Values.html#2003" class="Bound">sub</a><a id="2006" class="Symbol">)</a> <a id="2008" class="Symbol">=</a> <a id="2010" href="MJ.Semantics.Values.html#Val.ref" class="InductiveConstructor">ref</a> <a id="2014" class="Symbol">(</a><a id="2015" href="Data.List.Prefix.html#%E2%88%88-%E2%8A%92" class="Function">∈-⊒</a> <a id="2019" href="MJ.Semantics.Values.html#2001" class="Bound">x</a> <a id="2021" href="MJ.Semantics.Values.html#1992" class="Bound">ext</a><a id="2024" class="Symbol">)</a> <a id="2026" href="MJ.Semantics.Values.html#2003" class="Bound">sub</a>

<a id="2031" class="Keyword">instance</a>

  <a id="val-weakenable" href="MJ.Semantics.Values.html#val-weakenable" class="Function">val-weakenable</a> <a id="2058" class="Symbol">:</a> <a id="2060" class="Symbol">∀</a> <a id="2062" class="Symbol">{</a><a id="2063" href="MJ.Semantics.Values.html#2063" class="Bound">a</a><a id="2064" class="Symbol">}</a> <a id="2066" class="Symbol">→</a> <a id="2068" href="Common.Weakening.html#Weakenable" class="Record">Weakenable</a> <a id="2079" class="Symbol">(λ</a> <a id="2082" href="MJ.Semantics.Values.html#2082" class="Bound">W</a> <a id="2084" class="Symbol">→</a> <a id="2086" href="MJ.Semantics.Values.html#Val" class="Datatype">Val</a> <a id="2090" href="MJ.Semantics.Values.html#2082" class="Bound">W</a> <a id="2092" href="MJ.Semantics.Values.html#2063" class="Bound">a</a><a id="2093" class="Symbol">)</a>
  <a id="2097" href="MJ.Semantics.Values.html#val-weakenable" class="Function">val-weakenable</a> <a id="2112" class="Symbol">=</a> <a id="2114" class="Keyword">record</a> <a id="2121" class="Symbol">{</a> <a id="2123" class="Field">wk</a> <a id="2126" class="Symbol">=</a> <a id="2128" href="MJ.Semantics.Values.html#weaken-val" class="Function">weaken-val</a> <a id="2139" class="Symbol">}</a>

  <a id="list-weakenable" href="MJ.Semantics.Values.html#list-weakenable" class="Function">list-weakenable</a> <a id="2160" class="Symbol">:</a> <a id="2162" class="Symbol">∀</a> <a id="2164" class="Symbol">{</a><a id="2165" href="MJ.Semantics.Values.html#2165" class="Bound">a</a><a id="2166" class="Symbol">}{</a><a id="2168" href="MJ.Semantics.Values.html#2168" class="Bound">A</a> <a id="2170" class="Symbol">:</a> <a id="2172" href="MJ.Types.html#World" class="Function">World</a> <a id="2178" href="MJ.Semantics.Values.html#94" class="Bound">c</a> <a id="2180" class="Symbol">→</a> <a id="2182" class="PrimitiveType">Set</a> <a id="2186" href="MJ.Semantics.Values.html#2165" class="Bound">a</a><a id="2187" class="Symbol">}⦃</a> <a id="2190" href="MJ.Semantics.Values.html#2190" class="Bound">wₐ</a> <a id="2193" class="Symbol">:</a> <a id="2195" href="Common.Weakening.html#Weakenable" class="Record">Weakenable</a> <a id="2206" href="MJ.Semantics.Values.html#2168" class="Bound">A</a> <a id="2208" class="Symbol">⦄</a> <a id="2210" class="Symbol">→</a> <a id="2212" href="Common.Weakening.html#Weakenable" class="Record">Weakenable</a> <a id="2223" class="Symbol">(λ</a> <a id="2226" href="MJ.Semantics.Values.html#2226" class="Bound">W</a> <a id="2228" class="Symbol">→</a> <a id="2230" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="2235" class="Symbol">(</a><a id="2236" href="MJ.Semantics.Values.html#2168" class="Bound">A</a> <a id="2238" href="MJ.Semantics.Values.html#2226" class="Bound">W</a><a id="2239" class="Symbol">))</a>
  <a id="2244" href="MJ.Semantics.Values.html#list-weakenable" class="Function">list-weakenable</a> <a id="2260" class="Symbol">⦃</a> <a id="2262" href="MJ.Semantics.Values.html#2262" class="Bound">wₐ</a> <a id="2265" class="Symbol">⦄</a> <a id="2267" class="Symbol">=</a> <a id="2269" class="Keyword">record</a> <a id="2276" class="Symbol">{</a><a id="2277" class="Field">wk</a> <a id="2280" class="Symbol">=</a> <a id="2282" class="Symbol">λ</a> <a id="2284" href="MJ.Semantics.Values.html#2284" class="Bound">ext</a> <a id="2288" href="MJ.Semantics.Values.html#2288" class="Bound">v</a> <a id="2290" class="Symbol">→</a> <a id="2292" href="Data.List.Base.html#map" class="Function">List.map</a> <a id="2301" class="Symbol">(</a><a id="2302" href="Common.Weakening.html#228" class="Field">wk</a> <a id="2305" href="MJ.Semantics.Values.html#2284" class="Bound">ext</a><a id="2308" class="Symbol">)</a> <a id="2310" href="MJ.Semantics.Values.html#2288" class="Bound">v</a> <a id="2312" class="Symbol">}</a>

  <a id="list∀-weakenable" href="MJ.Semantics.Values.html#list%E2%88%80-weakenable" class="Function">list∀-weakenable</a> <a id="2334" class="Symbol">:</a> <a id="2336" class="Symbol">∀</a> <a id="2338" class="Symbol">{</a><a id="2339" href="MJ.Semantics.Values.html#2339" class="Bound">b</a><a id="2340" class="Symbol">}{</a><a id="2342" href="MJ.Semantics.Values.html#2342" class="Bound">B</a> <a id="2344" class="Symbol">:</a> <a id="2346" class="PrimitiveType">Set</a> <a id="2350" href="MJ.Semantics.Values.html#2339" class="Bound">b</a><a id="2351" class="Symbol">}{</a><a id="2353" href="MJ.Semantics.Values.html#2353" class="Bound">xs</a> <a id="2356" class="Symbol">:</a> <a id="2358" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="2363" href="MJ.Semantics.Values.html#2342" class="Bound">B</a><a id="2364" class="Symbol">}</a>
                     <a id="2387" class="Symbol">{</a><a id="2388" href="MJ.Semantics.Values.html#2388" class="Bound">a</a><a id="2389" class="Symbol">}{</a><a id="2391" href="MJ.Semantics.Values.html#2391" class="Bound">A</a> <a id="2393" class="Symbol">:</a> <a id="2395" href="MJ.Semantics.Values.html#2342" class="Bound">B</a> <a id="2397" class="Symbol">→</a> <a id="2399" href="MJ.Types.html#World" class="Function">World</a> <a id="2405" href="MJ.Semantics.Values.html#94" class="Bound">c</a> <a id="2407" class="Symbol">→</a> <a id="2409" class="PrimitiveType">Set</a> <a id="2413" href="MJ.Semantics.Values.html#2388" class="Bound">a</a><a id="2414" class="Symbol">}⦃</a> <a id="2417" href="MJ.Semantics.Values.html#2417" class="Bound">wₐ</a> <a id="2420" class="Symbol">:</a> <a id="2422" class="Symbol">∀</a> <a id="2424" href="MJ.Semantics.Values.html#2424" class="Bound">x</a> <a id="2426" class="Symbol">→</a> <a id="2428" href="Common.Weakening.html#Weakenable" class="Record">Weakenable</a> <a id="2439" class="Symbol">(</a><a id="2440" href="MJ.Semantics.Values.html#2391" class="Bound">A</a> <a id="2442" href="MJ.Semantics.Values.html#2424" class="Bound">x</a><a id="2443" class="Symbol">)</a> <a id="2445" class="Symbol">⦄</a> <a id="2447" class="Symbol">→</a>
                     <a id="2470" href="Common.Weakening.html#Weakenable" class="Record">Weakenable</a> <a id="2481" class="Symbol">(λ</a> <a id="2484" href="MJ.Semantics.Values.html#2484" class="Bound">W</a> <a id="2486" class="Symbol">→</a> <a id="2488" href="Data.List.All.html#All" class="Datatype">All</a> <a id="2492" class="Symbol">(λ</a> <a id="2495" href="MJ.Semantics.Values.html#2495" class="Bound">x</a> <a id="2497" class="Symbol">→</a> <a id="2499" href="MJ.Semantics.Values.html#2391" class="Bound">A</a> <a id="2501" href="MJ.Semantics.Values.html#2495" class="Bound">x</a> <a id="2503" href="MJ.Semantics.Values.html#2484" class="Bound">W</a><a id="2504" class="Symbol">)</a> <a id="2506" href="MJ.Semantics.Values.html#2353" class="Bound">xs</a><a id="2508" class="Symbol">)</a>
  <a id="2512" href="MJ.Semantics.Values.html#list%E2%88%80-weakenable" class="Function">list∀-weakenable</a> <a id="2529" class="Symbol">⦃</a> <a id="2531" href="MJ.Semantics.Values.html#2531" class="Bound">wₐ</a> <a id="2534" class="Symbol">⦄</a> <a id="2536" class="Symbol">=</a> <a id="2538" class="Keyword">record</a> <a id="2545" class="Symbol">{</a> <a id="2547" class="Field">wk</a> <a id="2550" class="Symbol">=</a> <a id="2552" class="Symbol">λ</a> <a id="2554" href="MJ.Semantics.Values.html#2554" class="Bound">ext</a> <a id="2558" href="MJ.Semantics.Values.html#2558" class="Bound">v</a> <a id="2560" class="Symbol">→</a> <a id="2562" href="Data.List.All.html#map" class="Function">List∀.map</a> <a id="2572" class="Symbol">(λ</a> <a id="2575" href="MJ.Semantics.Values.html#2575" class="Bound">y</a> <a id="2577" class="Symbol">→</a> <a id="2579" href="Common.Weakening.html#228" class="Field">wk</a> <a id="2582" class="Symbol">⦃</a> <a id="2584" href="MJ.Semantics.Values.html#2531" class="Bound">wₐ</a> <a id="2587" class="Symbol">_</a> <a id="2589" class="Symbol">⦄</a> <a id="2591" href="MJ.Semantics.Values.html#2554" class="Bound">ext</a> <a id="2595" href="MJ.Semantics.Values.html#2575" class="Bound">y</a><a id="2596" class="Symbol">)</a> <a id="2598" href="MJ.Semantics.Values.html#2558" class="Bound">v</a> <a id="2600" class="Symbol">}</a>

</pre></body></html>